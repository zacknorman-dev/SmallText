[KB-READ] I2C byte: 0xB7 (183)

[Keyboard] RIGHT pressed

[ConversationList] Loading village from slot 0: Rex

[Village] Loading from /village_0.dat...

[Village] File size: 234 bytes

[Village] JSON parsed successfully

[25840] INFO: Rebuilt message ID cache: 22 messages

[Settings] Saved current village slot: 0

[MQTT] Active village set to: Rex

[ConversationList] Active village: Rex

[UI] Starting full refresh for conversation menu...

_Update_Full : 3259998

[UI] Full refresh complete for conversation menu

[MQTT] Active village set to: Rex

[Loop] Active village set to: Rex

[App] Periodic sync check

[30009] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[30555] INFO: File stats: total=22 empty=0 parseErr=0 matched=22

[30555] INFO: Loaded 22 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[Village] Loaded 22 messages (sorted by timestamp)

[MQTT] Sync request payload: {"mac":"f8c43bba2010","timestamp":1766185855}

[MQTT] Publishing sync request to: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/sync-request/f8c43bba2010

[MQTT] Sync request sent (QoS 1, will receive all messages, dedup on receive)

[30562] INFO: Sync request sent

[App] Periodic sync requested (last message: 1766185855)

[30562] INFO: Periodic sync requested

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/sync-request/f8c43bba2010 len=73 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/sync-request/f8c43bba2010 (uptime: 30814ms)

[MQTT] seenMessageIds size: 0

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Received sync request for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted sync request: {"mac":"f8c43bba2010","timestamp":1766185855}

[MQTT] Sync request from f8c43bba2010 for messages after timestamp 1766185855

[30815] INFO: Sync from f8c43bba2010 ts=1766185855

[Sync] Request from f8c43bba2010 for messages after timestamp: 1766185855

[30815] INFO: Sync from f8c43bba2010 (after t=1766185855)

[Sync] Ignoring sync request from self

[MQTT] Message published successfully, msg_id=8023
[MQTT] EVENT_DATA: topic=smoltxt/f8c43bba2010/sync-response len=257 session_present=1
[MQTT] Received on topic: smoltxt/f8c43bba2010/sync-response (uptime: 31326ms)

[MQTT] seenMessageIds size: 0

[MQTT] ============================================

[MQTT] SYNC RESPONSE RECEIVED - length=257 bytes

[MQTT] ============================================

[MQTT] Decrypting sync response...

[31326] INFO: Sync response received: 257 bytes

[MQTT] Decrypted sync response: {"messages":[{"sender":"Rex","senderMAC":"e4cc3bba2010","content":"1234","timestamp":1766185855,"mes...

[MQTT] Sync phase 1 batch 1/1

[31328] INFO: Sync phase 1 batch 1/1

[MQTT] Sync Phase 1 started (recent 20 messages) - disabling status updates

[MQTT] Stored sync target MAC: e4cc3bba2010 for background phases

[MQTT] Sending ACK for synced message: 0000e3ff00000007

[MQTT] Synced message: 0000e3ff00000007 from Rex content='1234'

[Message] From Rex: 1234 (village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[Power] Activity timer reset - message received

[SYNC DEBUG] Receiving msg: ID=0000e3ff00000007 from=Rex isNew=NO phase=1

[Message] Background sync or duplicate - silent save only (no UI update)

[31399] INFO: Duplicate message skipped (exact match): id=0000e3ff00000007 sender=Rex

[Message] Duplicate message - skipping all processing

[MQTT] Phase 1 complete - processed 1 messages

[31406] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[32001] INFO: File stats: total=22 empty=0 parseErr=0 matched=22

[32001] INFO: Loaded 22 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[Village] Loaded 22 messages (sorted by timestamp)

========================================

[SYNC DEBUG] Device f8c43bba2010 AFTER Phase 1 complete

[SYNC DEBUG] Total messages in storage NOW: 22

[SYNC DEBUG] Message IDs NOW in store (chronological order):

  [0] ID=000508e00000000e from=Archer time=1765325129 status=1

  [1] ID=0002b40c0000004a from=SmolTxt time=1766168672 status=3

  [2] ID=000343f300000001 from=SmolTxt time=1766168706 status=3

  [3] ID=0003a37500000005 from=Archer time=1766168730 status=3

  [4] ID=0003ce3a0000004f from=Rex time=1766168743 status=3

  [5] ID=00042ed600000050 from=Rex time=1766168768 status=3

  [6] ID=0004775b00000004 from=Archer time=1766182279 status=3

  [7] ID=0004e57400000004 from=Rex time=1766182305 status=3

  [8] ID=000593db00000007 from=Archer time=1766182352 status=3

  [9] ID=0000e6dd00000005 from=Rex time=1766183509 status=3

  [10] ID=000123e800000006 from=Archer time=1766183522 status=3

  [11] ID=00018a4100000008 from=Rex time=1766183551 status=3

  [12] ID=00031c3700000009 from=Rex time=1766183653 status=3

  [13] ID=0002083300000008 from=Rex time=1766183801 status=3

  [14] ID=0002afc400000009 from=Rex time=1766183844 status=3

  [15] ID=0003a8fa0000000a from=Rex time=1766183907 status=3

  [16] ID=0003d2440000000b from=Rex time=1766183919 status=3

  [17] ID=0006c84e0000000a from=Rex time=1766185049 status=3

  [18] ID=00010daa00000005 from=Rex time=1766185666 status=3

  [19] ID=0001587f00000017 from=Archer time=1766185684 status=3

  [20] ID=0001c75b00000008 from=Rex time=1766185714 status=3

  [21] ID=0000e3ff00000007 from=Rex time=1766185855 status=2

[SYNC DEBUG] UI message count: 0

========================================

[MQTT] Phase 1 complete - recent messages synced, re-enabled status updates

[32004] INFO: Phase 1 complete: 1 recent msgs

[Callback] Boot sync complete - setting flag

[Sync] Post-sync cleanup: Checking for messages stuck at status 1

[32015] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[32077] INFO: Loaded 22 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[Village] Loaded 22 messages (sorted by timestamp)

[Sync] Post-sync cleanup: All message statuses correct

[MQTT] Boot sync complete callback fired

[MQTT] Sync fully complete - no more history

[MQTT] Processed 1 synced messages in phase 1

[32078] INFO: Synced 1 messages

[MQTT] Message published successfully, msg_id=4220
[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 32350ms)

[MQTT] seenMessageIds size: 0

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:00007a6000000001:0000e3ff00000007:0:0

[MQTT] NEW message: 00007a6000000001 - adding to seenMessageIds (size: 0)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/sync-request/e4cc3bba2010 len=73 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/sync-request/e4cc3bba2010 (uptime: 32356ms)

[MQTT] seenMessageIds size: 1

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Received sync request for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted sync request: {"mac":"e4cc3bba2010","timestamp":1766185855}

[MQTT] Sync request from e4cc3bba2010 for messages after timestamp 1766185855

[32357] INFO: Sync from e4cc3bba2010 ts=1766185855

[Sync] Request from e4cc3bba2010 for messages after timestamp: 1766185855

[32357] INFO: Sync from e4cc3bba2010 (after t=1766185855)

[32370] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[32976] INFO: File stats: total=22 empty=0 parseErr=0 matched=22

[32976] INFO: Loaded 22 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[Village] Loaded 22 messages (sorted by timestamp)

[Sync] DEBUG: Filtering 22 messages

[Sync] DEBUG: msg.id=000508e00000000e ts=1765325129 vs requested=1766185855 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=0002b40c0000004a ts=1766168672 vs requested=1766185855 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=000343f300000001 ts=1766168706 vs requested=1766185855 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=0003a37500000005 ts=1766168730 vs requested=1766185855 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=0003ce3a0000004f ts=1766168743 vs requested=1766185855 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=00042ed600000050 ts=1766168768 vs requested=1766185855 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=0004775b00000004 ts=1766182279 vs requested=1766185855 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=0004e57400000004 ts=1766182305 vs requested=1766185855 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=000593db00000007 ts=1766182352 vs requested=1766185855 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=0000e6dd00000005 ts=1766183509 vs requested=1766185855 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=000123e800000006 ts=1766183522 vs requested=1766185855 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=00018a4100000008 ts=1766183551 vs requested=1766185855 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=00031c3700000009 ts=1766183653 vs requested=1766185855 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=0002083300000008 ts=1766183801 vs requested=1766185855 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=0002afc400000009 ts=1766183844 vs requested=1766185855 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=0003a8fa0000000a ts=1766183907 vs requested=1766185855 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=0003d2440000000b ts=1766183919 vs requested=1766185855 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=0006c84e0000000a ts=1766185049 vs requested=1766185855 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=00010daa00000005 ts=1766185666 vs requested=1766185855 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=0001587f00000017 ts=1766185684 vs requested=1766185855 isEmpty=0

[Sync]66185714 vs requested=1766185855 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=0000e3ff00000ted=1766185855 isEmpty=0

[Sync] DEBUG: INCLUDED

=====================

[SYNC] Device f8c43bba2010 

[SYNC] Total messages in storage: 22

[SYNC] Messages afters:

  [0] ID=0000e3ff00000007 from=Rex time=1766185855 status=2

=================================] INFO: Sync: Sending 1 

[MQTT] Sync Phase 1: Sending 1 messages (0-0 of 1) to e4cc3bba2010

[32981] INFO: Sync phase 1: 1 msgs

[MQTT] Phase 1 batch 1/1 sent

[32988] INFO: Sync batch 1 sent

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/sync-request/e4cc3bba2010 len=73 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/sync-request/e4cc3bba2010 (uptime: 33091ms)

[MQTT] seenMessageIds size: 1

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63e1b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted sync request: {"mac":"e4cc3bba2010","timestamp":1766185855}

[MQTT] Sync request from e4cc3bba2010 for messages after timesta] INFO: Sync from e4cc3bba2010 ts=176

766185855

[3309INFO: Sync from e4cc3bba2010 (after t=1766185855)

[33106] INFO: Loading messag7a5-63ec6a8e5d53

[33174] INFO: File stats: total=22 empty=0 parseErr=0 matched=22

[33174] INFO: Loaded 22 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[Village] Loaded 22 messages (sorted by timestamp)

[Sync] DEBUG: Filtering 22 messages

[Sync] DEBUG: msg.id=000508e00000000e ts=1765325129 vs requested=1766185855 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=0002b40c0000004a ts=1766168672 vs requested=1766185855 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=000343f300000001 ts=1766168706 vs requested=1766185855 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=0003a37500000005 ts=1766168730 vs requested=1766185855 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=0003ce3a0000004f ts=1766168743 vs requested=1766185855 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=00042ed600000050 ts=1766168768 vs requested=1766185855 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=0004775b00000004 ts=1766182279 vs requested=1766185855 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=0004e57400000004 ts=1766182305 vs requested=1766185855 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=000593db00000007 ts=1766182352 vs requested=1766185855 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=0000e6dd00000005 ts=1766183509 vs requested=1766185855 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=000123e800000006 ts=1766183522 vs requested=1766185855 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=00018a4100000008 ts=1766183551 vs requested=1766185855 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=00031c3700000009 ts=1766183653 vs requested=1766185855 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=0002083300000008 ts=1766183801 vs requested=1766185855 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=0002afc400000009 ts=1766183844 vs requested=1766185855 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=0003a8fa0000000a ts=1766183907 vs requested=1766185855 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=0003d2440000000b ts=1766183919 vs requested=1766185855 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=0006c84e0000000a ts=1766185049 vs requested=1766185855 isEmpty=0

[Syn=1766185855 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=0001587f00000017 ts=1766185684 vs requested=1766185855 isEmpty= SKIPPED

[Sync] requested=1766185855 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=0000e3ff00000007 ts=1766185855 vs requested=1766185855 isEmpty=0

[Sync] DEBUG: INCLUDED

========================================

[SYNC] Device f8c43bba2010 sending t[SYNC] Total messages in storage: 22

[SYN66185855: 1

[SYNC] Sending message IDs:

  [0========================================

[33718] INFO: Sync: Sending 1 msgs to e4cc3bba2010

[33719] INFO: Log buffer pruned, removed 125 old entries

10

[33719] INFO: Sync phase 1: 1 msgs

[MQTT] Phase 1 batch 1/1 sent

[33726] INFO: Sync batch 1 sent

[MQTT] Message published successfully, msg_id=12798
[MQTT] Message published successfully, msg_id=10976
[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/f8c43bba2010 len=136 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/f8c43bba2010 (uptime: 34194ms)

[MQTT] seenMessageIds size: 1

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:f8c43bba2010:Rex:e4cc3bba2010:00007ee900000001:0003a37500000005:0:0

[MQTT] NEW message: 00007ee900000001 - adding to seenMessageIds (size: 1)

[MQTT] Received ACK for message: 0003a37500000005

[Message] ACK received for: 0003a37500000005 from e4cc3bba2010

[34284] INFO: Skipping status update for 0003a37500000005 - current status 3 >= new status 2

[DEBUG] ACK storage update result: SUCCESS

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/f8c43bba2010 len=136 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/f8c43bba2010 (uptime: 34711ms)

[MQTT] seenMessageIds size: 2

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:f8c43bba2010:Rex:e4cc3bba2010:00007eee00000002:0004775b00000004:0:0

[MQTT] NEW message: 00007eee00000002 - adding to seenMessageIds (size: 2)

[MQTT] Received ACK for message: 0004775b00000004

[Message] ACK received for: 0004775b00000004 from e4cc3bba2010

[34789] INFO: Skipping status update for 0004775b00000004 - current status 3 >= new status 2

[DEBUG] ACK storage update result: SUCCESS

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/f8c43bba2010 len=136 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/f8c43bba2010 (uptime: 34793ms)

[MQTT] seenMessageIds size: 3

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:f8c43bba2010:Rex:e4cc3bba2010:00007ef300000003:000593db00000007:0:0

[MQTT] NEW message: 00007ef300000003 - adding to seenMessageIds (size: 3)

[MQTT] Received ACK for message: 000593db00000007

[Message] ACK received for: 000593db00000007 from e4cc3bba2010

[34869] INFO: Skipping status update for 000593db00000007 - current status 3 >= new status 2

[DEBUG] ACK storage update result: SUCCESS

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/f8c43bba2010 len=136 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/f8c43bba2010 (uptime: 34872ms)

[MQTT] seenMessageIds size: 4

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:f8c43bba2010:Rex:e4cc3bba2010:00007ef800000004:000123e800000006:0:0

[MQTT] NEW message: 00007ef800000004 - adding to seenMessageIds (size: 4)

[MQTT] Received ACK for message: 000123e800000006

[Message] ACK received for: 000123e800000006 from e4cc3bba2010

[KB-READ] I2C byte: 0xB7 (183)

[Keyboard] RIGHT pressed

[App] ===== ENTERING MESSAGING SCREEN =====

[App] Messages in history: 0

[34953] INFO: Skipping status update for 000123e800000006 - current status 3 >= new status 2

[DEBUG] ACK storage update result: SUCCESS

[UI] ACK received while viewing messages - reloading from storage

[34973] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[35038] INFO: File stats: total=22 empty=0 parseErr=0 matched=22

[35039] INFO: Loaded 22 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[Village] Loaded 22 messages (sorted by timestamp)

[DEBUG] Loaded 22 total messages from storage

[DEBUG] Target message status after reload: 3 (should be 2)

[DEBUG] startIndex=0, will load indices 0 to 21

[UI] Message added. Total: 1

[UI] Message added. Total: 2

[UI] Message added. Total: 3

[UI] Message added. Total: 4

[UI] Message added. Total: 5

[UI] Message added. Total: 6

[UI] Message added. Total: 7

[UI] Message added. Total: 8

[UI] Message added. Total: 9

[UI] Message added. Total: 10

[UI] Message added. Total: 11

[UI] Message added. Total: 12

[UI] Message added. Total: 13

[UI] Message added. Total: 14

[UI] Message added. Total: 15

[UI] Message added. Total: 16

[UI] Message added. Total: 17

[UI] Message added. Total: 18

[UI] Message added. Total: 19

[UI] Message added. Total: 20

[UI] Message added. Total: 21

[UI] Message added. Total: 22

[UI] Reloaded 22 messages with updated status

[UI] Drawing messaging. History size: 22

[35149] INFO: File stats: total=22 empty=0 parseErr=0 matched=22

[35150] INFO: Loaded 22 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[Village] Loaded 22 messages (sorted by timestamp)

[Perf] Loaded 22 messages in 273ms

[Sync] Requesting background sync: last timestamp=1766185855

[MQTT] Sync request payload: {"mac":"f8c43bba2010","timestamp":1766185855}

[MQTT] Publishing sync request to: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/sync-request/f8c43bba2010

_Update_Part : 767456

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/f8c43bba2010 len=136 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/f8c43bba2010 (uptime: 35881ms)

[MQTT] seenMessageIds size: 5

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:f8c43bba2010:Rex:e4cc3bba2010:00007efd00000005:0001587f00000017:0:0

[MQTT] NEW message: 00007efd00000005 - adding to seenMessageIds (size: 5)

[MQTT] Received ACK for message: 0001587f00000017

[Message] ACK received for: 0001587f00000017 from e4cc3bba2010

[35953] INFO: Skipping status update for 0001587f00000017 - current status 3 >= new status 2

[DEBUG] ACK storage update result: SUCCESS

[UI] ACK received while viewing messages - reloading from storage

[36389] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[36455] INFO: File stats: total=22 empty=0 parseErr=0 matched=22

[36455] INFO: Loaded 22 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[Village] Loaded 22 messages (sorted by timestamp)

[DEBUG] Loaded 22 total messages from storage

[DEBUG] Target message status after reload: 3 (should be 2)

[DEBUG] startIndex=0, will load indices 0 to 21

[UI] Message added. Total: 1

[UI] Message added. Total: 2

[UI] Message added. Total: 3

[UI] Message added. Total: 4

[UI] Message added. Total: 5

[UI] Message added. Total: 6

[UI] Message added. Total: 7

[UI] Message added. Total: 8

[UI] Message added. Total: 9

[UI] Message added. Total: 10

[UI] Message added. Total: 11

[UI] Message added. Total: 12

[UI] Message added. Total: 13

[UI] Message added. Total: 14

[UI] Message added. Total: 15

[UI] Message added. Total: 16

[UI] Message added. Total: 17

[UI] Message added. Total: 18

[UI] Message added. Total: 19

[UI] Message added. Total: 20

[UI] Message added. Total: 21

[UI] Message added. Total: 22

[UI] Reloaded 22 messages with updated status

[UI] Drawing messaging. History size: 22

_Update_Part : 767000

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/f8c43bba2010 len=136 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/f8c43bba2010 (uptime: 37296ms)

[MQTT] seenMessageIds size: 6

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:f8c43bba2010:Rex:e4cc3bba2010:00007efd00000005:0001587f00000017:0:0

[MQTT] Duplicate message, ignoring: 00007efd00000005 (in seenMessageIds cache)

[MQTT] Sync request sent (QoS 1, will receive all messages, dedup on receive)

[37300] INFO: Sync request sent

[UI] Message added. Total: 23

[UI] Message added. Total: 24

[UI] Message added. Total: 25

[UI] Message added. Total: 26

[UI] Message added. Total: 27

[UI] Message added. Total: 28

[UI] Message added. Total: 29

[UI] Message added. Total: 30

[UI] Message added. Total: 31

[UI] Message added. Total: 32

[UI] Message added. Total: 33

[UI] Message added. Total: 34

[UI] Message added. Total: 35

[UI] Message added. Total: 36

[UI] Message added. Total: 37

[UI] Message added. Total: 38

[UI] Message added. Total: 39

[UI] Message added. Total: 40

[UI] Message added. Total: 41

[UI] Message added. Total: 42

[UI] Message added. Total: 43

[UI] Message added. Total: 44

[Perf] Added 22 messages to UI in 3ms

[MarkRead] ===== STARTING markVisibleMessagesAsRead_Optimized() =====

[MarkRead] Village initialized: YES

[MarkRead] Current state - appState: 31, inMessagingScreen: 1

[MarkRead] Using pre-loaded messages (count: 22)

[37322] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/sync-request/f8c43bba2010 len=73 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/sync-request/f8c43bba2010 (uptime: 37675ms)

[MQTT] seenMessageIds size: 6

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Received sync request for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted sync request: {"mac":"f8c43bba2010","timestamp":1766185855}

[MQTT] Sync request from f8c43bba2010 for messages after timestamp 1766185855

[37677] INFO: Sync from f8c43bba2010 ts=1766185855

[Sync] Request from f8c43bba2010 for messages after timestamp: 1766185855

[37677] INFO: Sync from f8c43bba2010 (after t=1766185855)

[Sync] Ignoring sync request from self

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 37680ms)

[MQTT] seenMessageIds size: 6

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:0000920d00000002:0003ce3a0000004f:0:0

[MQTT] NEW message: 0000920d00000002 - adding to seenMessageIds (size: 6)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 37685ms)

[MQTT] seenMessageIds size: 7

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:0000921200000003:00042ed600000050:0:0

[MQTT] NEW message: 0000921200000003 - adding to seenMessageIds (size: 7)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 37689ms)

[MQTT] seenMessageIds size: 8

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:0000921700000004:0004e57400000004:0:0

[MQTT] NEW message: 0000921700000004 - adding to seenMessageIds (size: 8)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 37693ms)

[MQTT] seenMessageIds size: 9

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:0000921c00000005:0000e6dd00000005:0:0

[MQTT] NEW message: 0000921c00000005 - adding to seenMessageIds (size: 9)

[MQTT] Message published successfully, msg_id=649
[MQTT] Message published successfully, msg_id=12647
[MQTT] Message published successfully, msg_id=2881
[MQTT] Message published successfully, msg_id=5333
[MQTT] Message published successfully, msg_id=20927
[App] Sent 14 pending ACKs for sync'd messages

[MarkRead] Will check messages from index 0 to 21

[MarkRead] [0] id=000508e00000000e, content='666', received=0, status=1, senderMAC=f8c43bba2010

[MarkRead]   -> SKIP: Sent by me (received=false)

[MarkRead] [1] id=0002b40c0000004a, content='Rex joined the conve', received=1, status=3, senderMAC=system

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [2] id=000343f300000001, content='Archer joined the co', received=1, status=3, senderMAC=system

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [3] id=0003a37500000005, content='word', received=0, status=3, senderMAC=f8c43bba2010

[MarkRead]   -> SKIP: Sent by me (received=false)

[MarkRead] [4] id=0003ce3a0000004f, content='dood', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [5] id=00042ed600000050, content='555', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [6] id=0004775b00000004, content='hey man', received=0, status=3, senderMAC=f8c43bba2010

[MarkRead]   -> SKIP: Sent by me (received=false)

[MarkRead] [7] id=0004e57400000004, content='what up!!', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [8] id=000593db00000007, content='just chillin'', received=0, status=3, senderMAC=f8c43bba2010

[MarkRead]   -> SKIP: Sent by me (received=false)

[MarkRead] [9] id=0000e6dd00000005, content='7777', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [10] id=000123e800000006, content='8888', received=0, status=3, senderMAC=f8c43bba2010

[MarkRead]   -> SKIP: Sent by me (received=false)

[MarkRead] [11] id=00018a4100000008, content='9999', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [12] id=00031c3700000009, content='0000', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [13] id=0002083300000008, content='777', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [14] id=0002afc400000009, content='88889', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [15] id=0003a8fa0000000a, content='4444', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [16] id=0003d2440000000b, content='666', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [17] id=0006c84e0000000a, content='666999', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [18] id=00010daa00000005, content='4545', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [19] id=0001587f00000017, content='read', received=0, status=3, senderMAC=f8c43bba2010

[MarkRead]   -> SKIP: Sent by me (received=false)

[MarkRead] [20] id=0001c75b00000008, content='poop', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [21] id=0000e3ff00000007, content='1234', received=1, status=2, senderMAC=e4cc3bba2010

[MarkRead]   -> ??? MARKING AS READ!

[UI] Updated message 0000e3ff00000007 to status 3

[MarkRead]   -> Queued read receipt to: e4cc3bba2010

[MarkRead] ===== SUMMARY =====

[MarkRead] Total checked: 22

[MarkRead] Sent by me: 6

[MarkRead] Already read: 15

[MarkRead] Marked as read: 1

[MarkRead] Read receipts queued: 1

[37796] INFO: Batch updated 1 messages to status 3

[MQTT] Message published successfully, msg_id=46327
[MQTT] Message published successfully, msg_id=29236
[MQTT] Message published successfully, msg_id=18894
[MQTT] Message published successfully, msg_id=1596
[MQTT] Message published successfully, msg_id=31503
[MQTT] Message published successfully, msg_id=9037
[MQTT] Message published successfully, msg_id=44154
[MQTT] Message published successfully, msg_id=47244
[MQTT] Message published successfully, msg_id=42324
[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 38089ms)

[MQTT] seenMessageIds size: 10

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:0000922100000006:00018a4100000008:0:0

[MQTT] NEW message: 0000922100000006 - adding to seenMessageIds (size: 10)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 38098ms)

[MQTT] seenMessageIds size: 11

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:0000922500000007:00031c3700000009:0:0

[MQTT] NEW message: 0000922500000007 - adding to seenMessageIds (size: 11)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 38104ms)

[MQTT] seenMessageIds size: 12

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:0000922b00000008:0002083300000008:0:0

[MQTT] NEW message: 0000922b00000008 - adding to seenMessageIds (size: 12)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 38108ms)

[MQTT] seenMessageIds size: 13

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:0000923100000009:0002afc400000009:0:0

[MQTT] NEW message: 0000923100000009 - adding to seenMessageIds (size: 13)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 38114ms)

[MQTT] seenMessageIds size: 14

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:000092360000000a:0003a8fa0000000a:0:0

[MQTT] NEW message: 000092360000000a - adding to seenMessageIds (size: 14)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 38118ms)

[MQTT] seenMessageIds size: 15

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:0000923b0000000b:0003d2440000000b:0:0

[MQTT] NEW message: 0000923b0000000b - adding to seenMessageIds (size: 15)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 38124ms)

[MQTT] seenMessageIds size: 16

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:000092400000000c:0006c84e0000000a:0:0

[MQTT] NEW message: 000092400000000c - adding to seenMessageIds (size: 16)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 38129ms)

[MQTT] seenMessageIds size: 17

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:000092450000000d:00010daa00000005:0:0

[MQTT] NEW message: 000092450000000d - adding to seenMessageIds (size: 17)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 38258ms)

[MQTT] seenMessageIds size: 18

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:0000924b0000000e:0001c75b00000008:0:0

[MQTT] NEW message: 0000924b0000000e - adding to seenMessageIds (size: 18)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 38262ms)

[MQTT] seenMessageIds size: 19

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:000093250000000f:0000e3ff00000007:0:0

[MQTT] NEW message: 000093250000000f - adding to seenMessageIds (size: 19)

[MQTT] Message published successfully, msg_id=34318
[38643] INFO: Saved 22 total lines

[MarkRead] Batch storage update: SUCCESS

[MarkRead] ===== DONE =====

[Perf] Marked unread messages in 1340ms

[Perf] ===== TOTAL TIME: 3768ms =====

[MQTT] EVENT_DATA: topic=smoltxt/f8c43bba2010/sync-response len=257 session_present=1
[MQTT] Received on topic: smoltxt/f8c43bba2010/sync-response (uptime: 39206ms)

[MQTT] seenMessageIds size: 20

[MQTT] ============================================

[MQTT] SYNC RESPONSE RECEIVED - length=257 bytes

[MQTT] ============================================

[MQTT] Decrypting sync response...

[39207] INFO: Sync response received: 257 bytes

[MQTT] Decrypted sync response: {"messages":[{"sender":"Rex","senderMAC":"e4cc3bba2010","content":"1234","timestamp":1766185855,"mes...

[MQTT] Sync phase 1 batch 1/1

[39208] INFO: Sync phase 1 batch 1/1

[MQTT] Sync Phase 1 started (recent 20 messages) - disabling status updates

[MQTT] Stored sync target MAC: e4cc3bba2010 for background phases

[MQTT] Sending ACK for synced message: 0000e3ff00000007

[MQTT] Synced message: 0000e3ff00000007 from Rex content='1234'

[Message] From Rex: 1234 (village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[Power] Activity timer reset - message received

[SYNC DEBUG] Receiving msg: ID=0000e3ff00000007 from=Rex isNew=NO phase=1

[Message] Background sync or duplicate - silent save only (no UI update)

[39276] INFO: Duplicate message skipped (exact match): id=0000e3ff00000007 sender=Rex

[Message] Duplicate message - skipping all processing

[MQTT] Phase 1 complete - processed 1 messages

[39282] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[39342] INFO: File stats: total=22 empty=0 parseErr=0 matched=22

[39342] INFO: Loaded 22 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[Village] Loaded 22 messages (sorted by timestamp)

========================================

[SYNC DEBUG] Device f8c43bba2010 AFTER Phase 1 complete

[SYNC DEBUG] Total messages in storage NOW: 22

[SYNC DEBUG] Message IDs NOW in store (chronological order):

  [0] ID=000508e00000000e from=Archer time=1765325129 status=1

  [1] ID=0002b40c0000004a from=SmolTxt time=1766168672 status=3

  [2] ID=000343f300000001 from=SmolTxt time=1766168706 status=3

  [3] ID=0003a37500000005 from=Archer time=1766168730 status=3

  [4] ID=0003ce3a0000004f from=Rex time=1766168743 status=3

  [5] ID=00042ed600000050 from=Rex time=1766168768 status=3

  [6] ID=0004775b00000004 from=Archer time=1766182279 status=3

  [7] ID=0004e57400000004 from=Rex time=1766182305 status=3

  [8] ID=000593db00000007 from=Archer time=1766182352 status=3

  [9] ID=0000e6dd00000005 from=Rex time=1766183509 status=3

  [10] ID=000123e800000006 from=Archer time=1766183522 status=3

  [11] ID=00018a4100000008 from=Rex time=1766183551 status=3

  [12] ID=00031c3700000009 from=Rex time=1766183653 status=3

  [13] ID=0002083300000008 from=Rex time=1766183801 status=3

  [14] ID=0002afc400000009 from=Rex time=1766183844 status=3

  [15] ID=0003a8fa0000000a from=Rex time=1766183907 status=3

  [16] ID=0003d2440000000b from=Rex time=1766183919 status=3

  [17] ID=0006c84e0000000a from=Rex time=1766185049 status=3

  [18] ID=00010daa00000005 from=Rex time=1766185666 status=3

  [19] ID=0001587f00000017 from=Archer time=1766185684 status=3

  [20] ID=0001c75b00000008 from=Rex time=1766185714 status=3

  [21] ID=0000e3ff00000007 from=Rex time=1766185855 status=3

[SYNC DEBUG] UI message count: 44

========================================

[MQTT] Phase 1 complete - recent messages synced, re-enabled status updates

[39345] INFO: Phase 1 complete: 1 recent msgs

[MQTT] Sync fully complete - no more history

[MQTT] Processed 1 synced messages in phase 1

[39346] INFO: Synced 1 messages

[MQTT] Message published successfully, msg_id=42946
_Update_Part : 766999

[UI] Drawing messaging. History size: 44

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 39587ms)

[MQTT] seenMessageIds size: 20

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:0000992800000010:0000e3ff00000007:0:0

[MQTT] NEW message: 0000992800000010 - adding to seenMessageIds (size: 20)

_Update_Part : 766998

[Battery] Voltage: 4.10V, Percent: 89%
[App] Sending queued read receipt for: 0000e3ff00000007

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/read/e4cc3bba2010 len=148 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/read/e4cc3bba2010 (uptime: 40848ms)

[MQTT] seenMessageIds size: 21

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: READ_RECEIPT:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:00009ebe00000011:0000e3ff00000007:0:0

[MQTT] NEW message: 00009ebe00000011 - adding to seenMessageIds (size: 21)

[MQTT] Message published successfully, msg_id=30612
[MQTT] EVENT_DATA: topic=smoltxt/f8c43bba2010/sync-response len=257 session_present=1
[MQTT] Received on topic: smoltxt/f8c43bba2010/sync-response (uptime: 41667ms)

[MQTT] seenMessageIds size: 22

[MQTT] ============================================

[MQTT] SYNC RESPONSE RECEIVED - length=257 bytes

[MQTT] ============================================

[MQTT] Decrypting sync response...

[41667] INFO: Sync response received: 257 bytes

[MQTT] Decrypted sync response: {"messages":[{"sender":"Rex","senderMAC":"e4cc3bba2010","content":"1234","timestamp":1766185855,"mes...

[MQTT] DUPLICATE sync response from e4cc3bba2010 phase 1 batch 1 - ignoring (last seen 2942ms ago)

[42150] INFO: Duplicate sync response ignored

[MQTT] EVENT_DATA: topic=smoltxt/f8c43bba2010/sync-response len=257 session_present=1
[MQTT] Received on topic: smoltxt/f8c43bba2010/sync-response (uptime: 42894ms)

[MQTT] seenMessageIds size: 22

[MQTT] ============================================

[MQTT] SYNC RESPONSE RECEIVED - length=257 bytes

[MQTT] ============================================

[MQTT] Decrypting sync response...

[42894] INFO: Sync response received: 257 bytes

[MQTT] Decrypted sync response: {"messages":[{"sender":"Rex","senderMAC":"e4cc3bba2010","content":"1234","timestamp":1766185855,"mes...

[MQTT] DUPLICATE sync response from e4cc3bba2010 phase 1 batch 1 - ignoring (last seen 3687ms ago)

[42895] INFO: Duplicate sync response ignored

[MQTT] EVENT_DATA: topic=smoltxt/f8c43bba2010/sync-response len=257 session_present=1
[MQTT] Received on topic: smoltxt/f8c43bba2010/sync-response (uptime: 45350ms)

[MQTT] seenMessageIds size: 22

[MQTT] ============================================

[MQTT] SYNC RESPONSE RECEIVED - length=257 bytes

[MQTT] ============================================

[MQTT] Decrypting sync response...

[45351] INFO: Sync response received: 257 bytes

[MQTT] Decrypted sync response: {"messages":[{"sender":"Rex","senderMAC":"e4cc3bba2010","content":"1234","timestamp":1766185855,"mes...

[MQTT] Sync phase 1 batch 1/1

[45352] INFO: Sync phase 1 batch 1/1

[MQTT] Sync Phase 1 started (recent 20 messages) - disabling status updates

[MQTT] Stored sync target MAC: e4cc3bba2010 for background phases

[MQTT] Sending ACK for synced message: 0000e3ff00000007

[MQTT] Synced message: 0000e3ff00000007 from Rex content='1234'

[Message] From Rex: 1234 (village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[Power] Activity timer reset - message received

[SYNC DEBUG] Receiving msg: ID=0000e3ff00000007 from=Rex isNew=NO phase=1

[Message] Background sync or duplicate - silent save only (no UI update)

[45424] INFO: Duplicate message skipped (exact match): id=0000e3ff00000007 sender=Rex

[Message] Duplicate message - skipping all processing

[MQTT] Phase 1 complete - processed 1 messages

[45433] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[45494] INFO: File stats: total=22 empty=0 parseErr=0 matched=22

[45495] INFO: Loaded 22 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[Village] Loaded 22 messages (sorted by timestamp)

========================================

[SYNC DEBUG] Device f8c43bba2010 AFTER Phase 1 complete

[SYNC DEBUG] Total messages in storage NOW: 22

[SYNC DEBUG] Message IDs NOW in store (chronological order):

  [0] ID=000508e00000000e from=Archer time=1765325129 status=1

  [1] ID=0002b40c0000004a from=SmolTxt time=1766168672 status=3

  [2] ID=000343f300000001 from=SmolTxt time=1766168706 status=3

  [3] ID=0003a37500000005 from=Archer time=1766168730 status=3

  [4] ID=0003ce3a0000004f from=Rex time=1766168743 status=3

  [5] ID=00042ed600000050 from=Rex time=1766168768 status=3

  [6] ID=0004775b00000004 from=Archer time=1766182279 status=3

  [7] ID=0004e57400000004 from=Rex time=1766182305 status=3

  [8] ID=000593db00000007 from=Archer time=1766182352 status=3

  [9] ID=0000e6dd00000005 from=Rex time=1766183509 status=3

  [10] ID=000123e800000006 from=Archer time=1766183522 status=3

  [11] ID=00018a4100000008 from=Rex time=1766183551 status=3

  [12] ID=00031c3700000009 from=Rex time=1766183653 status=3

  [13] ID=0002083300000008 from=Rex time=1766183801 status=3

  [14] ID=0002afc400000009 from=Rex time=1766183844 status=3

  [15] ID=0003a8fa0000000a from=Rex time=1766183907 status=3

  [16] ID=0003d2440000000b from=Rex time=1766183919 status=3

  [17] ID=0006c84e0000000a from=Rex time=1766185049 status=3

  [18] ID=00010daa00000005 from=Rex time=1766185666 status=3

  [19] ID=0001587f00000017 from=Archer time=1766185684 status=3

  [20] ID=0001c75b00000008 from=Rex time=1766185714 status=3

  [21] ID=0000e3ff00000007 from=Rex time=1766185855 status=3

[SYNC DEBUG] UI message count: 44

========================================

[MQTT] Phase 1 complete - recent messages synced, re-enabled status updates

[45498] INFO: Phase 1 complete: 1 recent msgs

[MQTT] Sync fully complete - no more history

[MQTT] Processed 1 synced messages in phase 1

[45990] INFO: Synced 1 messages

[MQTT] Message published successfully, msg_id=53082
[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 46169ms)

[MQTT] seenMessageIds size: 22

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:0000b12800000012:0000e3ff00000007:0:0

[MQTT] NEW message: 0000b12800000012 - adding to seenMessageIds (size: 22)


========== DEBUG LOG DUMP ==========

Total entries: 421

====================================


[17792] INFO: Sync from f8c43bba2010 ts=1766185049

[17793] INFO: Log buffer pruned, removed 125 old entries

[17794] INFO: Sync from f8c43bba2010 (after t=1766185049)

[17917] INFO: Sync response received: 259 bytes

[17918] ERROR: Sync response decrypt failed

[18334] INFO: Sync response received: 259 bytes

[18335] ERROR: Sync response decrypt failed

[18338] INFO: Sync response received: 259 bytes

[18338] ERROR: Sync response decrypt failed

[18342] INFO: Sync response received: 259 bytes

[18342] ERROR: Sync response decrypt failed

[18345] INFO: Sync response received: 259 bytes

[18346] ERROR: Sync response decrypt failed

[18349] INFO: Sync response received: 259 bytes

[18349] ERROR: Sync response decrypt failed

[20022] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[20216] INFO: Rebuilt message ID cache: 20 messages

[20221] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[20421] INFO: Rebuilt message ID cache: 20 messages

[20425] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[20631] INFO: Rebuilt message ID cache: 20 messages

[20636] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[20846] INFO: Rebuilt message ID cache: 20 messages

[20851] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[21048] INFO: Rebuilt message ID cache: 20 messages

[21468] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[21684] INFO: Rebuilt message ID cache: 20 messages

[21689] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[21900] INFO: Rebuilt message ID cache: 20 messages

[21905] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[22123] INFO: Rebuilt message ID cache: 20 messages

[22127] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[22344] INFO: Rebuilt message ID cache: 20 messages

[31737] INFO: Rebuilt message ID cache: 20 messages

[35416] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[35892] INFO: File stats: total=20 empty=0 parseErr=0 matched=20

[35892] INFO: Loaded 20 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[35899] INFO: Sync request sent

[35899] INFO: Periodic sync requested

[35921] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[35983] INFO: File stats: total=20 empty=0 parseErr=0 matched=20

[35983] INFO: Loaded 20 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[35989] INFO: Sync request sent

[36013] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[36075] INFO: File stats: total=20 empty=0 parseErr=0 matched=20

[36190] INFO: Sync from f8c43bba2010 ts=1766185684

[36191] INFO: Sync from f8c43bba2010 (after t=1766185684)

[36726] INFO: Sync from f8c43bba2010 ts=1766185684

[36727] INFO: Sync from f8c43bba2010 (after t=1766185684)

[36733] INFO: Sync response received: 260 bytes

[36734] INFO: Sync phase 1 batch 1/2

[36737] INFO: Loaded 20 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[36795] INFO: Duplicate message skipped (exact match): id=0001587f00000017 sender=Archer

[36796] INFO: Synced 1 messages

[37023] INFO: Sync response received: 257 bytes

[37454] INFO: Sync phase 1 batch 2/2

[37672] INFO: Message saved: id=0001c75b00000008 from=Rex village=a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[38574] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[38631] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[38632] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[38634] INFO: Phase 1 complete: 1 recent msgs

[38641] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[38700] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[38700] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[38701] INFO: Synced 1 messages

[40221] INFO: Sync response received: 260 bytes

[40222] INFO: Duplicate sync response ignored

[40230] INFO: Sync response received: 257 bytes

[40231] INFO: Duplicate sync response ignored

[59431] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[59491] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[59491] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[60785] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[60845] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[60845] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[61333] INFO: Sync request sent

[61347] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[61408] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[61408] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[61492] INFO: Sync from f8c43bba2010 ts=1766185714

[61493] INFO: Sync from f8c43bba2010 (after t=1766185714)

[61559] INFO: Batch updated 1 messages to status 3

[61695] INFO: Saved 21 total lines

[62100] INFO: Sync response received: 257 bytes

[62102] INFO: Sync phase 1 batch 1/1

[2223] INFO: ======== SYSTEM BOOT ========

[2223] INFO: Build: Dec 19 2025 15:05:27

[2223] INFO: System boot started

[2223] INFO: Build: v0.57.26

[7991] INFO: OTA Updater initialized, version: v0.57.26

[7991] INFO: OTA source: GitHub zacknorman-dev/SmallText

[9003] INFO: WiFi connected: 192.168.8.27

[9003] INFO: MQTT: Broker=mqtts://83f1da02f4574c7f9ffe4d23088c6b5c.s1.eu.hivemq.cloud:8883

[9004] INFO: MQTT: ClientID=smol_esp_f8c43bba2010_245

[9004] INFO: MQTT: User=smoltxt2

[9499] INFO: MQTT: TLS enabled with R12 certificate

[9499] INFO: MQTT: Config set - clean_session=true keepalive=60

[9500] INFO: MQTT messenger initialized

[9501] INFO: OTA: Boot update check

[11031] INFO: OTA: Already on latest version

[11084] INFO: Rebuilt message ID cache: 21 messages

[11198] INFO: MQTT: Subscribed to 1 villages

[11200] INFO: MQTT: Connected - subscribed to 1 villages

[13228] INFO: Sync request sent

[13228] INFO: MQTT: Boot sync requested for 1 villages

[13766] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[13975] INFO: Rebuilt message ID cache: 21 messages

[13980] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[14238] INFO: Rebuilt message ID cache: 21 messages

[14242] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[14455] INFO: Rebuilt message ID cache: 21 messages

[14758] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[14987] INFO: Rebuilt message ID cache: 21 messages

[14992] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[15202] INFO: Rebuilt message ID cache: 21 messages

[15908] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[16009] INFO: Rebuilt message ID cache: 21 messages

[16013] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[16126] INFO: Rebuilt message ID cache: 21 messages

[16130] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[16240] INFO: Rebuilt message ID cache: 21 messages

[16244] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[16353] INFO: Rebuilt message ID cache: 21 messages

[32921] INFO: Rebuilt message ID cache: 21 messages

[34418] INFO: Sync from e4cc3bba2010 ts=1766185714

[34962] INFO: Sync from e4cc3bba2010 (after t=1766185714)

[34963] INFO: Log buffer pruned, removed 125 old entries

[34983] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[35054] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[35054] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[35485] INFO: Sync: Sending 1 msgs to e4cc3bba2010

[35486] INFO: Sync phase 1: 1 msgs

[35492] INFO: Sync batch 1 sent

[36599] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[36658] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[36658] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[36664] INFO: Sync request sent

[36665] INFO: Periodic sync requested

[36875] INFO: Sync from f8c43bba2010 ts=1766185714

[36876] INFO: Sync from f8c43bba2010 (after t=1766185714)

[37440] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[37489] INFO: Sync response received: 257 bytes

[37490] INFO: Sync phase 1 batch 1/1

[37570] INFO: Duplicate message skipped (exact match): id=0001c75b00000008 sender=Rex

[37585] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[37647] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[37647] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[37651] INFO: Phase 1 complete: 1 recent msgs

[37666] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[37728] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[37748] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[37748] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[38145] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[38146] INFO: Synced 1 messages

[38152] INFO: Sync request sent

[38171] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[38233] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[38233] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[38515] INFO: Sync from e4cc3bba2010 ts=1766185714

[38516] INFO: Sync from e4cc3bba2010 (after t=1766185714)

[39008] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[39073] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[39074] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[39078] INFO: Sync: Sending 1 msgs to e4cc3bba2010

[39078] INFO: Sync phase 1: 1 msgs

[39084] INFO: Sync batch 1 sent

[40234] INFO: Skipping status update for 0003a37500000005 - current status 3 >= new status 2

[40255] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[40319] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[40319] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[41689] INFO: Skipping status update for 0004775b00000004 - current status 3 >= new status 2

[41708] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[41772] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[41772] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[42692] INFO: Skipping status update for 000593db00000007 - current status 3 >= new status 2

[42712] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[42775] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[42775] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[43694] INFO: Skipping status update for 000123e800000006 - current status 3 >= new status 2

[43713] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[44252] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[44252] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[45101] INFO: Sync from f8c43bba2010 ts=1766185714

[45101] INFO: Sync from f8c43bba2010 (after t=1766185714)

[45160] INFO: Sync response received: 257 bytes

[45161] INFO: Sync phase 1 batch 1/1

[45250] INFO: Duplicate message skipped (exact match): id=0001c75b00000008 sender=Rex

[45272] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[45338] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[45338] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[2210] INFO: ======== SYSTEM BOOT ========

[2211] INFO: Build: Dec 19 2025 15:05:27

[2211] INFO: System boot started

[2211] INFO: Build: v0.57.26

[7980] INFO: OTA Updater initialized, version: v0.57.26

[7980] INFO: OTA source: GitHub zacknorman-dev/SmallText

[11492] INFO: WiFi connected: 192.168.8.27

[11492] INFO: MQTT: Broker=mqtts://83f1da02f4574c7f9ffe4d23088c6b5c.s1.eu.hivemq.cloud:8883

[11492] INFO: MQTT: ClientID=smol_esp_f8c43bba2010_245

[11492] INFO: MQTT: User=smoltxt2

[11967] INFO: MQTT: TLS enabled with R12 certificate

[11968] INFO: MQTT: Config set - clean_session=true keepalive=60

[11969] INFO: MQTT messenger initialized

[11969] INFO: OTA: Boot update check

[13334] INFO: OTA: Already on latest version

[13537] INFO: Rebuilt message ID cache: 21 messages

[13649] INFO: MQTT: Subscribed to 1 villages

[13651] INFO: MQTT: Connected - subscribed to 1 villages

[15711] INFO: Sync request sent

[15711] INFO: MQTT: Boot sync requested for 1 villages

[16939] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[17092] INFO: Rebuilt message ID cache: 21 messages

[17096] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[17246] INFO: Rebuilt message ID cache: 21 messages

[17250] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[17394] INFO: Rebuilt message ID cache: 21 messages

[17398] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[17551] INFO: Rebuilt message ID cache: 21 messages

[17555] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[17709] INFO: Rebuilt message ID cache: 21 messages

[18199] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[18375] INFO: Rebuilt message ID cache: 21 messages

[18781] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[18951] INFO: Rebuilt message ID cache: 21 messages

[18957] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[19127] INFO: Rebuilt message ID cache: 21 messages

[19131] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[19318] INFO: Rebuilt message ID cache: 21 messages

[28709] INFO: Rebuilt message ID cache: 21 messages

[32382] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[32934] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[32934] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[32941] INFO: Sync request sent

[32941] INFO: Periodic sync requested

[32957] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[33019] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[33019] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[33025] INFO: Sync request sent

[33044] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[33105] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[33651] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[33835] INFO: Sync from f8c43bba2010 ts=1766185714

[33836] INFO: Sync from f8c43bba2010 (after t=1766185714)

[34199] INFO: Sync from f8c43bba2010 ts=1766185714

[34199] INFO: Sync from f8c43bba2010 (after t=1766185714)

[34358] INFO: Sync response received: 257 bytes

[34360] INFO: Sync phase 1 batch 1/2

[34444] INFO: Duplicate message skipped (exact match): id=0001c75b00000008 sender=Rex

[34445] INFO: Synced 1 messages

[34474] INFO: Sync response received: 257 bytes

[35055] INFO: Sync phase 1 batch 2/2

[35056] INFO: Log buffer pruned, removed 125 old entries

[35246] INFO: Message saved: id=0000e3ff00000007 from=Rex village=a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[36118] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[36182] INFO: File stats: total=22 empty=0 parseErr=0 matched=22

[36825] INFO: Loaded 22 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[36828] INFO: Phase 1 complete: 1 recent msgs

[36834] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[36895] INFO: File stats: total=22 empty=0 parseErr=0 matched=22

[36895] INFO: Loaded 22 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[36896] INFO: Synced 1 messages

[37327] INFO: Sync response received: 257 bytes

[37328] INFO: Duplicate sync response ignored

[37331] INFO: Sync response received: 257 bytes

[37333] INFO: Duplicate sync response ignored

[2174] INFO: ======== SYSTEM BOOT ========

[2174] INFO: Build: Dec 19 2025 15:05:27

[2174] INFO: System boot started

[2174] INFO: Build: v0.57.26

[7942] INFO: OTA Updater initialized, version: v0.57.26

[7942] INFO: OTA source: GitHub zacknorman-dev/SmallText

[13454] INFO: WiFi connected: 192.168.8.27

[13454] INFO: MQTT: Broker=mqtts://83f1da02f4574c7f9ffe4d23088c6b5c.s1.eu.hivemq.cloud:8883

[13454] INFO: MQTT: ClientID=smol_esp_f8c43bba2010_245

[13454] INFO: MQTT: User=smoltxt2

[13874] INFO: MQTT: TLS enabled with R12 certificate

[13874] INFO: MQTT: Config set - clean_session=true keepalive=60

[13876] INFO: MQTT messenger initialized

[13876] INFO: OTA: Boot update check

[15561] INFO: Rebuilt message ID cache: 22 messages

[15665] INFO: MQTT: Subscribed to 1 villages

[15666] INFO: MQTT: Connected - subscribed to 1 villages

[15690] INFO: OTA: Update available v0.57.27

[15692] INFO: OTA: New version available: v0.57.27

[17734] INFO: Sync request sent

[18204] INFO: MQTT: Boot sync requested for 1 villages

[18210] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[18360] INFO: Rebuilt message ID cache: 22 messages

[18364] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[18516] INFO: Rebuilt message ID cache: 22 messages

[18520] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[18665] INFO: Rebuilt message ID cache: 22 messages

[18900] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[19050] INFO: Rebuilt message ID cache: 22 messages

[19056] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[19736] INFO: Rebuilt message ID cache: 22 messages

[19741] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[19921] INFO: Rebuilt message ID cache: 22 messages

[19926] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[20105] INFO: Rebuilt message ID cache: 22 messages

[20110] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[20292] INFO: Rebuilt message ID cache: 22 messages

[20297] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[20469] INFO: Rebuilt message ID cache: 22 messages

[70362] INFO: OTA: User approved update

[2220] INFO: ======== SYSTEM BOOT ========

[2220] INFO: Build: Dec 19 2025 15:20:25

[2220] INFO: System boot started

[2220] INFO: Build: v0.57.27

[7991] INFO: OTA Updater initialized, version: v0.57.27

[7991] INFO: OTA source: GitHub zacknorman-dev/SmallText

[9003] INFO: WiFi connected: 192.168.8.27

[9003] INFO: MQTT: Broker=mqtts://83f1da02f4574c7f9ffe4d23088c6b5c.s1.eu.hivemq.cloud:8883

[9004] INFO: MQTT: ClientID=smol_esp_f8c43bba2010_245

[9004] INFO: MQTT: User=smoltxt2

[9490] INFO: MQTT: TLS enabled with R12 certificate

[9491] INFO: MQTT: Config set - clean_session=true keepalive=60

[9492] INFO: MQTT messenger initialized

[9492] INFO: OTA: Boot update check

[10797] INFO: OTA: Already on latest version

[11093] INFO: Rebuilt message ID cache: 22 messages

[11214] INFO: MQTT: Subscribed to 1 villages

[11216] INFO: MQTT: Connected - subscribed to 1 villages

[13276] INFO: Sync request sent

[13276] INFO: MQTT: Boot sync requested for 1 villages

[13785] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[14003] INFO: Rebuilt message ID cache: 22 messages

[14008] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[14229] INFO: Rebuilt message ID cache: 22 messages

[14233] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[14454] INFO: Rebuilt message ID cache: 22 messages

[14938] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[15172] INFO: Rebuilt message ID cache: 22 messages

[15178] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[15413] INFO: Rebuilt message ID cache: 22 messages

[16147] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[16247] INFO: Rebuilt message ID cache: 22 messages

[16251] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[16356] INFO: Rebuilt message ID cache: 22 messages

[16360] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[16468] INFO: Rebuilt message ID cache: 22 messages

[16472] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[16581] INFO: Rebuilt message ID cache: 22 messages

[25840] INFO: Rebuilt message ID cache: 22 messages

[30009] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[30555] INFO: File stats: total=22 empty=0 parseErr=0 matched=22

[30555] INFO: Loaded 22 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[30562] INFO: Sync request sent

[30562] INFO: Periodic sync requested

[30815] INFO: Sync from f8c43bba2010 ts=1766185855

[30815] INFO: Sync from f8c43bba2010 (after t=1766185855)

[31326] INFO: Sync response received: 257 bytes

[31328] INFO: Sync phase 1 batch 1/1

[31399] INFO: Duplicate message skipped (exact match): id=0000e3ff00000007 sender=Rex

[31406] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[32001] INFO: File stats: total=22 empty=0 parseErr=0 matched=22

[32001] INFO: Loaded 22 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[32004] INFO: Phase 1 complete: 1 recent msgs

[32015] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[32077] INFO: File stats: total=22 empty=0 parseErr=0 matched=22

[32077] INFO: Loaded 22 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[32078] INFO: Synced 1 messages

[32357] INFO: Sync from e4cc3bba2010 ts=1766185855

[32357] INFO: Sync from e4cc3bba2010 (after t=1766185855)

[32370] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[32976] INFO: File stats: total=22 empty=0 parseErr=0 matched=22

[32976] INFO: Loaded 22 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[32981] INFO: Sync: Sending 1 msgs to e4cc3bba2010

[32981] INFO: Sync phase 1: 1 msgs

[32988] INFO: Sync batch 1 sent

[33092] INFO: Sync from e4cc3bba2010 ts=1766185855

[33092] INFO: Sync from e4cc3bba2010 (after t=1766185855)

[33106] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[33174] INFO: File stats: total=22 empty=0 parseErr=0 matched=22

[33174] INFO: Loaded 22 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[33718] INFO: Sync: Sending 1 msgs to e4cc3bba2010

[33719] INFO: Log buffer pruned, removed 125 old entries

[33719] INFO: Sync phase 1: 1 msgs

[33726] INFO: Sync batch 1 sent

[34284] INFO: Skipping status update for 0003a37500000005 - current status 3 >= new status 2

[34789] INFO: Skipping status update for 0004775b00000004 - current status 3 >= new status 2

[34869] INFO: Skipping status update for 000593db00000007 - current status 3 >= new status 2

[34953] INFO: Skipping status update for 000123e800000006 - current status 3 >= new status 2

[34973] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[35038] INFO: File stats: total=22 empty=0 parseErr=0 matched=22

[35039] INFO: Loaded 22 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[35083] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[35149] INFO: File stats: total=22 empty=0 parseErr=0 matched=22

[35150] INFO: Loaded 22 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[35953] INFO: Skipping status update for 0001587f00000017 - current status 3 >= new status 2

[36389] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[36455] INFO: File stats: total=22 empty=0 parseErr=0 matched=22

[36455] INFO: Loaded 22 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[37300] INFO: Sync request sent

[37322] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[37388] INFO: File stats: total=22 empty=0 parseErr=0 matched=22

[37388] INFO: Loaded 22 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[37677] INFO: Sync from f8c43bba2010 ts=1766185855

[37677] INFO: Sync from f8c43bba2010 (after t=1766185855)

[37796] INFO: Batch updated 1 messages to status 3

[38643] INFO: Saved 22 total lines

[39207] INFO: Sync response received: 257 bytes

[39208] INFO: Sync phase 1 batch 1/1

[39276] INFO: Duplicate message skipped (exact match): id=0000e3ff00000007 sender=Rex

[39282] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[39342] INFO: File stats: total=22 empty=0 parseErr=0 matched=22

[39342] INFO: Loaded 22 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[39345] INFO: Phase 1 complete: 1 recent msgs

[39346] INFO: Synced 1 messages

[41667] INFO: Sync response received: 257 bytes

[42150] INFO: Duplicate sync response ignored

[42894] INFO: Sync response received: 257 bytes

[42895] INFO: Duplicate sync response ignored

[45351] INFO: Sync response received: 257 bytes

[45352] INFO: Sync phase 1 batch 1/1

[45424] INFO: Duplicate message skipped (exact match): id=0000e3ff00000007 sender=Rex

[45433] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[45494] INFO: File stats: total=22 empty=0 parseErr=0 matched=22

[45495] INFO: Loaded 22 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[45498] INFO: Phase 1 complete: 1 recent msgs

[45990] INFO: Synced 1 messages


========== END LOG DUMP ==========


[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/shout len=115 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/shout (uptime: 54472ms)

[MQTT] seenMessageIds size: 23

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: SHOUT:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:*:Rex:e4cc3bba2010:0000d25400000006:ffff:0:0

[MQTT] NEW message: 0000d25400000006 - adding to seenMessageIds (size: 23)

[MQTT] *** SENDING ACK *** for message: 0000d25400000006 to e4cc3bba2010 (uptime: 54473ms)

[MQTT] ACK send result: SUCCESS

[MQTT] Received message from Rex

[Message] From Rex: ffff (village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[Power] Activity timer reset - message received

[Message] Real-time message - updating UI

[Individual] Checking name update - Current: 'Rex', My name: 'Archer', Sender: 'Rex'

[54617] INFO: Message saved: id=0000d25400000006 from=Rex village=a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[UI] Message added. Total: 45

[Message] Added to UI. Total messages in history: 45

[54679] INFO: Updated message 0000d25400000006 to status 2

[54814] INFO: Saved 23 total lines

[Message] Marked incoming message as received (status 2)

[App] Already in messaging screen, marking NEW message as read (status 3)

[UI] Updated message 0000d25400000006 to status 3

[54877] INFO: Updated message 0000d25400000006 to status 3

[55015] INFO: Saved 23 total lines

[App] Queued immediate read receipt for: 0000d25400000006

[UI] Message received - requesting partial update

[UI] Drawing messaging. History size: 45

[App] Sending queued read receipt for: 0000d25400000006

_Update_Part : 766000

[MQTT] Message published successfully, msg_id=23043
[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 56205ms)

[MQTT] seenMessageIds size: 24

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:0000d4c900000013:0000d25400000006:0:0

[MQTT] NEW message: 0000d4c900000013 - adding to seenMessageIds (size: 24)

[MQTT] Message published successfully, msg_id=36697
[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 56615ms)

[MQTT] seenMessageIds size: 25

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:0000d4c900000013:0000d25400000006:0:0

[MQTT] Duplicate message, ignoring: 0000d4c900000013 (in seenMessageIds cache)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/read/e4cc3bba2010 len=148 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/read/e4cc3bba2010 (uptime: 56621ms)

[MQTT] seenMessageIds size: 25

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: READ_RECEIPT:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:0000d78700000014:0000d25400000006:0:0

[MQTT] NEW message: 0000d78700000014 - adding to seenMessageIds (size: 25)

[KB-READ] I2C byte: 0x71 (113)

[UI] Drawing messaging. History size: 45

_Update_Part : 766999

[KB-READ] I2C byte: 0x71 (113)

[UI] Drawing messaging. History size: 45

_Update_Part : 766999

[KB-READ] I2C byte: 0x71 (113)

[UI] Drawing messaging. History size: 45

_Update_Part : 766998

[KB-READ] I2C byte: 0x71 (113)

[UI] Drawing messaging. History size: 45

_Update_Part : 766998

[KB-READ] I2C byte: 0xD (13)

[Keyboard] ENTER pressed

[App] Enter pressed. Input text: 'qqqq' length: 4

[UI] Drawing messaging. History size: 45

_Update_Part : 766998

[MQTT] SHOUT sent (QoS 1): qqqq

[65848] INFO: MQTT SHOUT sent: qqqq

[65849] INFO: MQTT send: SUCCESS id=0001013300000015

[App] Sending message via MQTT

[65990] INFO: Message saved: id=0001013300000015 from=Archer village=a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[UI] Message added. Total: 46

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/shout len=118 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/shout (uptime: 66038ms)

[MQTT] seenMessageIds size: 26

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: SHOUT:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:*:Archer:f8c43bba2010:0001013300000015:qqqq:0:0

[MQTT] NEW message: 0001013300000015 - adding to seenMessageIds (size: 26)

[MQTT] Ignoring our own message

[MQTT] Message published successfully, msg_id=37043
[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/f8c43bba2010 len=136 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/f8c43bba2010 (uptime: 66345ms)

[MQTT] seenMessageIds size: 27

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:f8c43bba2010:Rex:e4cc3bba2010:0001023d00000007:0001013300000015:0:0

[MQTT] NEW message: 0001023d00000007 - adding to seenMessageIds (size: 27)

[MQTT] Received ACK for message: 0001013300000015

[Message] ACK received for: 0001013300000015 from e4cc3bba2010

[66414] INFO: Updated message 0001013300000015 from status 1 to 2

_Update_Part : 779694

[67043] INFO: Saved 24 total lines

[DEBUG] ACK storage update result: SUCCESS

[UI] Drawing messaging. History size: 46

_Update_Part : 766998

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/f8c43bba2010 len=136 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/f8c43bba2010 (uptime: 68192ms)

[MQTT] seenMessageIds size: 28

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:f8c43bba2010:Rex:e4cc3bba2010:0001023d00000007:0001013300000015:0:0

[MQTT] Duplicate message, ignoring: 0001023d00000007 (in seenMessageIds cache)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/read/f8c43bba2010 len=145 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/read/f8c43bba2010 (uptime: 68198ms)

[MQTT] seenMessageIds size: 28

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: READ_RECEIPT:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:f8c43bba2010:Rex:e4cc3bba2010:000104ed00000008:0001013300000015:0:0

[MQTT] NEW message: 000104ed00000008 - adding to seenMessageIds (size: 28)

[MQTT] Received read receipt for message: 0001013300000015

[Message] Read receipt for: 0001013300000015 from e4cc3bba2010

[68268] INFO: Updated message 0001013300000015 to status 3

[68629] INFO: Saved 24 total lines

[DEBUG] Read receipt storage update result: SUCCESS

[UI] Read receipt received while viewing messages - reloading from storage

[68635] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[68700] INFO: File stats: total=24 empty=0 parseErr=0 matched=24

[68700] INFO: Loaded 24 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[Village] Loaded 24 messages (sorted by timestamp)

[DEBUG] Loaded 24 total messages from storage

[DEBUG] Target message status after reload: 3 (should be 3)

[DEBUG] startIndex=0, will load indices 0 to 23

[UI] Message added. Total: 1

[UI] Message added. Total: 2

[UI] Message added. Total: 3

[UI] Message added. Total: 4

[UI] Message added. Total: 5

[UI] Message added. Total: 6

[UI] Message added. Total: 7

[UI] Message added. Total: 8

[UI] Message added. Total: 9

[UI] Message added. Total: 10

[UI] Message added. Total: 11

[UI] Message added. Total: 12

[UI] Message added. Total: 13

[UI] Message added. Total: 14

[UI] Message added. Total: 15

[UI] Message added. Total: 16

[UI] Message added. Total: 17

[UI] Message added. Total: 18

[UI] Message added. Total: 19

[UI] Message added. Total: 20

[UI] Message added. Total: 21

[UI] Message added. Total: 22

[UI] Message added. Total: 23

[UI] Message added. Total: 24

[UI] Reloaded 24 messages with updated status

[UI] Drawing messaging. History size: 24

_Update_Part : 767000

[Battery] Voltage: 4.10V, Percent: 89%
E (246) esp_core_dump_flash: No core dump partition found!

[Button] USER button configured on GPIO 21

[Buzzer] Initialized on GPIO 40 using LEDC channel 0








=================================

SmolTxt - Safe Texting for Kids

=================================

Boot starting...

ESP-ROM:esp32s3-20210327

Build:Mar 27 2021

rst:0x15 (USB_UART_CHIP_RESET),boot:0x8 (SPI_FAST_FLASH_BOOT)

Saved PC:0x420dbb2e

SPIWP:0xee

mode:DIO, clock div:1

load:0x3fce3808,len:0x4bc

load:0x403c9700,len:0xbd8

load:0x403cc700,len:0x2a0c

entry 0x403c98d0

E (246) esp_core_dump_flash: No core dump partition found!

E (246) esp_core_dump_flash: No core dump partition found!

[Button] USER button configured on GPIO 21

[Buzzer] Initialized on GPIO 40 using LEDC channel 0








=================================

SmolTxt - Safe Texting for Kids

=================================

Boot starting...

[Settings] Loaded ringtone: Rising Tone

[Settings] Loaded village slot: 0

[Logger] Initializing event logger...

[Logger] Loaded 430 log entries from file

[2209] INFO: ======== SYSTEM BOOT ========

[2209] INFO: Build: Dec 19 2025 15:20:25

[Logger] Initialized

[Logger] Success! Event logging active

[2210] INFO: System boot started

[2210] INFO: Build: v0.57.27

[Display] Initializing e-paper...

[  2411][E][esp32-hal-spi.c:215] spiAttachMISO(): HSPI Does not have default pins on ESP32S3!

[UI] GxEPD2 display initialized

[Display] Success!

[Display] Showing splash...

_Update_Full : 3259998

[I2C] Initializing I2C bus...

[I2C] I2C initialized at 100kHz with 200ms timeout for detection

[Keyboard] Initializing CardKB...

[Keyboard] State cleared: currentKey=0, inputBuffer empty

[Keyboard] CardKB found at 0x5F

[I2C] Timeout reduced to 50ms for normal operations

[Keyboard] Before clear - checking for garbage...

[Keyboard] After clear - currentKey check: no keys

[Keyboard] Buffer cleared and ready

[Power] Device awake - 5 minute activity timer started

[Power] USB power: NOT DETECTED

[Battery] Initializing battery monitor...

[Battery] Initialized

[Battery] Voltage: 4.09V, Percent: 89%
[Battery] Battery monitor ready

[WiFi] Initializing WiFi manager...

[WiFi] Loading 2 saved networks

[WiFi]   - fomalhaut2.4G

[WiFi]   - Zachary

[WiFi] WiFiManager initialized with 2 saved networks

[WiFi] WiFi manager ready

[OTA] Initializing OTA updater...

[OTA] ====================================

[OTA] Partition Information:

[OTA] Running partition: app1

[OTA] Running partition size: 2048 KB

[OTA] Update partition: app0

[OTA] Update partition size: 2048 KB

[OTA] Firmware version: v0.57.27

[OTA] ====================================

[7978] INFO: OTA Updater initialized, version: v0.57.27

[7979] INFO: OTA source: GitHub zacknorman-dev/SmallText

[OTA] Update source: GitHub zacknorman-dev/SmallText

[OTA] OTA updater ready

[WiFi] Found saved credentials, connecting...

[WiFi] Trying last connected network: fomalhaut2.4G

[WiFi] Connecting to: fomalhaut2.4G

..

[WiFi] Connected!

[WiFi] IP: 192.168.8.27

[WiFi] RSSI: -58 dBm

[WiFi] Syncing NTP time...

[WiFi] NTP configured

[WiFi] NTP sync successful: 2025-12-19 23:28:22 UTC

[WiFi] Time offset: 1766186890 seconds

[WiFi] Connected: 192.168.8.27

[12491] INFO: WiFi connected: 192.168.8.27

[MQTT] Initializing MQTT messenger...

[MQTT] Initializing ESP-MQTT messenger

[MQTT] Broker: mqtts://83f1da02f4574c7f9ffe4d23088c6b5c.s1.eu.hivemq.cloud:8883

[MQTT] Username: smoltxt2

[MQTT] Client ID: smol_esp_f8c43bba2010_245

[12491] INFO: MQTT: Broker=mqtts://83f1da02f4574c7f9ffe4d23088c6b5c.s1.eu.hivemq.cloud:8883

[12491] INFO: MQTT: ClientID=smol_esp_f8c43bba2010_245

[12491] INFO: MQTT: User=smoltxt2

[12974] INFO: MQTT: TLS enabled with R12 certificate

[12974] INFO: MQTT: Config set - clean_session=true keepalive=60

[MQTT] Other event id:7
[MQTT] Client started (retry attempts: 0)
[MQTT] MQTT messenger ready

[12975] INFO: MQTT messenger initialized

[OTA] Checking for updates on boot...

[12975] INFO: OTA: Boot update check

[OTA] Checking for updates...

[OTA] Fetching: https://api.github.com/repos/zacknorman-dev/SmallText/releases/latest

[MQTT] Connected to broker!

[MQTT] Session present: yes

[MQTT] Loading saved villages for subscription...

[MQTT] Scanning for saved villages...

[MQTT] Found village in slot 0, loading...

[Village] Loading from /village_0.dat...

[Village] File size: 234 bytes

[Village] JSON parsed successfully

[14451] INFO: Rebuilt message ID cache: 24 messages

[MQTT] Successfully loaded village from slot 0

[MQTT] Added village subscription: Rex (a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[MQTT] Subscribed to topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/#

[ 14458][E][vfs_api.cpp:105] open(): /littlefs/village_1.dat does not exist, no permits for creation

[ 14471][E][vfs_api.cpp:105] open(): /littlefs/village_2.dat does not exist, no permits for creation

[ 14482][E][vfs_api.cpp:105] open(): /littlefs/village_3.dat does not exist, no permits for creation

[ 14493][E][vfs_api.cpp:105] open(): /littlefs/village_4.dat does not exist, no permits for creation

[ 14504][E][vfs_api.cpp:105] open(): /littlefs/village_5.dat does not exist, no permits for creation

[ 14515][E][vfs_api.cpp:105] open(): /littlefs/village_6.dat does not exist, no permits for creation

[ 14526][E][vfs_api.cpp:105] open(): /littlefs/village_7.dat does not exist, no permits for creation

[ 14537][E][vfs_api.cpp:105] open(): /littlefs/village_8.dat does not exist, no permits for creation

[ 14548][E][vfs_api.cpp:105] open(): /littlefs/village_9.dat does not exist, no permits for creation

[MQTT] Subscribed to 1 villages

[14557] INFO: MQTT: Subscribed to 1 villages

[MQTT] Subscribed to: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/# (Rex)

[14559] INFO: MQTT: Connected - subscribed to 1 villages

[MQTT] Subscribed to command topic: smoltxt/f8c43bba2010/command

[MQTT] Subscribed to sync response topic: smoltxt/f8c43bba2010/sync-response

[MQTT] Waiting 2s for subscriptions to be established...

[OTA] Download URL: https://github.com/zacknorman-dev/SmallText/releases/download/v0.57.27/firmware-v0.57.27.bin

[OTA] Current: v0.57.27, Latest: v0.57.27

[14566] INFO: OTA: Already on latest version

[OTA] Already on latest version

[System] Going to village select

[System] Keyboard cleared before village select

[System] No previous village to auto-load

[ 14595][E][vfs_api.cpp:105] open(): /littlefs/village_1.dat does not exist, no permits for creation

[ 14607][E][vfs_api.cpp:105] open(): /littlefs/village_2.dat does not exist, no permits for creation

[ 14618][E][vfs_api.cpp:105] open(): /littlefs/village_3.dat does not exist, no permits for creation

[ 14629][E][vfs_api.cpp:105] open(): /littlefs/village_4.dat does not exist, no permits for creation

[ 14640][E][vfs_api.cpp:105] open(): /littlefs/village_5.dat does not exist, no permits for creation

[ 14651][E][vfs_api.cpp:105] open(): /littlefs/village_6.dat does not exist, no permits for creation

[ 14662][E][vfs_api.cpp:105] open(): /littlefs/village_7.dat does not exist, no permits for creation

[ 14673][E][vfs_api.cpp:105] open(): /littlefs/village_8.dat does not exist, no permits for creation

[ 14684][E][vfs_api.cpp:105] open(): /littlefs/village_9.dat does not exist, no permits for creation

[System] Starting with sync setup screen for 1 villages

[MQTT] Requesting boot sync for all subscribed villages...

payload: {"mac":"f8c43bba2010","timestamp":0}

[MQTT] Publishing sync request to: smoltxta2010

[MQTT] Sync request sent (QoS 1, will receive all messages, dedup on receive)

[16622] INFO: Sync request sent

[MQTT] Boot sync requested for village: Rex

[16622] INFO: MQTT: Boot sync requested for 1 villages

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/shout len=115 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/shout (uptime: 17122ms)

[MQTT] seenMessageIds size: 0

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: SHOUT:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:*:Rex:e4cc3bba2010:000141cc00000009:mmmm:0:0

[MQTT] NEW message: 000141cc00000009 - adding to seenMessageIds (size: 0)

[MQTT] *** SENDING ACK *** for message: 000141cc00000009 to e4cc3bba2010 (uptime: 17123ms)

[MQTT] ACK send result: SUCCESS

[MQTT] Received message from Rex

[Message] From Rex: mmmm (village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[Power] Activity timer reset - message received

[Message] Real-time message - updating UI

[Message] Message for different village (a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53) - saving to storage only

[Village] Message saved to file: id=000141cc00000009 village=a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[Ringtone] Playing: Rising Tone

[MQTT] Subscribed to topic, msg_id=35855
[MQTT] Subscribed to topic, msg_id=38069
[MQTT] Subscribed to topic, msg_id=54678
[MQTT] Subscribed to topic, msg_id=55339
[MQTT] Message published successfully, msg_id=24808
[MQTT] Message published successfully, msg_id=60253
[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/username/f8c43bba2010 len=6 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/username/f8c43bba2010 (uptime: 17884ms)

[MQTT] seenMessageIds size: 1

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Received username announcement: Archer for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[17885] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[Individual] ========================================

[Individual] Received username announcement!

[Individual] Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[Individual] Username: Archer

[Individual] ========================================

[Village] Found existing village with ID 'a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53' in slot 0

[Individual] Found village in slot: 0

[Village] Loading from /village_0.dat...

[Village] File size: 234 bytes

[Village] JSON parsed successfully

[18036] INFO: Rebuilt message ID cache: 24 messages

[Individual] Village type: Individual

[Individual] Current name: 'Rex'

[Individual] My username: 'Archer'

[Individual] Ignoring username - it's our own name

_Update_Full : 3300463

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/username/e4cc3bba2010 len=3 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/username/e4cc3bba2010 (uptime: 18040ms)

[MQTT] seenMessageIds size: 1

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Received username announcement: Rex for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[18041] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[Individual] ========================================

[Individual] Received username announcement!

[Individual] Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[Individual] Username: Rex

[Individual] ========================================

[Village] Found existing village with ID 'a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53' in slot 0

[Individual] Found village in slot: 0

[Village] Loading from /village_0.dat...

[Village] File size: 234 bytes

[Village] JSON parsed successfully

[18192] INFO: Rebuilt message ID cache: 24 messages

[Individual] Village type: Individual

[Individual] Current name: 'Rex'

[Individual] My username: 'Archer'

[Individual] Not updating - current name 'Rex' is acceptable

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/villagename len=4 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/villagename (uptime: 18195ms)

[MQTT] seenMessageIds size: 1

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Received village name announcement: Chat for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[18196] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[Village] Received village name announcement for a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53: Chat

[Village] Found existing village with ID 'a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53' in slot 0

[Village] Loading from /village_0.dat...

[Village] File size: 234 bytes

[Village] JSON parsed successfully

[18348] INFO: Rebuilt message ID cache: 24 messages

[Village] Ignoring village name for individual conversation (uses username instead)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/username/f8c43bba2010 len=6 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/username/f8c43bba2010 (uptime: 18352ms)

[MQTT] seenMessageIds size: 1

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Received username announcement: Archer for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[18352] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[Individual] ========================================

[Individual] Received username announcement!

[Individual] Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[Individual] Username: Archer

[Individual] ========================================

[Village] Found existing village with ID 'a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53' in slot 0

[Individual] Found village in slot: 0

[Village] Loading from /village_0.dat...

[Village] File size: 234 bytes

[Village] JSON parsed successfully

[18507] INFO: Rebuilt message ID cache: 24 messages

[Individual] Village type: Individual

[Individual] Current name: 'Rex'

[Individual] My username: 'Archer'

[Individual] Ignoring username - it's our own name

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/username/e4cc3bba2010 len=3 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/username/e4cc3bba2010 (uptime: 18511ms)

[MQTT] seenMessageIds size: 1

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Received username announcement: Rex for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[18511] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[Individual] ========================================

[Individual] Received username announcement!

[Individual] Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[Individual] Username: Rex

[Individual] ========================================

[Village] Found existing village with ID 'a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53' in slot 0

[Individual] Found village in slot: 0

[Village] Loading from /village_0.dat...

[System] Setup complete!

[Village] File size: 234 bytes

[Village] JSON parsed successfully

[18671] INFO: Rebuilt message ID cache: 24 messages


========== DEBUG LOG DUMP ==========

Total entries: 460

====================================


[17792] INFO: Sync from f8c43bba2010 ts=1766185049

[17793] INFO: Log buffer pruned, removed 125 old entries

[17794] INFO: Sync from f8c43bba2010 (after t=1766185049)

[17917] INFO: Sync response received: 259 bytes

[17918] ERROR: Sync response decrypt failed

[18334] INFO: Sync response received: 259 bytes

[18335] ERROR: Sync response decrypt failed

[18338] INFO: Sync response received: 259 bytes

[18338] ERROR: Sync response decrypt failed

[18342] INFO: Sync response received: 259 bytes

[18342] ERROR: Sync response decrypt failed

[18345] INFO: Sync response received: 259 bytes

[18346] ERROR: Sync response decrypt failed

[18349] INFO: Sync response received: 259 bytes

[18349] ERROR: Sync response decrypt failed

[20022] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[20216] INFO: Rebuilt message ID cache: 20 messages

[20221] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[20421] INFO: Rebuilt message ID cache: 20 messages

[20425] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[20631] INFO: Rebuilt message ID cache: 20 messages

[20636] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[20846] INFO: Rebuilt message ID cache: 20 messages

[20851] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[21048] INFO: Rebuilt message ID cache: 20 messages

[21468] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[21684] INFO: Rebuilt message ID cache: 20 messages

[21689] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[21900] INFO: Rebuilt message ID cache: 20 messages

[21905] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[22123] INFO: Rebuilt message ID cache: 20 messages

[22127] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[22344] INFO: Rebuilt message ID cache: 20 messages

[31737] [Individual: Individual

INFO: [Individual] Current name: 'Rex'

Rebuilt message ID cache: 20 messages

[[Individual] My username: 'Archer'

35416] INFO[Individual] Not updating - current name 'Rex' is acceptable

: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[35892] INFO: File stats: total=20 empty=0 parseErr=0 matched=20

[35892] INFO: Loaded 20 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[35899] INFO: Sync request sent

[35899] INFO: Periodic sync requested

[35921] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[35983] INFO: File stats: total=20 empty=0 parseErr=0 matched=20

[35983] INFO: Loaded 20 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[35989] INFO: Sync request sent

[36013] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[36075] INFO: File stats: total=20 empty=0 parseErr=0 matched=20

[36190] INFO: Sync from f8c43bba2010 ts=1766185684

[36191] INFO: Sync from f8c43bba2010 (after t=1766185684)

[36726] INFO: Sync from f8c43bba2010 ts=1766185684

[36727] INFO: Sync from f8c43bba2010 (after t=1766185684)

[36733] INFO: Sync response received: 260 bytes

[36734] INFO: Sync phase 1 batch 1/2

[36737] INFO: Loaded 20 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[36795] INFO: Duplicate message skipped (exact match): id=0001587f00000017 sender=Archer

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/villagename len=4 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/villagename (uptime: 19180ms)

[MQTT] seenMessageIds size: 1

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Received village name announcement: Chat for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[19181] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[Village] Received village name announcement for a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53: Chat

[36796] INFO: Synced 1 messages

[37023] INFO: Sync response received: 257 bytes

[37454] INFO: Sync phase 1 batch 2/2

[37672] INFO: Message saved: id=0001c75b00000008 from=Rex village=a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[38574] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[38631] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[38632] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[38634] INFO: Phase 1 complete: 1 recent msgs

[38641] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[38700] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[38700] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[38701] INFO: Synced 1 messages

[40221] INFO: Sync response received: 260 bytes

[40222] INFO: Duplicate sync response ignored

[40230] INFO: Sync response received: 257 bytes

[40231] INFO: Duplicate sync response ignored

[59431] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[59491] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[59491] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[60785] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[60845] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[60845] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[61333] INFO: Sync request sent

[61347] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[61408] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[61408] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[61492] INFO: Sync from f8c43bba2010 ts=1766185714

[61493] INFO: Sync from f8c43bba2010 (after t=1766185714)

[61559] INFO: Batch updated 1 messages to status 3

[61695] INFO: Saved 21 total lines

[62100] INFO: Sync response received: 257 bytes

[62102] INFO: Sync phase 1 batch 1/1

[2223] INFO: ======== SYSTEM BOOT ========

[2223] INFO: Build: Dec 19 2025 15:05:27

[2223] INFO: System boot started

[2223] INFO: Build: v0.57.26

[7991] INFO: OTA Updater initialized, version: v0.57.26

[7991] INFO: OTA source: GitHub zacknorman-dev/SmallText

[9003] INFO: WiFi connected: 192.168.8.27

[9003] INFO: MQTT: Broker=mqtts://83f1da02f4574c7f9ffe4d23088c6b5c.s1.eu.hivemq.cloud:8883

[9004] INFO: MQTT: ClientID=smol_esp_f8c43bba2010_245

[9004] INFO: MQTT: User=smoltxt2

[9499] INFO: MQTT: TLS enabled with R12 certificate

[9499] INFO: MQTT: Config set - clean_session=true keepalive=60

[9500] INFO: MQTT messenger initialized

[9501] INFO: OTA: Boot update check

[11031] INFO: OTA: Already on latest version

[11084] INFO: Rebuilt message ID cache: 21 messages

[11198] INFO: MQTT: Subscribed to 1 villages

[11200] INFO: MQTT: Connected - subscribed to 1 villages

[13228] INFO: Sync request sent

[13228] INFO: MQTT: Boot sync requested for 1 villages

[13766] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[13975] INFO: Rebuilt message ID cache: 21 messages

[13980] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[14238] INFO: Rebuilt message ID cache: 21 messages

[14242] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[14455] INFO: Rebuilt message ID cache: 21 messages

[14758] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[14987] INFO: Rebuilt message ID cache: 21 messages

[14992] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[15202] INFO: Rebuilt message ID cache: 21 messages

[15908] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[16009] INFO: Rebuilt message ID cache: 21 messages

[16013] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[16126] INFO: Rebuilt message ID cache: 21 messages

[16130] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[16240] INFO: Rebuilt message ID cache: 21 messages

[16244] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[16353] INFO: Rebuilt message ID cache: 21 messages

[32921] INFO: Rebuilt message ID cache: 21 messages

[34418] INFO: Sync from e4cc3bba2010 ts=1766185714

[34962] INFO: Sync from e4cc3bba2010 (after t=1766185714)

[34963] INFO: Log buffer pruned, removed 125 old entries

[34983] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[35054] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[35054] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[35485] INFO: Sync: Sending 1 msgs to e4cc3bba2010

[35486] INFO: Sync phase 1: 1 msgs

[35492] INFO: Sync batch 1 sent

[36599] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[36658] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[36658] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[36664] INFO: Sync request sent

[36665] INFO: Periodic sync requested

[36875] INFO: Sync from f8c43bba2010 ts=1766185714

[36876] INFO: Sync from f8c43bba2010 (after t=1766185714)

[37440] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[37489] INFO: Sync response received: 257 bytes

[37490] INFO: Sync phase 1 batch 1/1

[37570] INFO: Duplicate message skipped (exact match): id=0001c75b00000008 sender=Rex

[37585] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[37647] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[37647] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[37651] INFO: Phase 1 complete: 1 recent msgs

[37666] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[37728] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[37748] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[[Village] Found existing village with ID 'a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53' in slot 0

37748] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[38145] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[38146] INFO: Synced 1 messages

[38152] INFO: Sync request sent

[38171] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[38233] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[38233] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[38515] INFO: Sync from e4cc3bba2010 ts=1766185714

[38516] INFO: Sync from e4cc3bba2010 (after t=1766185714)

[39008] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[39073] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[39074] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[39078] INFO: Sync: Sending 1 msgs to e4cc3bba2010

[39078] INFO: Sync phase 1: 1 msgs[Village] Loading from /village_0.dat...



[39084] INFO: Sync batch 1 sent

[40234] INFO: Skipping status update for 0003a37500000005 - current status 3 >= new status 2

[40255] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[40319] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[40319] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[41689] INFO: Skipping status update for 0004775b00000004 - current status 3 >= new status 2

[41708] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[41772] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[41772] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[42692] INFO: Skipping status update for 000593db00000007 - current status 3 >= new status 2

[42712] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[42775] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[42775] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[43694] INFO: Skipping status update for 000123e800000006 - current status 3 >= new status 2

[43713] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[44252] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[44252] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[45101] INFO: Sync from f8c43bba2010 ts=1766185714

[45101] INFO: Sync from f8c43bba2010 (after t=1766185714)

[45160] INFO: Sync response received: 257 bytes

[45161] INFO: Sync phase 1 batch 1/1

[45250] INFO: Duplicate message skipped (exact match): id=0001c75b00000008 sender=Rex

[45272] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[45338] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[45338] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[2210] INFO: ======== SYSTEM BOOT ========

[2211] INFO: Build: Dec 19 2025 15:05:27

[2211] INFO: System boot started

[2211] INFO: Build: v0.57.26

[7980] INFO: OTA Updater initialized, version: v0.57.26

[7980] INFO: OTA source: GitHub zacknorman-dev/SmallText

[11492] INFO: WiFi connected: 192.168.8.27

[11492] INFO: MQTT: Broker=mqtts://83f1da02f4574c7f9ffe4d23088c6b5c.s1.eu.hivemq.cloud:8883

[11492] INFO: MQTT: ClientID=smol_esp_f8c43bba2010_245

[11492] INFO: MQTT: User=smoltxt2

[11967] INFO: MQTT: TLS enabled with R12 certificate

[11968] INFO: MQTT: Config set - clean_session=true keepalive=60

[11969] INFO: MQTT messenger initialized

[11969] INFO: OTA: Boot update check

[13334] INFO: OTA: Already on latest version

[13537] INFO: Rebuilt message ID cache: 21 messages

[13649] INFO: MQTT: Subscribed to 1 villages

[13651] INFO: MQTT: Connected - subscribed to 1 villages

[15711] INFO: Sync request sent

[15711] INFO: MQTT: Boot sync requested for 1 villages

[16939] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[17092] INFO: Rebuilt message ID cache: 21 messages

[17096] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[17246] INFO: Rebuilt message ID cache: 21 messages

[17250] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[17394] INFO: Rebuilt message ID cache: 21 messages

[17398] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[17551] INFO: Rebuilt message ID cache: 21 messages

[17555] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[17709] INFO: Rebuilt message ID cache: 21 messages

[18199] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[18375] INFO[Village] File size: 234 bytes

[Village] JSON parsed successfully

: Rebuilt message ID cache: 21 messages

[18781] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[18951] INFO: Rebuilt message ID cache: 21 messages

[18957] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[19127] INFO: Rebuilt message ID cache: 21 messages

[19131] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[19318] INFO: Rebuilt message ID cache: 21 messages

[28709] [19361] INFO: Rebuilt message ID cache: 24 messages

[Village] Ignoring village name for individual conversation (uses username instead)

INFO: Rebuilt message ID cache: 21 messages

[32382] [MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 19365ms)

[MQTT] seenMessageIds size: 1

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:000042e300000001:000141cc00000009:0:0

[MQTT] NEW message: 000042e300000001 - adding to seenMessageIds (size: 1)

INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[32934] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[32934] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[32941] INFO: Sync request sent

[32941] INFO: Periodic sync requested

[32957] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[33019] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[33019] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[33025] INFO: Sync request sent

[33044] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[33105] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[33651] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[33835] INFO: Sync from f8c43bba2010 ts=1766185714

[33836] INFO: Sync from f8c43bba2010 (after t=1766185714)

[34199] INFO: Sync from f8c43bba2010 ts=1766185714

[34199] INFO: Sync from f8c43bba2010 (after t=1766185714)

[34358] INFO: Sync response received: 257 bytes

[34360] INFO: Sync phase 1 batch 1/2

[34444] INFO: Duplicate message skipped (exact match): id=0001c75b00000008 sender=Rex

[34445] INFO: Synced 1 messages

[34474] INFO: Sync response received: 257 bytes

[35055] INFO: Sync phase 1 batch 2/2

[35056] INFO: Log buffer pruned, removed 125 old entries

[35246] INFO: Message saved: id=0000e3ff00000007 from=Rex village=a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[36118] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[36182] INFO: File stats: total=22 empty=0 parseErr=0 matched=22

[36825] INFO: Loaded 22 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[36828] INFO: Phase 1 complete: 1 recent msgs

[36834] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[36895] INFO: File stats: total=22 empty=0 parseErr=0 matched=22

[36895] INFO: Loaded 22 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[36896] INFO: Synced 1 messages

[37327] INFO: Sync response received: 257 bytes

[37328] INFO: Duplicate sync response ignored

[37331] INFO: Sync response received: 257 bytes

[37333] INFO: Duplicate sync response ignored

[2174] INFO: ======== SYSTEM BOOT ========

[2174] INFO: Build: Dec 19 2025 15:05:27

[2174] INFO: System boot started

[2174] INFO: Build: v0.57.26

[7942] INFO: OTA Updater initialized, version: v0.57.26

[7942] INFO: OTA source: GitHub zacknorman-dev/SmallText

[13454] INFO: WiFi connected: 192.168.8.27

[13454] INFO: MQTT: Broker=mqtts://83f1da02f4574c7f9ffe4d23088c6b5c.s1.eu.hivemq.cloud:8883

[13454] INFO: MQTT: ClientID=smol_esp_f8c43bba2010_245

[13454] INFO: MQTT: User=smoltxt2

[13874] INFO: MQTT: TLS enabled with R12 certificate

[13874] INFO: MQTT: Config set - clean_session=true keepalive=60

[13876] INFO: MQTT messenger initialized

[13876] INFO: OTA: Boot update check

[15561] INFO: Rebuilt message ID cache: 22 messages

[15665] INFO: MQTT: Subscribed to 1 villages

[15666] INFO: MQTT: Connected - subscribed to 1 villages

[15690] INFO: OTA: Update available v0.57.27

[15692] INFO: OTA: New version available: v0.57.27

[17734] INFO: Sync request sent

[18204] INFO: MQTT: Boot sync requested for 1 villages

[18210] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[18360] INFO: Rebuilt message ID cache: 22 messages

[18364] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[18516] INFO: Rebuilt message ID cache: 22 messages

[18520] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[18665] INFO: Rebuilt message ID cache: 22 messages

[18900] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[19050] INFO: Rebuilt message ID cache: 22 messages

[19056] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[19736] INFO: Rebuilt message ID cache: 22 messages

[19741] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[19921] INFO: Rebuilt message ID cache: 22 messages

[19926] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[20105] INFO: Rebuilt message ID cache: 22 messages

[20110] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[20292] INFO: Rebuilt message ID cache: 22 messages

[20297] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[20469] INFO: Rebuilt message ID cache: 22 messages

[70362] INFO: OTA: User approved update

[2220] INFO: ======== SYSTEM BOOT ========

[2220] INFO: Build: Dec 19 2025 15:20:25

[2220] INFO: System boot started

[2220] INFO: Build: v0.57.27

[7991] INFO: OTA Updater initialized, version: v0.57.27

[7991] INFO: OTA source: GitHub zacknorman-dev/SmallText

[9003] INFO: WiFi connected: 192.168.8.27

[9003] INFO: MQTT: Broker=mqtts://83f1da02f4574c7f9ffe4d23088c6b5c.s1.eu.hivemq.cloud:8883

[9004] INFO: MQTT: ClientID=smol_esp_f8c43bba2010_245

[9004] INFO: MQTT: User=smoltxt2

[9490] INFO: MQTT: TLS enabled with R12 certificate

[9491] INFO: MQTT: Config set - clean_session=true keepalive=60

[9492] INFO: MQTT messenger initialized

[9492] INFO: OTA: Boot update check

[10797] INFO: OTA: Already on latest version

[11093] INFO: Rebuilt message ID cache: 22 messages

[11214] INFO: MQTT: Subscribed to 1 villages

[11216] INFO: MQTT: Connected - subscribed to 1 villages

[13276] INFO: Sync request sent

[13276] INFO: MQTT: Boot sync requested for 1 villages

[13785] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[14003] INFO: Rebuilt message ID cache: 22 messages

[14008] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[14229] INFO: Rebuilt message ID cache: 22 messages

[14233] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[14454] INFO: Rebuilt message ID cache: 22 messages

[14938] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[15172] INFO: Rebuilt message ID cache: 22 messages

[15178] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[15413] INFO: Rebuilt message ID cache: 22 messages

[16147] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[16247] INFO: Rebuilt message ID cache: 22 messages

[16251] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[16356] INFO: Rebuilt message ID cache: 22 messages

[16360] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[16468] INFO: Rebuilt message ID cache: 22 messages

[16472] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[16581] INFO: Rebuilt message ID cache: 22 messages

[25840] INFO: Rebuilt message ID cache: 22 messages

[30009] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[30555] INFO: File stats: total=22 empty=0 parseErr=0 matched=22

[30555] INFO: Loaded 22 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[30562] INFO: Sync request sent

[30562] INFO: Periodic sync requested

[30815] INFO: Sync from f8c43bba2010 ts=1766185855

[30815] INFO: Sync from f8c43bba2010 (after t=1766185855)

[31326] INFO: Sync response received: 257 bytes

[31328] INFO: Sync phase 1 batch 1/1

[31399] INFO: Duplicate message skipped (exact match): id=0000e3ff00000007 sender=Rex

[31406] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[32001] INFO: File stats: total=22 empty=0 parseErr=0 matched=22

[32001] INFO: Loaded 22 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[32004] INFO: Phase 1 complete: 1 recent msgs

[32015] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[32077] INFO: File stats: total=22 empty=0 parseErr=0 matched=22

[32077] INFO: Loaded 22 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[32078] INFO: Synced 1 messages

[32357] INFO: Sync from e4cc3bba2010 ts=1766185855

[32357] INFO: Sync from e4cc3bba2010 (after t=1766185855)

[32370] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[32976] INFO: File stats: total=22 empty=0 parseErr=0 matched=22

[32976] INFO: Loaded 22 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[32981] INFO: Sync: Sending 1 msgs to e4cc3bba2010

[32981] INFO: Sync phase 1: 1 msgs

[32988] INFO: Sync batch 1 sent

[33092] INFO: Sync from e4cc3bba2010 ts=1766185855

[33092] INFO: Sync from e4cc3bba2010 (after t=1766185855)

[33106] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[33174] INFO: File stats: total=22 empty=0 parseErr=0 matched=22

[33174] INFO: Loaded 22 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[33718] INFO: Sync: Sending 1 msgs to e4cc3bba2010

[33719] INFO: Log buffer pruned, removed 125 old entries

[33719] INFO: Sync phase 1: 1 msgs

[33726] INFO: Sync batch 1 sent

[34284] INFO: Skipping status update for 0003a37500000005 - current status 3 >= new status 2

[34789] INFO: Skipping status update for 0004775b00000004 - current status 3 >= new status 2

[34869] INFO: Skipping status update for 000593db00000007 - current status 3 >= new status 2

[34953] INFO: Skipping status update for 000123e800000006 - current status 3 >= new status 2

[34973] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[35038] INFO: File stats: total=22 empty=0 parseErr=0 matched=22

[35039] INFO: Loaded 22 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[35083] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[35149] INFO: File stats: total=22 empty=0 parseErr=0 matched=22

[35150] INFO: Loaded 22 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[35953] INFO: Skipping status update for 0001587f00000017 - current status 3 >= new status 2

[36389] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[36455] INFO: File stats: total=22 empty=0 parseErr=0 matched=22

[36455] INFO: Loaded 22 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[37300] INFO: Sync request sent

[37322] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[37388] INFO: File stats: total=22 empty=0 parseErr=0 matched=22

[37388] INFO: Loaded 22 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[37677] INFO: Sync from f8c43bba2010 ts=1766185855

[37677] INFO: Sync from f8c43bba2010 (after t=1766185855)

[37796] INFO: Batch updated 1 messages to status 3

[38643] INFO: Saved 22 total lines

[39207] INFO: Sync response received: 257 bytes

[39208] INFO: Sync phase 1 batch 1/1

[39276] INFO: Duplicate message skipped (exact match): id=0000e3ff00000007 sender=Rex

[39282] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[39342] INFO: File stats: total=22 empty=0 parseErr=0 matched=22

[39342] INFO: Loaded 22 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[39345] INFO: Phase 1 complete: 1 recent msgs

[39346] INFO: Synced 1 messages

[41667] INFO: Sync response received: 257 bytes

[42150] INFO: Duplicate sync response ignored

[42894] INFO: Sync response received: 257 bytes

[42895] INFO: Duplicate sync response ignored

[45351] INFO: Sync response received: 257 bytes

[45352] INFO: Sync phase 1 batch 1/1

[45424] INFO: Duplicate message skipped (exact match): id=0000e3ff00000007 sender=Rex

[45433] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[45494] INFO: File stats: total=22 empty=0 parseErr=0 matched=22

[45495] INFO: Loaded 22 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[45498] INFO: Phase 1 complete: 1 recent msgs

[45990] INFO: Synced 1 messages

[54617] INFO: Message saved: id=0000d25400000006 from=Rex village=a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[54679] INFO: Updated message 0000d25400000006 to status 2

[54814] INFO: Saved 23 total lines

[54877] INFO: Updated message 0000d25400000006 to status 3

[55015] INFO: Saved 23 total lines

[65848] INFO: MQTT SHOUT sent: qqqq

[65849] INFO: MQTT send: SUCCESS id=0001013300000015

[65990] INFO: Message saved: id=0001013300000015 from=Archer village=a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[66414] INFO: Updated message 0001013300000015 from status 1 to 2

[2209] INFO: ======== SYSTEM BOOT ========

[2209] INFO: Build: Dec 19 2025 15:20:25

[2210] INFO: System boot started

[2210] INFO: Build: v0.57.27

[7978] INFO: OTA Updater initialized, version: v0.57.27

[7979] INFO: OTA source: GitHub zacknorman-dev/SmallText

[12491] INFO: WiFi connected: 192.168.8.27

[12491] INFO: MQTT: Broker=mqtts://83f1da02f4574c7f9ffe4d23088c6b5c.s1.eu.hivemq.cloud:8883

[12491] INFO: MQTT: ClientID=smol_esp_f8c43bba2010_245

[12491] INFO: MQTT: User=smoltxt2

[12974] INFO: MQTT: TLS enabled with R12 certificate

[12974] INFO: MQTT: Config set - clean_session=true keepalive=60

[12975] INFO: MQTT messenger initialized

[12975] INFO: OTA: Boot update check

[14451] INFO: Rebuilt message ID cache: 24 messages

[14557] INFO: MQTT: Subscribed to 1 villages

[14559] INFO: MQTT: Connected - subscribed to 1 villages

[14566] INFO: OTA: Already on latest version

[16622] INFO: Sync request sent

[16622] INFO: MQTT: Boot sync requested for 1 villages

[17885] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[18036] INFO: Rebuilt message ID cache: 24 messages

[18041] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[18192] INFO: Rebuilt message ID cache: 24 messages

[18196] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[18348] INFO: Rebuilt message ID cache: 24 messages

[18352] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[18507] INFO: Rebuilt message ID cache: 24 messages

[18511] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[18671] INFO: Rebuilt message ID cache: 24 messages


========== END LOG DUMP ==========


[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/username/f8c43bba2010 len=6 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/username/f8c43bba2010 (uptime: 19624ms)

[MQTT] seenMessageIds size: 2

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Received username announcement: Archer for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[19625] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[Individual] ========================================

[Individual] Received username announcement!

[Individual] Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[Individual] Username: Archer

[Individual] ========================================

[Village] Found existing village with ID 'a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53' in slot 0

[Individual] Found village in slot: 0

[Village] Loading from /village_0.dat...

[Village] File size: 234 bytes

[Village] JSON parsed successfully

[19808] INFO: Rebuilt message ID cache: 24 messages

[Individual] Village type: Individual

[Individual] Current name: 'Rex'

[Individual] My username: 'Archer'

[Individual] Ignoring username - it's our own name

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/username/e4cc3bba2010 len=3 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/username/e4cc3bba2010 (uptime: 19813ms)

[MQTT] seenMessageIds size: 2

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Received username announcement: Rex for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[19814] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[Individual] ========================================

[Individual] Received username announcement!

[Individual] Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[Individual] Username: Rex

[Individual] ========================================

[Village] Found existing village with ID 'a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53' in slot 0

[Individual] Found village in slot: 0

[Village] Loading from /village_0.dat...

[Village] File size: 234 bytes

[Village] JSON parsed successfully

[19996] INFO: Rebuilt message ID cache: 24 messages

[Individual] Village type: Individual

[Individual] Current name: 'Rex'

[Individual] My username: 'Archer'

[Individual] Not updating - current name 'Rex' is acceptable

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/villagename len=4 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/villagename (uptime: 20000ms)

[MQTT] seenMessageIds size: 2

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Received village name announcement: Chat for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[20000] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[Village] Received village name announcement for a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53: Chat

[Village] Found existing village with ID 'a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53' in slot 0

[Village] Loading from /village_0.dat...

[Village] File size: 234 bytes

[Village] JSON parsed successfully

[20179] INFO: Rebuilt message ID cache: 24 messages

[Village] Ignoring village name for individual conversation (uses username instead)

[App] MQTT quiet for 2s - sync likely complete, transitioning to main menu

_Update_Part : 766998

_Update_Part : 766999

[Loop] Entering handleMainMenu for first time

_Update_Full : 3259999

[KB-READ] I2C byte: 0xB7 (183)

[Keyboard] RIGHT pressed

[MainMenu] ENTER or RIGHT pressed - advancing to selection

[ 27317][E][vfs_api.cpp:105] open(): /littlefs/village_1.dat does not exist, no permits for creation

[ 27329][E][vfs_api.cpp:105] open(): /littlefs/village_2.dat does not exist, no permits for creation

[ 27340][E][vfs_api.cpp:105] open(): /littlefs/village_3.dat does not exist, no permits for creation

[ 27352][E][vfs_api.cpp:105] open(): /littlefs/village_4.dat does not exist, no permits for creation

[ 27363][E][vfs_api.cpp:105] open(): /littlefs/village_5.dat does not exist, no permits for creation

[ 27375][E][vfs_api.cpp:105] open(): /littlefs/village_6.dat does not exist, no permits for creation

[ 27386][E][vfs_api.cpp:105] open(): /littlefs/village_7.dat does not exist, no permits for creation

[ 27398][E][vfs_api.cpp:105] open(): /littlefs/village_8.dat does not exist, no permits for creation

[ 27409][E][vfs_api.cpp:105] open(): /littlefs/village_9.dat does not exist, no permits for creation

[Conversations] Found 1 valid villages

  Slot 0: Rex

_Update_Part : 766998

_Update_Part : 766998

[MainMenu] Opening conversation list

[KB-READ] I2C byte: 0xB7 (183)

[Keyboard] RIGHT pressed

[ConversationList] Loading village from slot 0: Rex

[Village] Loading from /village_0.dat...

[Village] File size: 234 bytes

[Village] JSON parsed successfully

[29511] INFO: Rebuilt message ID cache: 24 messages

[Settings] Saved current village slot: 0

[MQTT] Active village set to: Rex

[ConversationList] Active village: Rex

[UI] Starting full refresh for conversation menu...

_Update_Full : 3259998

[UI] Full refresh complete for conversation menu

[KB-READ] I2C byte: 0xB7 (183)

[Keyboard] RIGHT pressed

[MQTT] Active village set to: Rex

[Loop] Active village set to: Rex

[App] Periodic sync check

[33184] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[33800] INFO: File stats: total=24 empty=0 parseErr=0 matched=24

[33800] INFO: Loaded 24 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[Village] Loaded 24 messages (sorted by timestamp)

[MQTT] Sync request payload: {"mac":"f8c43bba2010","timestamp":1766186878}

[MQTT] Publishing sync request to: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/sync-request/f8c43bba2010

[MQTT] Sync request sent (QoS 1, will receive all messages, dedup on receive)

[33807] INFO: Sync request sent

[App] Periodic sync requested (last message: 1766186878)

[33807] INFO: Periodic sync requested

[App] ===== ENTERING MESSAGING SCREEN =====

[App] Messages in history: 0

[33822] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[33892] INFO: File stats: total=24 empty=0 parseErr=0 matched=24

[33892] INFO: Loaded 24 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[Village] Loaded 24 messages (sorted by timestamp)

[Perf] Loaded 24 messages in 86ms

[Sync] Requesting background sync: last timestamp=1766186878

[MQTT] Sync request payload: {"mac":"f8c43bba2010","timestamp":1766186878}

[MQTT] Publishing sync request to: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/sync-request/f8c43bba2010

[MQTT] Sync request sent (QoS 1, will receive all messages, dedup on receive)

[33898] INFO: Sync request sent

[UI] Message added. Total: 1

[UI] Message added. Total: 2

[UI] Message added. Total: 3

[UI] Message added. Total: 4

[UI] Message added. Total: 5

[UI] Message added. Total: 6

[UI] Message added. Total: 7

[UI] Message added. Total: 8

[UI] Message added. Total: 9

[UI] Message added. Total: 10

[UI] Message added. Total: 11

[UI] Message added. Total: 12

[UI] Message added. Total: 13

[UI] Message added. Total: 14

[UI] Message added. Total: 15

[UI] Message added. Total: 16

[UI] Message added. Total: 17

[UI] Message added. Total: 18

[UI] Message added. Total: 19

[UI] Message added. Total: 20

[UI] Message added. Total: 21

[UI] Message added. Total: 22

[UI] Message added. Total: 23

[UI] Message added. Total: 24

[Perf] Added 24 messages to UI in 4ms

[MarkRead] ===== STARTING markVisibleMessagesAsRead_Optimized() =====

[MarkRead] Village initialized: YES

[MarkRead] Current state - appState: 31, inMessagingScreen: 1

[MarkRead] Using pre-loaded messages (count: 24)

[33917] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[33986] INFO: File stats: total=24 empty=0 parseErr=0 matched=24

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/sync-request/f8c43bba2010 len=73 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/sync-request/f8c43bba2010 (uptime: 34199ms)

[MQTT] seenMessageIds size: 2

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Received sync request for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted sync request: {"mac":"f8c43bba2010","timestamp":1766186878}

[MQTT] Sync request from f8c43bba2010 for messages after timestamp 1766186878

[34200] INFO: Sync from f8c43bba2010 ts=1766186878

[Sync] Request from f8c43bba2010 for messages after timestamp: 1766186878

[34200] INFO: Sync from f8c43bba2010 (after t=1766186878)

[Sync] Ignoring sync request from self

[MQTT] Message published successfully, msg_id=47203
[MQTT] Message published successfully, msg_id=62174
[34541] INFO: Loaded 24 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[Village] Loaded 24 messages (sorted by timestamp)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/sync-request/f8c43bba2010 len=73 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/sync-request/f8c43bba2010 (uptime: 34882ms)

[MQTT] seenMessageIds size: 2

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Received sync request for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted sync request: {"mac":"f8c43bba2010","timestamp":1766186878}

[MQTT] Sync request from f8c43bba2010 for messages after timestamp 1766186878

[34883] INFO: Sync from f8c43bba2010 ts=1766186878

[Sync] Request from f8c43bba2010 for messages after timestamp: 1766186878

[34884] INFO: Sync from f8c43bba2010 (after t=1766186878)

[Sync] Ignoring sync request from self

[MQTT] Message published successfully, msg_id=40556
[MQTT] Message published successfully, msg_id=1957
[MQTT] Message published successfully, msg_id=12209
[MQTT] Message published successfully, msg_id=60845
[MQTT] Message published successfully, msg_id=56244
[App] Sent 15 pending ACKs for sync'd messages

[MarkRead] Will check messages from index 0 to 23

[MarkRead] [0] id=000508e00000000e, content='666', received=0, status=1, senderMAC=f8c43bba2010

[MarkRead]   -> SKIP: Sent by me (received=false)

[MarkRead] [1] id=0002b40c0000004a, content='Rex joined the conve', received=1, status=3, senderMAC=system

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [2] id=000343f300000001, content='Archer joined the co', received=1, status=3, senderMAC=system

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [3] id=0003a37500000005, content='word', received=0, status=3, senderMAC=f8c43bba2010

[MarkRead]   -> SKIP: Sent by me (received=false)

[MarkRead] [4] id=0003ce3a0000004f, content='dood', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [5] id=00042ed600000050, content='555', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [6] id=0004775b00000004, content='hey man', received=0, status=3, senderMAC=f8c43bba2010

[MarkRead]   -> SKIP: Sent by me (received=false)

[MarkRead] [7] id=0004e57400000004, content='what up!!', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [8] id=000593db00000007, content='just chillin'', received=0, status=3, senderMAC=f8c43bba2010

[MarkRead]   -> SKIP: Sent by me (received=false)

[MarkRead] [9] id=0000e6dd00000005, content='7777', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [10] id=000123e800000006, content='8888', received=0, status=3, senderMAC=f8c43bba2010

[MarkRead]   -> SKIP: Sent by me (received=false)

[MarkRead] [11] id=00018a4100000008, content='9999', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [12] id=00031c3700000009, content='0000', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [13] id=0002083300000008, content='777', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [14] id=0002afc400000009, content='88889', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [15] id=0003a8fa0000000a, content='4444', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [16] id=0003d2440000000b, content='666', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [17] id=0006c84e0000000a, content='666999', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [18] id=00010daa00000005, content='4545', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [19] id=0001587f00000017, content='read', received=0, status=3, senderMAC=f8c43bba2010

[MarkRead]   -> SKIP: Sent by me (received=false)

[MarkRead] [20] id=0001c75b00000008, content='poop', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [21] id=0000e3ff00000007, content='1234', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [22] id=0000d25400000006, content='ffff', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [23] id=0001013300000015, content='qqqq', received=0, status=3, senderMAC=f8c43bba2010

[MarkRead]   -> SKIP: Sent by me (received=false)

[MarkRead] ===== SUMMARY =====

[MarkRead] Total checked: 24

[MarkRead] Sent by me: 7

[MarkRead] Already read: 17

[MarkRead] Marked as read: 0

[MarkRead] Read receipts queued: 0

[MarkRead] No messages needed marking as read

[MarkRead] ===== DONE =====

[Perf] Marked unread messages in 1020ms

[Perf] ===== TOTAL TIME: 1115ms =====

[MQTT] Message published successfully, msg_id=35134
[MQTT] Message published successfully, msg_id=5509
[MQTT] Message published successfully, msg_id=44184
[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 35603ms)

[MQTT] seenMessageIds size: 2

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:000086ee00000002:0003ce3a0000004f:0:0

[MQTT] NEW message: 000086ee00000002 - adding to seenMessageIds (size: 2)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 35609ms)

[MQTT] seenMessageIds size: 3

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:000086f300000003:00042ed600000050:0:0

[MQTT] NEW message: 000086f300000003 - adding to seenMessageIds (size: 3)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 35613ms)

[MQTT] seenMessageIds size: 4

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:000086f800000004:0004e57400000004:0:0

[MQTT] NEW message: 000086f800000004 - adding to seenMessageIds (size: 4)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 35617ms)

[MQTT] seenMessageIds size: 5

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:000086fc00000005:0000e6dd00000005:0:0

[MQTT] NEW message: 000086fc00000005 - adding to seenMessageIds (size: 5)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 35621ms)

[MQTT] seenMessageIds size: 6

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:0000870100000006:00018a4100000008:0:0

[MQTT] NEW message: 0000870100000006 - adding to seenMessageIds (size: 6)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 35626ms)

[MQTT] seenMessageIds size: 7

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:0000870600000007:00031c3700000009:0:0

[MQTT] NEW message: 0000870600000007 - adding to seenMessageIds (size: 7)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 35630ms)

[MQTT] seenMessageIds size: 8

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:0000870b00000008:0002083300000008:0:0

[MQTT] NEW message: 0000870b00000008 - adding to seenMessageIds (size: 8)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 35634ms)

[MQTT] seenMessageIds size: 9

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:0000871100000009:0002afc400000009:0:0

[MQTT] NEW message: 0000871100000009 - adding to seenMessageIds (size: 9)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 35638ms)

[MQTT] seenMessageIds size: 10

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:000087160000000a:0003a8fa0000000a:0:0

[MQTT] NEW message: 000087160000000a - adding to seenMessageIds (size: 10)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 35643ms)

[MQTT] seenMessageIds size: 11

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:0000871b0000000b:0003d2440000000b:0:0

[MQTT] NEW message: 0000871b0000000b - adding to seenMessageIds (size: 11)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 35647ms)

[MQTT] seenMessageIds size: 12

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:000087200000000c:0006c84e0000000a:0:0

[MQTT] NEW message: 000087200000000c - adding to seenMessageIds (size: 12)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 35651ms)

[MQTT] seenMessageIds size: 13

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:000087250000000d:00010daa00000005:0:0

[MQTT] NEW message: 000087250000000d - adding to seenMessageIds (size: 13)

[MQTT] EVENT_DATA: topic=smoltxt/f8c43bba2010/sync-response len=260 session_present=1
[MQTT] Received on topic: smoltxt/f8c43bba2010/sync-response (uptime: 35655ms)

[MQTT] seenMessageIds size: 14

[MQTT] ============================================

[MQTT] SYNC RESPONSE RECEIVED - length=260 bytes

[MQTT] ============================================

[MQTT] Decrypting sync response...

[35656] INFO: Sync response received: 260 bytes

[MQTT] Decrypted sync response: {"messages":[{"sender":"Archer","senderMAC":"f8c43bba2010","content":"qqqq","timestamp":1766186878,"...

[MQTT] Sync phase 1 batch 1/2

[35657] INFO: Sync phase 1 batch 1/2

[MQTT] Sync Phase 1 started (recent 20 messages) - disabling status updates

[MQTT] Stored sync target MAC: f8c43bba2010 for background phases

[MQTT] Synced message: 0001013300000015 from Archer content='qqqq'

[Message] From Archer: qqqq (village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[Power] Activity timer reset - message received

[SYNC DEBUG] Receiving msg: ID=0001013300000015 from=Archer isNew=NO phase=1

[Message] Background sync or duplicate - silent save only (no UI update)

[35745] INFO: Duplicate message skipped (exact match): id=0001013300000015 sender=Archer

[Message] Duplicate message - skipping all processing

[MQTT] Processed 1 synced messages in phase 1

[35745] INFO: Synced 1 messages

_Update_Part : 802105[MQTT] EVENT_DATA: topic=smoltxt/f8c43bba2010/sync-response len=257 session_present=1
[MQTT] Received on topic: smoltxt/f8c43bba2010/sync-response (uptime: 35749ms)

[MQTT] seenMessageIds size: 14

[MQTT] ============================================

[MQTT] SYNC RESPONSE RECEIVED - length=257 bytes

[MQTT] ============================================

[MQTT] Decrypting sync response...

[35749] INFO: Sync response received: 257 bytes



[MQTT] Decrypted sync response: {"messages":[{"sender":"Rex","senderMAC":"e4cc3bba2010","content":"mmmm","timestamp":1766186894,"mes...

[MQTT] Sync phase 1 batch 2/2

[36319] INFO: Sync phase 1 batch 2/2

[MQTT] Sending ACK for synced message: 000141cc00000009

[MQTT] Synced message: 000141cc00000009 from Rex content='mmmm'

[Message] From Rex: mmmm (village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[Power] Activity timer reset - message received

[SYNC DEBUG] Receiving msg: ID=000141cc00000009 from=Rex isNew=YES phase=1

[Message] Phase 1 sync - new message found, updating UI

[UI] Drawing messaging. History size: 24

[36518] INFO: Message saved: id=000141cc00000009 from=Rex village=a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[UI] Message added. Total: 25

[Message] Added to UI. Total messages in history: 25

[UI] Message received - requesting partial update

[UI] Drawing messaging. History size: 25

_Update_Part : 767456

_Update_Part : 766126

[MQTT] Phase 1 complete - processed 1 messages

[37397] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[37467] INFO: File stats: total=25 empty=0 parseErr=0 matched=25

[37468] INFO: Loaded 25 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[Village] Loaded 25 messages (sorted by timestamp)

========================================

[SYNC DEBUG] Device f8c43bba2010 AFTER Phase 1 complete

[SYNC DEBUG] Total messages in storage NOW: 25

[SYNC DEBUG] Message IDs NOW in store (chronological order):

  [0] ID=000508e00000000e from=Archer time=1765325129 status=1

  [1] ID=0002b40c0000004a from=SmolTxt time=1766168672 status=3

  [2] ID=000343f300000001 from=SmolTxt time=1766168706 status=3

  [3] ID=0003a37500000005 from=Archer time=1766168730 status=3

  [4] ID=0003ce3a0000004f from=Rex time=1766168743 status=3

  [5] ID=00042ed600000050 from=Rex time=1766168768 status=3

  [6] ID=0004775b00000004 from=Archer time=1766182279 status=3

  [7] ID=0004e57400000004 from=Rex time=1766182305 status=3

  [8] ID=000593db00000007 from=Archer time=1766182352 status=3

  [9] ID=0000e6dd00000005 from=Rex time=1766183509 status=3

  [10] ID=000123e800000006 from=Archer time=1766183522 status=3

  [11] ID=00018a4100000008 from=Rex time=1766183551 status=3

  [12] ID=00031c3700000009 from=Rex time=1766183653 status=3

  [13] ID=0002083300000008 from=Rex time=1766183801 status=3

  [14] ID=0002afc400000009 from=Rex time=1766183844 status=3

  [15] ID=0003a8fa0000000a from=Rex time=1766183907 status=3

  [16] ID=0003d2440000000b from=Rex time=1766183919 status=3

  [17] ID=0006c84e0000000a from=Rex time=1766185049 status=3

  [18] ID=00010daa00000005 from=Rex time=1766185666 status=3

  [19] ID=0001587f00000017 from=Archer time=1766185684 status=3

  [20] ID=0001c75b00000008 from=Rex time=1766185714 status=3

  [21] ID=0000e3ff00000007 from=Rex time=1766185855 status=3

  [22] ID=0000d25400000006 from=Rex time=1766186867 status=3

  [23] ID=0001013300000015 from=Archer time=1766186878 status=3

  [24] ID=000141cc00000009 from=Rex time=1766186894 status=2

[SYNC DEBUG] UI message count: 25

========================================

[MQTT] Phase 1 complete - recent messages synced, re-enabled status updates

[37471] INFO: Phase 1 complete: 1 recent msgs

[Callback] Boot sync complete - setting flag

[Sync] Post-sync cleanup: Checking for messages stuck at status 1

[37483] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[37554] INFO: File stats: total=25 empty=0 parseErr=0 matched=25

[37554] INFO: Loaded 25 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[Village] Loaded 25 messages (sorted by timestamp)

[Sync] Post-sync cleanup: All message statuses correct

[MQTT] Boot sync complete callback fired

[MQTT] Sync fully complete - no more history

[MQTT] Processed 1 synced messages in phase 1

[37555] INFO: Synced 1 messages

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 38335ms)

[MQTT] seenMessageIds size: 14

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:0000872a0000000e:0001c75b00000008:0:0

[MQTT] NEW message: 0000872a0000000e - adding to seenMessageIds (size: 14)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 38340ms)

[MQTT] seenMessageIds size: 15

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:000087300000000f:0000e3ff00000007:0:0

[MQTT] NEW message: 000087300000000f - adding to seenMessageIds (size: 15)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 38344ms)

[MQTT] seenMessageIds size: 16

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:0000884600000010:0000d25400000006:0:0

[MQTT] NEW message: 0000884600000010 - adding to seenMessageIds (size: 16)

[MQTT] Message published successfully, msg_id=44868
[MQTT] Message published successfully, msg_id=17619
[Battery] Voltage: 4.10V, Percent: 89%
[MQTT] EVENT_DATA: topic=smoltxt/f8c43bba2010/sync-response len=260 session_present=1
[MQTT] Received on topic: smoltxt/f8c43bba2010/sync-response (uptime: 38782ms)

[MQTT] seenMessageIds size: 17

[MQTT] ============================================

[MQTT] SYNC RESPONSE RECEIVED - length=260 bytes

[MQTT] ============================================

[MQTT] Decrypting sync response...

[38783] INFO: Sync response received: 260 bytes

[38784] INFO: Log buffer pruned, removed 125 old entries

[MQTT] Decrypted sync response: {"messages":[{"sender":"Archer","senderMAC":"f8c43bba2010","content":"qqqq","timestamp":1766186878,"...

[MQTT] DUPLICATE sync response from f8c43bba2010 phase 1 batch 1 - ignoring (last seen 3128ms ago)

[38786] INFO: Duplicate sync response ignored

[MQTT] EVENT_DATA: topic=smoltxt/f8c43bba2010/sync-response len=257 session_present=1
[MQTT] Received on topic: smoltxt/f8c43bba2010/sync-response (uptime: 38791ms)

[MQTT] seenMessageIds size: 17

[MQTT] ============================================

[MQTT] SYNC RESPONSE RECEIVED - length=257 bytes

[MQTT] ============================================

[MQTT] Decrypting sync response...

[38791] INFO: Sync response received: 257 bytes

[MQTT] Decrypted sync response: {"messages":[{"sender":"Rex","senderMAC":"e4cc3bba2010","content":"mmmm","timestamp":1766186894,"mes...

[MQTT] DUPLICATE sync response from e4cc3bba2010 phase 1 batch 2 - ignoring (last seen 2473ms ago)

[38793] INFO: Duplicate sync response ignored

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 39214ms)

[MQTT] seenMessageIds size: 17

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:00008de000000011:000141cc00000009:0:0

[MQTT] NEW message: 00008de000000011 - adding to seenMessageIds (size: 17)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 39218ms)

[MQTT] seenMessageIds size: 18

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:0000884600000010:0000d25400000006:0:0

[MQTT] Duplicate message, ignoring: 0000884600000010 (in seenMessageIds cache)

[Battery] Voltage: 4.09V, Percent: 89%
[KB-READ] readKey() called 10000 times

[Battery] Voltage: 4.10V, Percent: 89%
[KB-READ] readKey() called 20000 times

[Battery] Voltage: 4.10V, Percent: 89%
[KB-READ] readKey() called 30000 times

[Battery] Voltage: 4.10V, Percent: 90%
[KB-READ] readKey() called 40000 times

