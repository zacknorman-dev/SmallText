[22986] INFO: Sync from f8c43bba2010 (after t=1766183919)

[22989] INFO: Sync response received: 256 bytes

[22990] ERROR: Sync response decrypt failed

[22994] INFO: Sync from e4cc3bba2010 ts=1766183919

[22994] INFO: Sync from e4cc3bba2010 (after t=1766183919)

[22994] ERROR: Load messages failed: village not initialized

[22995] INFO: Sync: No new messages for e4cc3bba2010

[23481] INFO: Sync from f8c43bba2010 ts=1766183919

[23481] INFO: Sync from f8c43bba2010 (after t=1766183919)

[23485] INFO: Sync response received: 256 bytes

[23485] ERROR: Sync response decrypt failed

[23495] INFO: Sync from e4cc3bba2010 ts=1766183919

[23495] INFO: Sync from e4cc3bba2010 (after t=1766183919)

[23496] ERROR: Load messages failed: village not initialized

[23496] INFO: Sync: No new messages for e4cc3bba2010

[23501] INFO: Sync from f8c43bba2010 ts=1766183919

[23501] INFO: Sync from f8c43bba2010 (after t=1766183919)

[23999] INFO: Sync response received: 256 bytes

[23999] ERROR: Sync response decrypt failed

[24007] INFO: Sync from e4cc3bba2010 ts=1766183919

[24008] INFO: Sync from e4cc3bba2010 (after t=1766183919)

[24008] ERROR: Load messages failed: village not initialized

[24008] INFO: Sync: No new messages for e4cc3bba2010

[24013] INFO: Sync from f8c43bba2010 ts=1766183919

[24013] INFO: Sync from f8c43bba2010 (after t=1766183919)

[24017] INFO: Sync response received: 256 bytes

[24017] ERROR: Sync response decrypt failed

[24511] INFO: Sync from e4cc3bba2010 ts=1766183919

[24511] INFO: Sync from e4cc3bba2010 (after t=1766183919)

[24512] ERROR: Load messages failed: village not initialized

[24512] INFO: Sync: No new messages for e4cc3bba2010

[24520] INFO: Sync from e4cc3bba2010 ts=1766183919

[24520] INFO: Sync from e4cc3bba2010 (after t=1766183919)

[24521] ERROR: Load messages failed: village not initialized

[24521] INFO: Sync: No new messages for e4cc3bba2010

[24554] INFO: Sync from f8c43bba2010 ts=1766183919

[24554] INFO: Sync from f8c43bba2010 (after t=1766183919)

[25458] INFO: Sync response received: 256 bytes

[25459] ERROR: Sync response decrypt failed

[25471] INFO: Sync from e4cc3bba2010 ts=1766183919

[25472] INFO: Sync from e4cc3bba2010 (after t=1766183919)

[25472] ERROR: Load messages failed: village not initialized

[25472] INFO: Sync: No new messages for e4cc3bba2010

[25577] INFO: Sync from f8c43bba2010 ts=1766183919

[25577] INFO: Sync from f8c43bba2010 (after t=1766183919)

[25581] INFO: Sync response received: 256 bytes

[25581] ERROR: Sync response decrypt failed

[26215] INFO: Sync from e4cc3bba2010 ts=1766183919

[26215] INFO: Sync from e4cc3bba2010 (after t=1766183919)

[26215] ERROR: Load messages failed: village not initialized

[26216] INFO: Sync: No new messages for e4cc3bba2010

[26236] INFO: Sync from f8c43bba2010 ts=1766183919

[26237] INFO: Sync from f8c43bba2010 (after t=1766183919)

[26281] INFO: Sync response received: 256 bytes

[26282] ERROR: Sync response decrypt failed

[26792] INFO: Sync from f8c43bba2010 ts=1766183919

[26792] INFO: Sync from f8c43bba2010 (after t=1766183919)

[27360] INFO: Sync from f8c43bba2010 ts=1766183919

[27361] INFO: Log buffer pruned, removed 125 old entries

[27361] INFO: Sync from f8c43bba2010 (after t=1766183919)

[27396] INFO: Sync response received: 256 bytes

[27397] ERROR: Sync response decrypt failed

[28069] INFO: Sync response received: 259 bytes

[28069] ERROR: Sync response decrypt failed

[28073] INFO: Sync response received: 256 bytes

[28074] ERROR: Sync response decrypt failed

[28077] INFO: Sync response received: 259 bytes

[28077] ERROR: Sync response decrypt failed

[28097] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[28191] INFO: Rebuilt message ID cache: 18 messages

[28512] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[28603] INFO: Rebuilt message ID cache: 18 messages

[29052] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[29173] INFO: Rebuilt message ID cache: 18 messages

[29177] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[29296] INFO: Rebuilt message ID cache: 18 messages

[29300] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[29418] INFO: Rebuilt message ID cache: 18 messages

[29422] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[29549] INFO: Rebuilt message ID cache: 18 messages

[29553] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[29667] INFO: Rebuilt message ID cache: 18 messages

[30102] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[30240] INFO: Rebuilt message ID cache: 18 messages

[30244] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[30378] INFO: Rebuilt message ID cache: 18 messages

[33642] INFO: Sync from e4cc3bba2010 ts=1766185049

[33642] INFO: Sync from e4cc3bba2010 (after t=1766185049)

[33643] ERROR: Load messages failed: village not initialized

[33643] INFO: Sync: No new messages for e4cc3bba2010

[34968] INFO: Sync from e4cc3bba2010 ts=1766185049

[34968] INFO: Sync from e4cc3bba2010 (after t=1766185049)

[35403] ERROR: Load messages failed: village not initialized

[35403] INFO: Sync: No new messages for e4cc3bba2010

[37830] INFO: Rebuilt message ID cache: 18 messages

[41521] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[41574] INFO: File stats: total=18 empty=0 parseErr=0 matched=18

[41574] INFO: Loaded 18 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[41580] INFO: Sync request sent

[41581] INFO: Periodic sync requested

[41769] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[41826] INFO: Sync from f8c43bba2010 ts=1766185049

[41827] INFO: File stats: total=18 empty=0 parseErr=0 matched=18

[41827] INFO: Loaded 18 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[42303] INFO: Sync from f8c43bba2010 (after t=1766185049)

[42309] INFO: Sync request sent

[42327] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[42382] INFO: File stats: total=18 empty=0 parseErr=0 matched=18

[42382] INFO: Loaded 18 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[42508] INFO: Batch updated 1 messages to status 3

[42597] INFO: Saved 18 total lines

[42602] INFO: Sync from f8c43bba2010 ts=1766185049

[43105] INFO: Sync from f8c43bba2010 (after t=1766185049)

[64659] INFO: Sync response received: 259 bytes

[64661] INFO: Sync phase 1 batch 1/1

[64736] INFO: Duplicate message skipped (exact match): id=0006c84e0000000a sender=Rex

[64752] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[64806] INFO: File stats: total=18 empty=0 parseErr=0 matched=18

[64806] INFO: Loaded 18 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[64808] INFO: Phase 1 complete: 1 recent msgs

[64822] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[64878] INFO: File stats: total=18 empty=0 parseErr=0 matched=18

[65370] INFO: Loaded 18 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[65371] INFO: Synced 1 messages

[65583] INFO: Sync response received: 259 bytes

[65585] INFO: Duplicate sync response ignored

[66603] INFO: Sync response received: 259 bytes

[66604] INFO: Duplicate sync response ignored

[67835] INFO: Sync response received: 259 bytes

[67836] INFO: Duplicate sync response ignored

[69071] INFO: Sync response received: 259 bytes

[69072] INFO: Duplicate sync response ignored

[70087] INFO: Sync response received: 259 bytes

[70089] INFO: Sync phase 1 batch 1/1

[70149] INFO: Duplicate message skipped (exact match): id=0006c84e0000000a sender=Rex

[70155] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[70206] INFO: File stats: total=18 empty=0 parseErr=0 matched=18

[70206] INFO: Loaded 18 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[70208] INFO: Phase 1 complete: 1 recent msgs

[70209] INFO: Synced 1 messages

[70840] INFO: Message saved: id=00010daa00000005 from=Rex village=a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[70890] INFO: Updated message 00010daa00000005 to status 2

[71451] INFO: Saved 19 total lines

[71509] INFO: Updated message 00010daa00000005 to status 3

[71592] INFO: Saved 19 total lines

[88197] INFO: MQTT SHOUT sent: read

[88198] INFO: MQTT send: SUCCESS id=0001587f00000017

[88347] INFO: Message saved: id=0001587f00000017 from=Archer village=a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[88781] INFO: Updated message 0001587f00000017 from status 1 to 2

[88865] INFO: Saved 20 total lines

[90737] INFO: Updated message 0001587f00000017 to status 3

[90821] INFO: Saved 20 total lines

[2234] INFO: ======== SYSTEM BOOT ========

[2235] INFO: Build: Dec 19 2025 15:05:27

[2235] INFO: System boot started

[2235] INFO: Build: v0.57.26

[8004] INFO: OTA Updater initialized, version: v0.57.26

[8004] INFO: OTA source: GitHub zacknorman-dev/SmallText

[12016] INFO: WiFi connected: 192.168.8.27

[12016] INFO: MQTT: Broker=mqtts://83f1da02f4574c7f9ffe4d23088c6b5c.s1.eu.hivemq.cloud:8883

[12016] INFO: MQTT: ClientID=smol_esp_f8c43bba2010_245

[12016] INFO: MQTT: User=smoltxt2

[12725] INFO: MQTT: TLS enabled with R12 certificate

[12725] INFO: MQTT: Config set - clean_session=true keepalive=60

[12727] INFO: MQTT messenger initialized

[12727] INFO: OTA: Boot update check

[14226] INFO: Rebuilt message ID cache: 20 messages

[14330] INFO: MQTT: Subscribed to 1 villages

[14331] INFO: MQTT: Connected - subscribed to 1 villages

[14359] INFO: OTA: Already on latest version

[16396] INFO: Sync request sent

[16396] INFO: MQTT: Boot sync requested for 1 villages

[17198] INFO: Sync from e4cc3bba2010 ts=1766185049

[17198] INFO: Sync from e4cc3bba2010 (after t=1766185049)

[17198] ERROR: Load messages failed: village not initialized

[17199] INFO: Sync: No new messages for e4cc3bba2010

[17203] INFO: Sync from e4cc3bba2010 ts=1766185049

[17203] INFO: Sync from e4cc3bba2010 (after t=1766185049)

[17204] ERROR: Load messages failed: village not initialized

[17204] INFO: Sync: No new messages for e4cc3bba2010

[17237] INFO: Sync from f8c43bba2010 ts=1766185049

[17238] INFO: Sync from f8c43bba2010 (after t=1766185049)

[17792] INFO: Sync from f8c43bba2010 ts=1766185049

[17793] INFO: Log buffer pruned, removed 125 old entries

[17794] INFO: Sync from f8c43bba2010 (after t=1766185049)

[17917] INFO: Sync response received: 259 bytes

[17918] ERROR: Sync response decrypt failed

[18334] INFO: Sync response received: 259 bytes

[18335] ERROR: Sync response decrypt failed

[18338] INFO: Sync response received: 259 bytes

[18338] ERROR: Sync response decrypt failed

[18342] INFO: Sync response received: 259 bytes

[18342] ERROR: Sync response decrypt failed

[18345] INFO: Sync response received: 259 bytes

[18346] ERROR: Sync response decrypt failed

[18349] INFO: Sync response received: 259 bytes

[18349] ERROR: Sync response decrypt failed

[20022] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[20216] INFO: Rebuilt message ID cache: 20 messages

[20221] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[20421] INFO: Rebuilt message ID cache: 20 messages

[20425] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[20631] INFO: Rebuilt message ID cache: 20 messages

[20636] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[20846] INFO: Rebuilt message ID cache: 20 messages

[20851] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[21048] INFO: Rebuilt message ID cache: 20 messages

[21468] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[21684] INFO: Rebuilt message ID cache: 20 messages

[21689] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[21900] INFO: Rebuilt message ID cache: 20 messages

[21905] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[22123] INFO: Rebuilt message ID cache: 20 messages

[22127] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[22344] INFO: Rebuilt message ID cache: 20 messages

[31737] INFO: Rebuilt message ID cache: 20 messages

[35416] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[35892] INFO: File stats: total=20 empty=0 parseErr=0 matched=20

[35892] INFO: Loaded 20 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[35899] INFO: Sync request sent

[35899] INFO: Periodic sync requested

[35921] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[35983] INFO: File stats: total=20 empty=0 parseErr=0 matched=20

[35983] INFO: Loaded 20 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[35989] INFO: Sync request sent

[36013] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[36075] INFO: File stats: total=20 empty=0 parseErr=0 matched=20

[36190] INFO: Sync from f8c43bba2010 ts=1766185684

[36191] INFO: Sync from f8c43bba2010 (after t=1766185684)

[36726] INFO: Sync from f8c43bba2010 ts=1766185684

[36727] INFO: Sync from f8c43bba2010 (after t=1766185684)

[36733] INFO: Sync response received: 260 bytes

[36734] INFO: Sync phase 1 batch 1/2

[36737] INFO: Loaded 20 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[36795] INFO: Duplicate message skipped (exact match): id=0001587f00000017 sender=Archer

[36796] INFO: Synced 1 messages

[37023] INFO: Sync response received: 257 bytes

[37454] INFO: Sync phase 1 batch 2/2

[37672] INFO: Message saved: id=0001c75b00000008 from=Rex village=a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[38574] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[38631] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[38632] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[38634] INFO: Phase 1 complete: 1 recent msgs

[38641] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[38700] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[38700] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[38701] INFO: Synced 1 messages

[40221] INFO: Sync response received: 260 bytes

[40222] INFO: Duplicate sync response ignored

[40230] INFO: Sync response received: 257 bytes

[40231] INFO: Duplicate sync response ignored

[59431] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[59491] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[59491] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[60785] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[60845] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[60845] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[61333] INFO: Sync request sent

[61347] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[61408] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[61408] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[61492] INFO: Sync from f8c43bba2010 ts=1766185714

[61493] INFO: Sync from f8c43bba2010 (after t=1766185714)

[61559] INFO: Batch updated 1 messages to status 3

[61695] INFO: Saved 21 total lines

[62100] INFO: Sync response received: 257 bytes

[62102] INFO: Sync phase 1 batch 1/1

[2223] INFO: ======== SYSTEM BOOT ========

[2223] INFO: Build: Dec 19 2025 15:05:27

[2223] INFO: System boot started

[2223] INFO: Build: v0.57.26

[7991] INFO: OTA Updater initialized, version: v0.57.26

[7991] INFO: OTA source: GitHub zacknorman-dev/SmallText

[9003] INFO: WiFi connected: 192.168.8.27

[9003] INFO: MQTT: Broker=mqtts://83f1da02f4574c7f9ffe4d23088c6b5c.s1.eu.hivemq.cloud:8883

[9004] INFO: MQTT: ClientID=smol_esp_f8c43bba2010_245

[9004] INFO: MQTT: User=smoltxt2

[9499] INFO: MQTT: TLS enabled with R12 certificate

[9499] INFO: MQTT: Config set - clean_session=true keepalive=60

[9500] INFO: MQTT messenger initialized

[9501] INFO: OTA: Boot update check

[11031] INFO: OTA: Already on latest version

[11084] INFO: Rebuilt message ID cache: 21 messages

[11198] INFO: MQTT: Subscribed to 1 villages

[11200] INFO: MQTT: Connected - subscribed to 1 villages

[13228] INFO: Sync request sent

[13228] INFO: MQTT: Boot sync requested for 1 villages

[13766] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[13975] INFO: Rebuilt message ID cache: 21 messages

[13980] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[14238] INFO: Rebuilt message ID cache: 21 messages

[14242] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[14455] INFO: Rebuilt message ID cache: 21 messages

[14758] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[14987] INFO: Rebuilt message ID cache: 21 messages

[14992] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[15202] INFO: Rebuilt message ID cache: 21 messages


========== END LOG DUMP ==========


[Individual] Village type: Individual

[Individual] Current name: 'Rex'

[Indivher'

[Individual] Not updating - current name 'Rex' is acceptable

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/villagename len=4 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/villagename (uptime: 15908ms)

[MQTT] seenMessageIds size: 0

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Received village name announcement: Chat for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[15908] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[Village] Received village name announcement for a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53: Chat

[Village] Found existing village with ID 'a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53' in slot 0

[Village] Loading from /village_0.dat...

[Village] File size: 234 bytes

[Village] JSON parsed successfully

[16009] INFO: Rebuilt message ID cache: 21 messages

[Village] Ignoring village name for individual conversation (uses username instead)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/username/f8c43bba2010 le4636-97a5-63ec6a8e5d53/username/f8c43bba2010 (uptime: 16012ms)

[MQTT] seenMessageIds size: 0

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Receivcement: Archer for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[16013] INF: Username received: Archer (Village ID: a8a6bbe4-c81b-4-63ec6a8e5d53)

[Individual] ========================================

[Individual] Received username announcement!

[Individual] Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[Individual] Username: Archer

[Individual] ========================================

[Village] Fo5-63ec6a8e5d53' in slot 0

Found village in slot: 0

[Village] File size: 234 bytes

[Village] JSON parse

[16126] INFO: Rebuilt message ID cache: 21 messages

[Individual] Village type: Individual

[Individual] Current name: 'Rex'

[Individual] My username: 'Archer'

[Individual] Ignoring username - it's our own name

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/username/e4cc3bba2010 len=3 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/username/e4cc3bba2010 (uptime: 16130ms)

[MQTT] seenMessageIds size: 0

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Received username announcement: Rex for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[16130] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[Individual] ========================================

[Individual] Received username announcement!

[Individual] Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[Individual] Username: Rex

[Individual] ========================================

[Village] Found existing village with ID 'a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53' in slot 0

[Individual] Found village in slot: 0

[Village] Loading from /village_0.dat...

[Village] File size: 234 bytes

[Village] JSON parsed successfully

[16240] INFO: Rebuilt message ID cache: 21 messages

[Individual] Village type: Individual

[Individual] Current name: 'Rex'

[Individual] My username: 'Archer'

[Individual] Not updating - current name 'Rex' is acceptable

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/villagename len=4 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/villagename (uptime: 16244ms)

[MQTT] seenMessageIds size: 0

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Received village name announcement: Chat for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[16244] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[Village] Received village name announcement for a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53: Chat

[Village] Found existing village with ID 'a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53' in slot 0

[Village] Loading from /village_0.dat...

[Village] File size: 234 bytes

[16353] INFO: Rebuilt message ID cache: 21 messages

[Village] Ignoring village name for individual conversation (uses username instead)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/f8c43bba2010 len=136 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/f8c43bba2010 (uptime: 16704ms)

[MQTT] seenMessageIds size: 0

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:f8c43bba2010:Rex:e4cc3bba2010:00003b8b00000001:0001587f00000017:0:0

[MQTT] NEW message: 00003b8b00000001 - adding to seenMessageIds (size: 0)

[MQTT] Received ACK for message: 0001587f00000017

[Message] ACK received for: 0001587f00000017 from e4cc3bba2010

[DEBUG] ACK storage update result: FAILED

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/f8c43bba2010 len=136 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/f8c43bba2010 (uptime: 16906ms)

[MQTT] seenMessageIds size: 1

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:f8c43bba2010:Rex:e4cc3bba2010:00003b8b00000001:0001587f00000017:0:0

[MQTT] Duplicate message, ignoring: 00003b8b00000001 (in seenMessageIds cache)

[App] MQTT quiet for 2s - sync likely complete, transitioning to main menu

_Update_Part : 766999

_Update_Part : 766998

[Loop] Entering handleMainMenu for first time

_Update_Full : 3259998

[KB-READ] I2C byte: 0xB7 (183)

[Keyboard] RIGHT pressed

[MainMenu] ENTER or RIGHT pressed - advancing to selection

[ 27443][E][vfs_api.cpp:105] open(): /littlefs/village_1.dat does not exist, no permits for creation

[ 27454][E][vfs_api.cpp:105] open(): /littlefs/village_2.dat does not exist, no permits for creation

[ 27465][E][vfs_api.cpp:105] open(): /littlefs/village_3.dat does not exist, no permits for creation

[ 27476][E][vfs_api.cpp:105] open(): /littlefs/village_4.dat does not exist, no permits for creation

[ 27486][E][vfs_api.cpp:105] open(): /littlefs/village_5.dat does not exist, no permits for creation

[ 27497][E][vfs_api.cpp:105] open(): /littlefs/village_6.dat does not exist, no permits for creation

[ 27507][E][vfs_api.cpp:105] open(): /littlefs/village_7.dat does not exist, no permits for creation

[ 27518][E][vfs_api.cpp:105] open(): /littlefs/village_8.dat does not exist, no permits for creation

[ 27529][E][vfs_api.cpp:105] open(): /littlefs/village_9.dat does not exist, no permits for creation

[Conversations] Found 1 valid villages

  Slot 0: Rex

_Update_Part : 766998

_Update_Part : 766998

[MainMenu] Opening conversation list

[KB-READ] I2C byte: 0xB7 (183)

[Keyboard] RIGHT pressed

[ConversationList] Loading village from slot 0: Rex

[Village] Loading from /village_0.dat...

[Village] File size: 234 bytes

[Village] JSON parsed successfully

[32921] INFO: Rebuilt message ID cache: 21 messages

[Settings] Saved current village slot: 0

[MQTT] Active village set to: Rex

[ConversationList] Active village: Rex

[UI] Starting full refresh for conversation menu...

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/sync-request/e4cc3bba2010 len=73 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/sync-request/e4cc3bba2010 (uptime: 34416ms)

[MQTT] seenMessageIds size: 1

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Received sync request for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted sync request: {"mac":"e4cc3bba2010","timestamp":1766185714}

[MQTT] Sync request from e4cc3bba2010 for messages after timestamp 1766185714

[34418] INFO: Sync from e4cc3bba2010 ts=1766185714

[Sync] Request from e4cc3bba2010 for messages after timestamp: 1766185714

[34962] INFO: Sync from e4cc3bba2010 (after t=1766185714)

[ILog buffer pruned, removed 125 old entries

[34983] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[35054] INFO: File stats: total=21 empty=0 parseErr=0 matched=21
: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[Sy[Sync] DEBUG: msg.id=000508e00000000e ts=1765325129 vs requested=1766185714 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=0002b40c0000004a ts=1766168672 vs requested=1766185714 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: ms=1766168706 vs requested=1766185714 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=0003a37500000005 ts=1766168730 vs requested=1766185714 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=0003ce3a0000004f ts=1766168743 vs requested=1766185714 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=00042ed600000050 ts=1766168768 vs requested=1766185714 isEmpty=0

[Sync] DEBUG: SKIPPED

[S=1766185714 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=0004e57400000004 ts=1766182305 vs requestedid=00=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=0000e6dd00000005 ts=1766183509 vs requested=1766185714 isEmpty=0

[Sync] DEBUG:id=000123e800000006 ts=1766183522 vs requested=1766185714 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=00018a4100000008 ts=1766183551 vs requested=1766185714 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: 3700000009 ts=1766183653 vs requested=1766185714 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=00183801 vs requested=1766185714 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=0002afc400000009 ts=1766183844 vs requested=1766185714 isEmpt.id=0003a8fa0000000a ts=1766183907 vs requested=1766185714 isEmpty=0

[Sync] DE0b ts=1766183919 vs requested=1766185714 isEmpty=0

[Sync] DEBUG: SKIPPED

[Syns requested=1766185714 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=0005714 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=0001587f00000017 ts=1766185684 vs requested=1766185714 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=0001c75b00000008 ts=1766185714 vs requested=1766185714 isEmpty=0

[Sync] DEBUG: INCLUDED

========================================

[SYNC] Device f8c43bba2010 sending to e4cc3bba2010

[SYNC] Total messages in storage: 21

[SYNC] Messages after t=1766185714: 1

[SYNC] Sending message IDs:

  [0] ID=0001c75b00000008 from=Rex titatus=3

========================================

[35485] INFO: Sync: Sending 1 msgs to e4cc3bba2010

[MQTT] Sync Phase 1: Sending 1 messages (0-0 of 1) to e4cc3bba2010

[35486] INFO: Sync phase 1: 1 msgs

[MQTT] Phase 1 batch 1/1 sent

[35492] INFO: Sync batch 1 sent

[MQTT] Message published successfully, msg_id=63704
_Update_Full : 3259998

[UI] Full refresh complete for conversation menu

[MQTT] Active village set to: Rex

[Loop] Active village set to: Rex

[App] Periodic sync check

[36599] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[36658] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[36658] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[Village] Loaded 21 messages (sorted by timestamp)

[MQTT] Sync request payload: {"mac":"f8c43bba2010","timestamp":1766185714}

[MQTT] Publishing sync request to: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/sync-request/f8c43bba2010

[MQTT] Sync request sent (QoS 1, will receive all messages, dedup on receive)

[36664] INFO: Sync request sent

[App] Periodic sync requested (last message: 1766185714)

[36665] INFO: Periodic sync requested

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/sync-request/f8c43bba2010 len=73 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/sync-request/f8c43bba2010 (uptime: 36874ms)

[MQTT] seenMessageIds size: 1

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Received sync request for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted sync request: {"mac":"f8c43bba2010","timestamp":1766185714}

[MQTT] Sync request from f8c43bba2010 for messages after timestamp 1766185714

[36875] INFO: Sync from f8c43bba2010 ts=1766185714

[Sync] Request from f8c43bba2010 for messages after timestamp: 1766185714

[36876] INFO: Sync from f8c43bba2010 (after t=1766185714)

[Sync] Ignoring sync request from self

[MQTT] Message published successfully, msg_id=50569
[KB-READ] I2C byte: 0xB7 (183)

[Keyboard] RIGHT pressed

[App] ===== ENTERING MESSAGING SCREEN =====

[App] Messages in history: 0

[37440] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] EVENT_DATA: topic=smoltxt/f8c43bba2010/sync-response len=257 session_present=1
[MQTT] Received on topic: smoltxt/f8c43bba2010/sync-response (uptime: 37488ms)

[MQTT] seenMessageIds size: 1

[MQTT] ============================================

[MQTT] SYNC RESPONSE RECEIVED - length=257 bytes

[MQTT] ============================================

[MQTT] Decrypting sync response...

[37489] INFO: Sync response received: 257 bytes

[MQTT] Decrypted sync response: {"messages":[{"sender":"Rex","senderMAC":"e4cc3bba2010","content":"poop","timestamp":1766185714,"mes...

[MQTT] Sync phase 1 batch 1/1

[37490] INFO: Sync phase 1 batch 1/1

[MQTT] Sync Phase 1 started (recent 20 messages) - disabling status updates

[MQTT] Stored sync target MAC: e4cc3bba2010 for background phases

[MQTT] Sending ACK for synced message: 0001c75b00000008

[MQTT] Synced message: 0001c75b00000008 from Rex content='poop'

[Message] From Rex: poop (village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[Power] Activity timer reset - message received

[SYNC DEBUG] Receiving msg: ID=0001c75b00000008 from=Rex isNew=NO phase=1

[Message] Background sync or duplicate - silent save only (no UI update)

[37570] INFO: Duplicate message skipped (exact match): id=0001c75b00000008 sender=Rex

[Message] Duplicate message - skipping all processing

[MQTT] Phase 1 complete - processed 1 messages

[37585] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[37647] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[37647] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[Village] Loaded 21 messages (sorted by timestamp)

========================================

[SYNC DEBUG] Device f8c43bba2010 AFTER Phase 1 complete

[SYNC DEBUG] Total messages in storage NOW: 21

[SYNC DEBUG] Message IDs NOW in store (chronological order):

  [0] ID=000508e00000000e from=Archer time=1765325129 status=1

  [1] ID=0002b40c0000004a from=SmolTxt time=1766168672 status=3

  [2] ID=000343f300000001 from=SmolTxt time=1766168706 status=3

  [3] ID=0003a37500000005 from=Archer time=1766168730 status=3

  [4] ID=0003ce3a0000004f from=Rex time=1766168743 status=3

  [5] ID=00042ed600000050 from=Rex time=1766168768 status=3

  [6] ID=0004775b00000004 from=Archer time=1766182279 status=3

  [7] ID=0004e57400000004 from=Rex time=1766182305 status=3

  [8] ID=000593db00000007 from=Archer time=1766182352 status=3

  [9] ID=0000e6dd00000005 from=Rex time=1766183509 status=3

  [10] ID=000123e800000006 from=Archer time=1766183522 status=3

  [11] ID=00018a4100000008 from=Rex time=1766183551 status=3

  [12] ID=00031c3700000009 from=Rex time=1766183653 status=3

  [13] ID=0002083300000008 from=Rex time=1766183801 status=3

  [14] ID=0002afc400000009 from=Rex time=1766183844 status=3

  [15] ID=0003a8fa0000000a from=Rex time=1766183907 status=3

  [16] ID=0003d2440000000b from=Rex time=1766183919 status=3

  [17] ID=0006c84e0000000a from=Rex time=1766185049 status=3

  [18] ID=00010daa00000005 from=Rex time=1766185666 status=3

  [19] ID=0001587f00000017 from=Archer time=1766185684 status=3

  [20] ID=0001c75b00000008 from=Rex time=1766185714 status=3

[SYNC DEBUG] UI message count: 0

========================================

[MQTT] Phase 1 complete - recent messages synced, re-enabled status updates

[37651] INFO: Phase 1 complete: 1 recent msgs

[Callback] Boot sync complete - setting flag

[Sync] Post-sync cleanup: Checking for messages stuck at status 1

[37666] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[37728] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[37748] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[37748] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[Village] Loaded 21 messages (sorted by timestamp)

[Perf] Loaded 21 messages in 321ms

[Sync] Requesting background sync: last timestamp=1766185714

[MQTT] Sync request payload: {"mac":"f8c43bba2010","timestamp":1766185714}

[MQTT] Publishing sync request to: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/sync-request/f8c43bba2010

[38145] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[Village] Loaded 21 messages (sorted by timestamp)

[Sync] Post-sync cleanup: All message statuses correct

[MQTT] Boot sync complete callback fired

[MQTT] Sync fully complete - no more history

[MQTT] Processed 1 synced messages in phase 1

[38146] INFO: Synced 1 messages

[MQTT] Message published successfully, msg_id=64553
[MQTT] Sync request sent (QoS 1, will receive all messages, dedup on receive)

[38152] INFO: Sync request sent

[UI] Message added. Total: 1

[UI] Message added. Total: 2

[UI] Message added. Total: 3

[UI] Message added. Total: 4

[UI] Message added. Total: 5

[UI] Message added. Total: 6

[UI] Message added. Total: 7

[UI] Message added. Total: 8

[UI] Message added. Total: 9

[UI] Message added. Total: 10

[UI] Message added. Total: 11

[UI] Message added. Total: 12

[UI] Message added. Total: 13

[UI] Message added. Total: 14

[UI] Message added. Total: 15

[UI] Message added. Total: 16

[UI] Message added. Total: 17

[UI] Message added. Total: 18

[UI] Message added. Total: 19

[UI] Message added. Total: 20

[UI] Message added. Total: 21

[Perf] Added 21 messages to UI in 3ms

[MarkRead] ===== STARTING markVisibleMessagesAsRead_Optimized() =====

[MarkRead] Village initialized: YES

[MarkRead] Current state - appState: 31, inMessagingScreen: 1

[MarkRead] Using pre-loaded messages (count: 21)

[38171] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[38233] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[38233] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[Village] Loaded 21 messages (sorted by timestamp)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/sync-request/e4cc3bba2010 len=73 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/sync-request/e4cc3bba2010 (uptime: 38514ms)

[MQTT] seenMessageIds size: 1

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Received sync request for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted sync request: {"mac":"e4cc3bba2010","timestamp":1766185714}

[MQTT] Sync request from e4cc3bba2010 for messages after timestamp 1766185714

[38515] INFO: Sync from e4cc3bba2010 ts=1766185714

[Sync] Request from e4cc3bba2010 for messages after timestamp: 1766185714

[38516] INFO: Sync from e4cc3bba2010 (after t=1766185714)

[App] Sent 13 pending ACKs for sync'd messages

[MarkRead] Will check messages from index 0 to 20

[MarkRead] [0] id=000508e00000000e, content='666', received=0, status=1, senderMAC=f8c43bba2010

[MarkRead]   -> SKIP: Sent by me (received=false)

[MarkRead] [1] id=0002b40c0000004a, content='Rex joined the conve', received=1, status=3, senderMAC=system

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [2] id=000343f300000001, content='Archer joined the co', received=1, status=3, senderMAC=system

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [3] id=0003a37500000005, content='word', received=0, status=3, senderMAC=f8c43bba2010

[MarkRead]   -> SKIP: Sent by me (received=false)

[MarkRead] [4] id=0003ce3a0000004f, content='dood', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [5] id=00042ed600000050, content='555', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [6] id=0004775b00000004, content='hey man', received=0, status=3, senderMAC=f8c43bba2010

[MarkRead]   -> SKIP: Sent by me (received=false)

[MarkRead] [7] id=0004e57400000004, content='what up!!', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [8] id=000593db00000007, content='just chillin'', received=0, status=3, senderMAC=f8c43bba2010

[MarkRead]   -> SKIP: Sent by me (received=false)

[MarkRead] [9] id=0000e6dd00000005, content='7777', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [10] id=000123e800000006, content='8888', received=0, status=3, senderMAC=f8c43bba2010

[MarkRead]   -> SKIP: Sent by me (received=false)

[MarkRead] [11] id=00018a4100000008, content='9999', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [12] id=00031c3700000009, content='0000', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [13] id=0002083300000008, content='777', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [14] id=0002afc400000009, content='88889', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [15] id=0003a8fa0000000a, content='4444', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [16] id=0003d2440000000b, content='666', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [17] id=0006c84e0000000a, content='666999', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [18] id=00010daa00000005, content='4545', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [19] id=0001587f00000017, content='read', received=0, status=3, senderMAC=f8c43bba2010

[MarkRead]   -> SKIP: Sent by me (received=false)

[MarkRead] [20] id=0001c75b00000008, content='poop', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] ===== SUMMARY =====

[MarkRead] Total checked: 21

[MarkRead] Sent by me: 6

[MarkRead] Already read: 15

[MarkRead] Marked as read: 0

[MarkRead] Read receipts queued: 0

[MarkRead] No messages needed marking as read

[MarkRead] ===== DONE =====

[Perf] Marked unread messages in 389ms

[Perf] ===== TOTAL TIME: 1116ms =====

[39073] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[39074] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[Village] Loaded 21 messages (sorted by timestamp)

[Sync] DEBUG: Filtering 21 messages

[Sync] DEBUG: msg.id=000508e00000000e ts=1765325129 vs requested=1766185714 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=0002b40c0000004a ts=1766168672 vs requested=1766185714 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=000343f300000001 ts=1766168706 vs requested=1766185714 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=0003a37500000005 ts=1766168730 vs requested=1766185714 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=0003ce3a0000004f ts=1766168743 vs requested=1766185714 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=00042ed600000050 ts=1766168768 vs requested=1766185714 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=0004775b00000004 ts=1766182279 vs requested=1766185714 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=0004e57400000004 ts=1766182305 vs requested=1766185714 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=000593db00000007 ts=1766182352 vs requested=1766185714 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=0000e6dd00000005 ts=1766183509 vs requested=1766185714 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=000123e800000006 ts=1766183522 vs requested=1766185714 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=00018a4100000008 ts=1766183551 vs requested=1766185714 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=00031c3700000009 ts=1766183653 vs requested=1766185714 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=0002083300000008 ts=1766183801 vs requested=1766185714 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=0002afc400000009 ts=1766183844 vs requested=1766185714 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=0003a8fa0000000a ts=1766183907 vs requested=1766185714 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=0003d2440000000b ts=1766183919 vs requested=1766185714 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=0006c84e0000000a ts=1766185049 vs requested=1766185714 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=00010daa00000005 ts=1766185666 vs requested=1766185714 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=0001587f00000017 ts=1766185684 vs requested=1766185714 isEmpty=0

[Sync] DEBUG: SKIPPED

[Sync] DEBUG: msg.id=0001c75b00000008 ts=1766185714 vs requested=1766185714 isEmpty=0

[Sync] DEBUG: INCLUDED

========================================

[SYNC] Device f8c43bba2010 sending to e4cc3bba2010

[SYNC] Total messages in storage: 21

[SYNC] Messages after t=1766185714: 1

[SYNC] Sending message IDs:

  [0] ID=0001c75b00000008 from=Rex time=1766185714 status=3

========================================

[39078] INFO: Sync: Sending 1 msgs to e4cc3bba2010

[MQTT] Sync Phase 1: Sending 1 messages (0-0 of 1) to e4cc3bba2010

[39078] INFO: Sync phase 1: 1 msgs

[MQTT] Phase 1 batch 1/1 sent

[39084] INFO: Sync batch 1 sent

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 39188ms)

[MQTT] seenMessageIds size: 1

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

3ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:0000927300000001:0001c75b00000008:0:0

[MQTT] NEW message: 0000927300000001 - adding to seenMessageIds (size: 1)

[MQTT] Message published successfully, msg_id=15454
[MQTT] Message published successfully, msg_id=4296
[MQTT] Message published successfully, msg_id=24676
[MQTT] Message published successfully, msg_id=21071
[MQTT] Message published successfully, msg_id=49539
[MQTT] Message published successfully, msg_id=196
[MQTT] Message published successfully, msg_id=7733
[MQTT] Message published successfully, msg_id=17024
[MQTT] Message published successfully, msg_id=35351
[MQTT] Message published successfully, msg_id=23118
[MQTT] Message published successfully, msg_id=16074
[MQTT] Message published successfully, msg_id=33309
[MQTT] Message published successfully, msg_id=14452
_Update_Part : 697998

[UI] Drawing messaging. History size: 21

[MQTT] Message published successfully, msg_id=36699
[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/f8c43bba2010 len=136 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/f8c43bba2010 (uptime: 40151ms)

[MQTT] seenMessageIds size: 2

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:f8c43bba2010:Rex:e4cc3bba2010:000093dd00000002:0003a37500000005:0:0

[MQTT] NEW message: 000093dd00000002 - adding to seenMessageIds (size: 2)

[MQTT] Received ACK for message: 0003a37500000005

[Message] ACK received for: 0003a37500000005 from e4cc3bba2010

[40234] INFO: Skipping status update for 0003a37500000005 - current status 3 >= new status 2

[DEBUG] ACK storage update result: SUCCESS

[UI] ACK received while viewing messages - reloading from storage

[40255] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[40319] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[40319] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

_Update_Part : 767582

[Village] Loaded 21 messages (sorted by timestamp)

[DEBUG] Loaded 21 total messages from storage

[DEBUG] Target message status after reload: 3 (should be 2)

[DEBUG] startIndex=0, will load indices 0 to 20

[UI] Message added. Total: 

[UI] Message added. Total: 2

[UI] Message added. Total: 3

[[UI] Message ad

[UI] Message added. Total: 7

[UI] Message added. Total: 8

[UI] Message added. Total: 9

[UI] Message added. T

[UI] Message added. Total: 11

[UI] Message added. Total: 12

[UI] Message added. Total: 13

[UI] Message added. Total: 14

[UI] Message added. Total: 15

[UI] Message added. Total: 16

[UI] Message added. Total: 17

[UI] Message added. Total: 18

[UI] Message added. Total: 19

[UI] Message added. Total: 20

[UI] 21

[UI] Reloaded 21 messages with updated status

[UI] Drawing messaging. History size: 21

[Battery] Voltage: 4.10V, Percent: 89%
_Update_Part : 767000

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/f8c43bba2010 len=136 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/f8c43bba2010 (uptime: 41609ms)

[MQTT] seenMessageIds size: 3

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:f8c43bba2010:Rex:e4cc3bba2010:000093e200000003:0004775b00000004:0:0

[MQTT] NEW messa(size: 3)

[MQTT] Received ACK for message: 0004775b00000004

[Message] ACK received for: 0004775b00000004 from e4cc3bba2010

[41689] INFO: Skipping status update for 0004775b00000004 - current status 3 >= new status 2

[DEBUG] ACK storage update result: SUCCESS

[UI] ACK received while viewing messages - reloading from storage

[41708] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[41772] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[497a5-63ec6a8e5d53

[Village] Loaded 21 messages (sorted by timestamp)

[DEBUG] Loaded 21 total messages from storage

[DEBUG] Target message stat[DEBUG] startIndex=0, will load indices 0 to 20

[UI] Message added. Total: 1

[UI] Message added. Total: 3

[UI] Message added. Total: 4

[UI] Message added. Total: 5

[UI] Message added. T

[UI] Message added. Total: 7

[UI] Messa[UI] Message added. Total: 11

[UI] Message added. Total: 12

[UI] Message added. Total: 13

[UI] Message added. Total: 14

[UI] Message added. Total: 16

[UI] Message added. Total: 17

[UI] Message added. Total: 18

[UI] Messa[UI] Message added. Total: 20

[UI] Message added. Total: 21

[UI] Reloaded 21 messages with updated statusze: 21

_Update_Part : 767000

e5d53/ack/f8c43bba2010 len=136 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/f8c43bba2010 (uptime: 42613ms)

[MQTT] seenMessageIds size: 4

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:f8c43bba2010:Rex:e4cc3bba2010:000093e700000004:000593db00000007:0:0

[MQTT] NEW message: 000093e700000004 - adding to seenMessageIds (size: 4)

[MQT[Message] ACK received for: 000593db00000007 from e4cc3bba2010

[nt status 3 >= new status 2

[UI] ACK received while viewing messages - reloading from storage

[42712] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[42775] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[42775] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[Village] Loaded 21 messages (sorted by timestamp)

[DEBUG] Loaded 21 total messages from storage

[DEBUG] Target messDEBUG] startIndex=0, will load indices 0 to 20

[UI] Message added. Total: 1

[UI] Message added. Total: 2

[UI] Message added. Total: 3

[UI] Message added. Total: 4

[UI] Message added. Total: 5

[UI] Message added. Total: 6

[UI] Message added. Total: 7

[UI] Message added. Total: 8

[UI] Message added. Total: 9

[UI] Message added. Total: 10

[UI[UI] Message added. Total: 12

[UI] Message added. Total: 13

[UI] Me

[UI] Message added. Total: 16

[UI] Message added. Total: 17

[UI] Message added. Total: 18

[UI] Message added. Total: 19

[UI] Message added. Total: 20

[UI] Message added. Total: 21

[UI] Reloaded 21 messages with updated status

[UI] Drawing messaging. History size: 21

_Update_Part : 767000

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/f8c43bba2010 len=136 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/f8c43bba2010 (uptime: 43616ms)

[M4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:f8c43bba2010:Rex:e4cc3bba2010:000093ec00000005:000123e800000006:0:0

[MQTT] NEW message: 000093ec00000005 - adding to seenMessageIds (size: 5)

[MQTT] Received ACK for message: 000123e800000006

[Message] ACK received for: 000123e800000006 from e4cc3bba2010

[43694] INFO: Skipping status update for 000123e80us 3 >= new status 2

ile viewing messages - reloading from storage

[43713] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[44252] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[44252] INe5d53

[Village] Loaded 21 messages (sorted by timestamp)

[DEBUG] Loaded 21 total messages from storage

[DEBUG] Target message status after reload: 3 (should be 2)

[DEBUG] startIndex=0, will load indices 0 to 20

[UI] Message added. Total: 1

[UI] Message added. Total: 3

[UI] Message added. Total: 4

[UI] Message added. Total: 5

[UI] Message added. Total: 6

[UI] Message added. Total: 7

[UI] Message added. Total: 8

[UI] Message added. Total: 9

[UI] Message added. Total: 10

[UI]

UI] Message added. Total: 12[UI] Message added. Total: 13

[UI] Message added. Total: 14

[UI] Message added. Total: 15

[UI] Message added. Total: 16

[UI] Message added. Total: 17

[UI] Message added. Total: 

[UI] Message added. Total: 19

[UI] Message added. Total: 20

[UI] Message added. Total: 21

[UI] Reloaded 21 messages with updated status

[UIory size: 21

_Update_Part : 767000

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/f8c43bba2010 len=136 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/f8c43bba2010 (uptime: 45096ms)

[MQTT] seenMessageIds size: 6

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:f8c43bba2010:Rex:e4cc3bba2010:000093f100000006:0001587f00000017:0:0

[MQTT] NEW message: 000093f100000006 - adding to seenMessageIds (size: 6)

[MQTT] Duplicate ACK for message 0001587f00000017, ignoring (already processed ACK 00003b8b00000001)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/sync-request/f8c43bba2010 len=73 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/sync-request/f8c43bba2010 (uptime: 45100ms)

[MQTT] seenMessageIds size: 7

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Received sync reques7a5-63ec6a8e5d53

[MQTT] Decrypted sync request: {"mac":"f8c43bba2010","timestamp":1766185714}

[MQTT] Sync request from f8c43bba2010 for messages after timestamp 1766185714

[45: Sync from f8c43bba2010 ts=1766185714

[Sync] Request from f8c43bba2010 for messages after timestamp: 1766185714

[45101] INFO: Sync from f8c43bba2010 (after t=1766185714)

[Sync] Ignoring sync request from self

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
8e5d53/ack/e4cc3bba2010 (uptime: 45104ms)

[MQTT] seenMessageIds size: 7

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:0000955a00000002:0003ce3a0000004f:0:0

[MQTT] NEW message: 0000955a00000002 - adding to seenMessageIds (size: 7)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d536-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 45109ms)

[MQTT] seenMessageIds size: 8

[MQT

[MQTT] Decrypte3ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:0000955f00000003:00042ed600000050:0:0

[MQTT] NEW message: 0000955f00000003 - adding to seenMessageIds (size: 8)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 45113ms)

[MQTT] seenMessageIds size: 9

[M

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:0000956300000004:0004e57400000004:0:0

[MQTT] NEW message: 0000956300000004 - adding to seenMessageIds (size: 9)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8ent=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 45117ms)

[MQTT] seenMessageIds size: 10

[M

[MQTT] Decryptee4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:0000956800000005:0000e6dd00000005:0:0

[MQTT] NEW message: 0000956800000005 - adding to seenMessageIds (size: 10)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 45121ms)

[MQTT] seenMessageIds size: 11

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:0000956d00000006:00018a4100000008:0:0

[MQTT] NEW message: 0000956d00000006 - adding to seenMessageIds (size: 11)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe6a8e5d53/ack/e4cc3bba2010 (uptime: 45125ms)

[MQTT] seenMessageIds size: 12

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:0000957200000007:00031c3700000009:0:0

[MQTT] NEW message: 0000957200000007 - adding to seenMessageIds (size: 12)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/aa2010 len=139 session_presentt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 45129ms)

[MQTT] seenMessageIds size: 13

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:0000957800000008:0002083300000008:0:0

[MQTT] NEW message: 0000957800000008 - adding to seenMessageIds (size: 13)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present= on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 45133ms)

[MQTT] seenMessageIds size: 14

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:0000957d00000009:0002afc400000009:0:0

[MQTT] NEW message: 0000957d00000009 - adding to seenMessageIds (size: 14)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 45137ms)

[MQTT] seenMessageIds size: 15

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:000095820000000a:0003a8fa0000000a:0:0

[MQTT] NEW message: 000095820000000a - adding to seenMessageIds (size: 15)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 45142ms)

[MQTT] seenMessageIds size: 16

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:000095870000000b:0003d2440000000b:0:0

[MQTT] NEW message: 000095870000000b - adding to seenMessageIds (size: 16)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_pres on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 45146ms)

[MQTT] seenMessageIds size: 17



[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:0000958c0000000c:0006c84e0000000a:0:0

[MQTT] NEW message: 0000958c0000000c - adding to seenMessageIds (size: 17)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_prese[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 45151ms)

[MQTT] seenMessageIds size: 18

[MQTT] Message for v3

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:000095910000000d:00010daa00000005:0:0

[MQTT] NEW message: 000095910000000d - adding to seenMessageIds (size: 18)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 45155ms)

[MQTT] seenMessageIds size: 19

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:000095970000000e:0001c75b00000008:0:0

[MQTT] NEW message: 000095970000000e - adding to seenMessageIds (size: 19)

[MQTT] EVENT_DATA: topic=smoltxt/f8c43bba2010/sync-response len=257 session_present=1
[MQTT] Received on topic: smoltxt/f8c43bba2010/sync-response (uptime: 45160ms)

[MQTT] seenMessageIds size: 20

[MQTT] ============================================

[MQ=================================Sync response received: 257 bytes

[MQTT] Decrypted sync response: {"messages":[{"sender":"Rex","senderMAC":"e4cc3bba2010","content":"poop","timestamp":1766185714,"mes...

[MQTT] Sync phase 1 batch 1/1

] INFO: Sync phase 1 batch 1/1

[MQTT] Sync Phase 1 started (recent 20 messages) - disabling status updates

s

[MQTT] Sending ACK for sy1c75b00000008


a8e5d5[SYNC DEBUG] Receiving msg: ID=000Rex isNew=NO phase=1

[Message] Background sync or duplicate - silent save only (no UI update)

[45250] INFO: Duplicate message skipped (exact match): id=0001c75b00000008 sender=Rex

[Message] Duplicate message - skipping all processing

[MQTT] Phase 1 complete - processed 1 messages

[45272] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[45338] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[45338] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[Village] Loaded 21 messages (sorted by timestamp)

=======================================c43bba2010 AFTER Phase 1 complete

[SYNC DEBUG] Total messages in stlogical order):

  [0] ID=000508e00000000e from=Archer time=1765325129 status=1

  [1] ID=0002b40c0000004a from=SmolTxt time=17661686726 status=3

  [3] ID=0003a37500000005 from=Archer time=1766168730 status=3

  [4] ID=0003ce3a0tatus=3

  [5] ID=00042ed600000050 from=Rex time=1766168768 status=3

  [6] ID=0004775b00000004 from=Archer time=1766182279 stat3

  [8] ID=0003

  [9] ID=0000e6dd00000005 from=Rex time=1766183509 status=3

  [10] ID=000123e800000006 from=Archer time=1766183522 status=3

  [12] ID=00031c3700000009 from=Rex time=1766183653 status=3

  [13] ID=0002083300000008 from=Rex time=1766183801 status=3

  [14] ID=0002afc400000009 from=Rex time=1766183844 status=3

  [15] ID=0003a8fa0000000a from=Rex time=1766183907 status=3

  [16] ID=0003d2440000000b from=Rex time=1766183919 status=3

  [17] ID=0006c84e0000000a from=Rex time=1766185049 status=3

  [18] ID=00087f0c75b00000008 from=Rex time=1766185714 status=3

[SYNC DEBUG] UI message count: 21

========================================

[MQTT] Phase 1 complete - recent messages synced, re-enabled sta] INFO: Phase 1 complete: 1 receSync fully complete - no more history

[MQTT] Processed 1 synced[MQTT] Message published successfully, msg_id=24293
[MQTT] Message published successfully, msg_id=57951
[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/sync-request/f8c43bba2010 len=73 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/sync-request/f8c43bba2010 (uptime: 46299ms)

[MQTT] seenMessageIds size: 20

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Received sync request for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted sync request: {"mac":"f8c43bba2010","timestamp":1766185714}

[MQTT] Sync request from f8c43bba2010 for messages after timestamp 1766185714

[46300] INFO: Sync from f8c43bba2010 ts=1766185714

[Sync] Request 766185714

[46300] INFSync from f8c43bba2010 (after t=1766185714)

[Sync] Ignoring sync request from self

[MQTT] EVENT_DATA: topic=smoltxt/f8c43bba2010/sync-response len=257 session_present=1
[MQTT] Received on topic: smoltxt/f8c43bba2010/sync-response (uptime: 46305ms)

[MQTT] seenMessageIds size: 20

[MQTT] ============================================

[MQTT] SYNC=============================

[MQTT] Decrypting sync response...

[46305] INFO: Sync response received: 257 bytes

[MQTT] Decrypted sync response: {"messages":[{"sender":"Rex","senderMAC":"e4cc3bba2010","content":"poop","timestamp":1766185714,"mes...

[MQTT] DUPLICATE sync response from e4cc3bba2010 phase 1 batch 1 - ignoring (last seen 1145: Duplicate sync response ignored

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on ta8e5d53/ack/e4cc3bba2010 (uptime: 46310ms)

[MQTT] seenMessageIds size: 20

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:0000b06a0000000f:0001c75b00000008:0:0

[MQTT] NEW message: 0000b06a0000000f - adding to seenMessageIds (size: 20)

E (246) esp_core_dump_flash: No core dump partition found!

[Button] USER button configured on GPIO 21

[Buzzer] Initialized on GPIO 40 using LEDC channel 0








=================================

SmolTxt - Safe Texting for Kids

=================================

Boot starting...

ESP-ROM:esp32s3-20210327

Build:Mar 27 2021

rst:0x15 (USB_UART_CHIP_RESET),boot:0x8 (SPI_FAST_FLASH_BOOT)

Saved PC:0x420dbb2e

SPIWP:0xee

mode:DIO, clock div:1

load:0x3fce3808,len:0x4bc

load:0x403c9700,len:0xbd8

load:0x403cc700,len:0x2a0c

entry 0x403c98d0

E (246) esp_core_dump_flash: No core dump partition found!

E (246) esp_core_dump_flash: No core dump partition found!

[Button] USER button configured on GPIO 21

[Buzzer] Initialized on GPIO 40 using LEDC channel 0








=================================

SmolTxt - Safe Texting for Kids

=================================

Boot starting...

[Settings] Loaded ringtone: Rising Tone

[Settings] Loaded village slot: 0

[Logger] Initializing event logger...

[Logger] Loaded 440 log entries from file

[2210] INFO: ======== SYSTEM BOOT ========

[2211] INFO: Build: Dec 19 2025 15:05:27

[Logger] Initialized

[Logger] Success! Event logging active

[2211] INFO: System boot started

[2211] INFO: Build: v0.57.26

[OTA] Partition Information:

[OTA] Running partition: app0

[OTA] Running partition size: 2048 KB

[OTA] Update partition: app1

[OTA] Update partition size: 2048 KB

[OTA] Firmware version: v0.57.26

[OTA] ====================================

[7980] INFO: OTA Updater initialized, version: v0.57.26

[7980] INFO: OTA source: GitHub zacknorman-dev/SmallText

[OTA] Update source: GitHub zacknorman-dev/SmallText

[OTA] OTA updater ready

[WiFi] Found saved credentials, connecting...

[WiFi] Trying last connected network: fomalhaut2.4G

[WiFi] Connecting to: fomalhaut2.4G

..

[WiFi] Connected!

[WiFi] IP: 192.168.8.27

[WiFi] RSSI: -70 dBm

[WiFi] Syncing NTP time...

[WiFi] NTP configured

[WiFi] NTP sync successful: 2025-12-19 23:11:01 UTC

[WiFi] Time offset: 1766185850 seconds

[WiFi] Connected: 192.168.8.27

[11492] INFO: WiFi connected: 192.168.8.27

[MQTT] Initializing MQTT messenger...

[MQTT] Initializing ESP-MQTT messenger

[MQTT] Broker: mqtts://83f1da02f4574c7f9ffe4d23088c6b5c.s1.eu.hivemq.cloud:8883

[MQTT] Username: smoltxt2

[MQTT] Client ID: smol_esp_f8c43bba2010_245

[11492] INFO: MQTT: Broker=mqtts://83f1da02f4574c7f9ffe4d23088c6b5c.s1.eu.hivemq.cloud:8883

[11492] INFO: MQTT: ClientID=smol_esp_f8c43bba2010_245

[11492] INFO: MQTT: User=smoltxt2

[11967] INFO: MQTT: TLS enabled with R12 certificate

[11968] INFO: MQTT: Config set - clean_session=true keepalive=60

[MQTT] Other event id:7
[MQTT] Client started (retry attempts: 0)
[MQTT] MQTT messenger ready

[11969] INFO: MQTT messenger initialized

[OTA] Checking for updates on boot...

[11969] INFO: OTA: Boot update check

[OTA] Checking for updates...

[OTA] Fetching: https://api.github.com/repos/zacknorman-dev/SmallText/releases/latest

[OTA] Download URL: https://github.com/zacknorman-dev/SmallText/releases/download/v0.57.26/firmware-v0.57.26.bin

[OTA] Current: v0.57.26, Latest: v0.57.26

[13334] INFO: OTA: Already on latest version

[OTA] Already on latest version

[System] Going to village select

[System] Keyboard cleared before village select

[System] No previous village to auto-load

[ 13363][E][vfs_api.cpp:105] open(): /littlefs/village_1.dat does not exist, no permits for creation

[ 13374][E][vfs_api.cpp:105] open(): /littlefs/village_2.dat does not exist, no permits for creation

[ 13385][E][vfs_api.cpp:105] open(): /littlefs/village_3.dat does not exist, no permits for creation

[ 13396][E][vfs_api.cpp:105] open(): /littlefs/village_4.dat does not exist, no permits for creation

[ 13407][E][vfs_api.cpp:105] open(): /littlefs/village_5.dat does not exist, no permits for creation

[ 13419][E][vfs_api.cpp:105] open(): /littlefs/village_6.dat does not exist, no permits for creation

[MQTT] Connected to broker!

[MQTT] Session present: yes

[MQTT] Loading saved villages for subscription...

[MQTT] Scanning for saved villages...

[MQTT] Found village in slot 0, loading...

[Village] Loading from /village_0.dat...

[Village] File size: 234 bytes

[Village] JSON parsed successfully

[13537] INFO: Rebuilt message ID cache: 21 messages

[MQTT] Successfully loaded village from slot 0

[MQTT] Added village subscription: Rex (a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[MQTT] Subscribed to topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/#

[ 13544][E][vfs_api.cpp:105] open(): /littlefs/village_1.dat does not exist, no permits for creation

[ 13555][E][vfs_api.cpp:105] open(): /littlefs/village_2.dat does not exist, no permits for creation

[ 13566][E][vfs_api.cpp:105] open(): /littlefs/village_3.dat does not exist, no permits for creation

[ 13576][E][vfs_api.cpp:105] open(): /littlefs/village_7.dat does not exist, no permits for creation

[ 13578][E][vfs_api.cpp:105] open(): /littlefs/village_4.dat does not exist, no permits for creation

[ 13596][E][vfs_api.cpp:105] open(): /littlefs/village_5.dat does not exist, no permits for creation

[ 13607][E][vfs_api.cpp:105] open(): /littlefs/village_6.dat does not exist, no permits for creation

[ 13618][E][vfs_api.cpp:105] open(): /littlefs/village_7.dat does not exist, no permits for creation

[ 13629][E][vfs_api.cpp:105] open(): /littlefs/village_8.dat does not exist, no permits for creation

[ 13640][E][vfs_api.cpp:105] open(): /littlefs/village_9.dat does not exist, no permits for creation

[MQTT] Subscribed to 1 villages

[13649] INFO: MQTT: Subscribed to 1 villages

[MQTT] Subscribed to: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/# (Rex)

[13651] INFO: MQTT: Connected - subscribed to 1 villages

[MQTT] Subscribed to command topic: smoltxt/f8c43bba2010/command

[MQTT] Subscribed to sync response topic: smoltxt/f8c43bba2010/sync-response

[MQTT] Waiting 2s for subscriptions to be established...

[ 13655][E][vfs_api.cpp:105] open(): /littlefs/village_8.dat does not exist, no permits for creation

[ 13666][E][vfs_api.cpp:105] open(): /littlefs/village_9.dat does not exist, no permits for creation

[System] Starting with sync setup screen for 1 villages

[MQ[MQTT] Sync request payload: {"mac":"f8c43bba2010","timestamp":0}

[MQTT] Publishing sync request to: smoltxt//sync-request/f8c43bba2010

[MQTT] Sync request sent (QoS 1, will receive all messages, dedup on receive)

[15711] INFO: Sync request sent

[MQTT] Boot sync requested15711] INF: MQTT: Boot sync requested for 1 villages

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/shout len=115 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/shout (uptime: 16212ms)

[MQTT] seenMessageIds size: 0

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: SHOUT:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:*:Rex:e4cc3bba2010:0000e3ff00000007:1234:0:0

[MQTT] NEW message: 0000e3ff00000007 - adding to seenMessageIds (size: 0)

[MQTT] *** SENDING ACK *** for message: 0000e3ff00000007 to e4cc3bba2010 (uptime: 16213ms)

[MQTT] ACK send result: SUCCESS

[MQTT] Received message from Rex

[Message] From Rex: 1234 (village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[Power] Activity timer reset - message received

[Message] Real-time message - updating UI

[Message] Message for different village (a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53) - saving to storage only

[Village] Message saved to file: id=0000e3ff00000007 village=a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[Ringtone] Playing: Rising Tone

[MQTT] Subscribed to topic, msg_id=22546
[MQTT] Subscribed to topic, msg_id=45714
[MQTT] Subscribed to topic, msg_id=30116
[MQTT] Subscribed to topic, msg_id=34742
[MQTT] Message published successfully, msg_id=36814
[MQTT] Message published successfully, msg_id=62067
[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/username/f8c43bba2010 len=6 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/username/f8c43bba2010 (uptime: 16939ms)

[MQTT] seenMessageIds size: 1

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Received username announcement: Archer for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[16939] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[Individual] ========================================

[Individual] Received username announcement!

[Individual] Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[Individual] Username: Archer

[Individual] ========================================

[Village] Found existing village with ID 'a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53' in slot 0

[Individual] Found village in slot: 0

_Update_Full : 3268516

[Village] Loading from /village_0.dat...

[Village] File size: 234 bytes

[Village] JSON parsed successfully

[17092] INFO: Rebuilt message ID cache: 21 messages

[Individual] Village type: Individual

[Individual] Current name: 'Rex'

[Individual] My username: 'Archer'

[Individual] Ignoring username - it's our own name

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/username/e4cc3bba2010 len=3 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/username/e4cc3bba2010 (uptime: 17095ms)

[MQTT] seenMessageIds size: 1

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Received username announcement: Rex for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[17096] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[Individual] ========================================

[Individual] Received username announcement!

[Individual] Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[Individual] Username: Rex

[Individual] ========================================

[Village] Found existing village with ID 'a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53' in slot 0

[Individual] Found village in slot: 0

[Village] Loading from /village_0.dat...

[Village] File size: 234 bytes

[Village] JSON parsed successfully

[17246] INFO: Rebuilt message ID cache: 21 messages

[Individual] Village type: Individual

[Individual] Current name: 'Rex'

[Individual] My username: 'Archer'

[Individual] Not updating - current name 'Rex' is acceptable

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/villagename len=4 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/villagename (uptime: 17250ms)

[MQTT] seenMessageIds size: 1

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Received village name announcement: Chat for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[17250] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[Village] Received village name announcement for a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53: Chat

[Village] Found existing village with ID 'a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53' in slot 0

[Village] Loading from /village_0.dat...

[Village] File size: 234 bytes

[Village] JSON parsed successfully

[17394] INFO: Rebuilt message ID cache: 21 messages

[Village] Ignoring village name for individual conversation (uses username instead)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/username/f8c43bba2010 len=6 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/username/f8c43bba2010 (uptime: 17398ms)

[MQTT] seenMessageIds size: 1

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Received username announcement: Archer for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[17398] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[Individual] ========================================

[Individual] Received username announcement!

[Individual] Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[Individual] Username: Archer

[Individual] ========================================

[System] Setup complete!

[Village] Found existing village with ID 'a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53' in slot 0

[Individual] Found village in slot: 0

[Village] Loading from /village_0.dat...

[Village] File size: 234 bytes

[Village] JSON parsed successfully

[17551] INFO: Rebuilt message ID cache: 21 messages

[Individual] Village type: Individual

[Individual] Current name: 'Rex'

[Individual] My username: 'Archer'

[Individual] Ignoring username - it's our own name

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/username/e4cc3bba2010 len=3 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/username/e4cc3bba2010 (uptime: 17555ms)

[MQTT] seenMessageIds size: 1

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Received username announcement: Rex for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[17555] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[Individual] ========================================

[Individual] Received username announcement!

[Individual] Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[Individual] Username: Rex

[Individual] ========================================

[Village] Found existing village with ID 'a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53' in slot 0

[Individual] Found village in slot: 0

[Village] Loading from /village_0.dat...

[Village] File size: 234 bytes

[Village] JSON parsed successfully

[17709] INFO: Rebuilt message ID cache: 21 messages


========== DEBUG LOG DUMP ==========

Total entries: 470

====================================


[17165] INFO: Sync from f8c43bba2010 ts=1766183653

[17166] INFO: Log buffer pruned, removed 125 old entries

[17166] INFO: Sync from f8c43bba2010 (after t=1766183653)

[17170] INFO: Sync response received: 256 bytes

[17170] ERROR: Sync response decrypt failed

[17591] INFO: Sync response received: 258 bytes

[17591] ERROR: Sync response decrypt failed

[17885] INFO: Sync response received: 257 bytes

[17885] ERROR: Sync response decrypt failed

[17892] INFO: Sync response received: 256 bytes

[17893] ERROR: Sync response decrypt failed

[17896] INFO: Sync response received: 258 bytes

[17896] ERROR: Sync response decrypt failed

[17912] INFO: Sync from f8c43bba2010 ts=1766183844

[17913] INFO: Sync from f8c43bba2010 (after t=1766183844)

[18365] INFO: Sync response received: 258 bytes

[18365] ERROR: Sync response decrypt failed

[19874] INFO: Sync from f8c43bba2010 ts=1766183907

[19874] INFO: Sync from f8c43bba2010 (after t=1766183907)

[19879] INFO: Sync from f8c43bba2010 ts=1766183907

[19879] INFO: Sync from f8c43bba2010 (after t=1766183907)

[19907] INFO: Sync response received: 257 bytes

[19907] ERROR: Sync response decrypt failed

[19924] INFO: Sync response received: 256 bytes

[19924] ERROR: Sync response decrypt failed

[20369] INFO: Sync response received: 257 bytes

[20370] ERROR: Sync response decrypt failed

[20374] INFO: Sync response received: 256 bytes

[20374] ERROR: Sync response decrypt failed

[20379] INFO: Sync response received: 256 bytes

[20379] ERROR: Sync response decrypt failed

[20391] INFO: Sync from e4cc3bba2010 ts=1766183919

[20391] INFO: Sync from e4cc3bba2010 (after t=1766183919)

[20391] ERROR: Load messages failed: village not initialized

[20392] INFO: Sync: No new messages for e4cc3bba2010

[21161] INFO: Sync from f8c43bba2010 ts=1766183919

[21161] INFO: Sync from f8c43bba2010 (after t=1766183919)

[21165] INFO: Sync response received: 256 bytes

[21165] ERROR: Sync response decrypt failed

[21169] INFO: Sync from e4cc3bba2010 ts=1766183919

[21169] INFO: Sync from e4cc3bba2010 (after t=1766183919)

[21170] ERROR: Load messages failed: village not initialized

[21170] INFO: Sync: No new messages for e4cc3bba2010

[21178] INFO: Sync from f8c43bba2010 ts=1766183919

[21178] INFO: Sync from f8c43bba2010 (after t=1766183919)

[21687] INFO: Sync from e4cc3bba2010 ts=1766183919

[21687] INFO: Sync from e4cc3bba2010 (after t=1766183919)

[21688] ERROR: Load messages failed: village not initialized

[21688] INFO: Sync: No new messages for e4cc3bba2010

[21691] INFO: Sync response received: 256 bytes

[21692] ERROR: Sync response decrypt failed

[21700] INFO: Sync from f8c43bba2010 ts=1766183919

[21700] INFO: Sync from f8c43bba2010 (after t=1766183919)

[21704] INFO: Sync from e4cc3bba2010 ts=1766183919

[21704] INFO: Sync from e4cc3bba2010 (after t=1766183919)

[22471] ERROR: Load messages failed: village not initialized

[22472] INFO: Sync: No new messages for e4cc3bba2010

[22477] INFO: Sync response received: 256 bytes

[22477] ERROR: Sync response decrypt failed

[22485] INFO: Sync from f8c43bba2010 ts=1766183919

[22486] INFO: Sync from f8c43bba2010 (after t=1766183919)

[22489] INFO: Sync response received: 256 bytes

[22490] ERROR: Sync response decrypt failed

[22494] INFO: Sync from e4cc3bba2010 ts=1766183919

[22494] INFO: Sync from e4cc3bba2010 (after t=1766183919)

[22976] ERROR: Load messages failed: village not initialized

[22976] INFO: Sync: No new messages for e4cc3bba2010

[22985] INFO: Sync from f8c43bba2010 ts=1766183919

[22986] INFO: Sync from f8c43bba2010 (after t=1766183919)

[22989] INFO: Sync response received: 256 bytes

[22990] ERROR: Sync response decrypt failed

[22994] INFO: Sync from e4cc3bba2010 ts=1766183919

[22994] INFO: Sync from e4cc3bba2010 (after t=1766183919)

[22994] ERROR: Load messages failed: village not initialized

[22995] INFO: Sync: No new messages for e4cc3bba2010

[23481] INFO: Sync from f8c43bba2010 ts=1766183919

[23481] INFO: Sync from f8c43bba2010 (after t=1766183919)

[23485] INFO: Sync response received: 256 bytes

[23485] ERROR: Sync response decrypt failed

[23495] INFO: Sync from e4cc3bba2010 ts=1766183919

[23495] INFO: Sync from e4cc3bba2010 (after t=1766183919)

[23496] ERROR: Load messages failed: village not initialized

[23496] INFO: Sync: No new messages for e4cc3bba2010

[23501] INFO: Sync from f8c43bba2010 ts=1766183919

[23501] INFO: Sync from f8c43bba2010 (after t=1766183919)

[23999] INFO: Sync response received: 256 bytes

[23999] ERROR: Sync response decrypt failed

[24007] INFO: Sync from e4cc3bba2010 ts=1766183919

[24008] INFO: Sync from e4cc3bba2010 (after t=1766183919)

[24008] ERROR: Load messages failed: village not initialized

[24008] INFO: Sync: No new messages for e4cc3bba2010

[24013] INFO: Sync from f8c43bba2010 ts=1766183919

[24013] INFO: Sync from f8c43bba2010 (after t=1766183919)

[24017] INFO: Sync response received: 256 bytes

[24017] ERROR: Sync response decrypt failed

[24511] INFO: Sync from e4cc3bba2010 ts=1766183919

[24511] INFO: Sync from e4cc3bba2010 (after t=1766183919)

[24512] ERROR: Load messages failed: village not initialized

[24512] INFO: Sync: No new messages for e4cc3bba2010

[24520] INFO: Sync from e4cc3bba2010 ts=1766183919

[24520] INFO: Sync from e4cc3bba2010 (after t=1766183919)

[24521] ERROR: Load messages failed: village not initialized

[24521] INFO: Sync: No new messages for e4cc3bba2010

[24554] INFO: Sync from f8c43bba2010 ts=1766183919

[[Individual] Village type: Individunt name: 'Rex'

INFO: Sync from f8c43bba2010 (after t=1766183919)[Individual] My username: 'Archer'

[Individual] Not updating - current name 'Rex' is acceptable



[25458] INFO: Sync response received: 256 bytes

[25459] ERROR: Sync response decrypt failed

[25471] INFO: Sync from e4cc3bba2010 ts=1766183919

[25472] INFO: Sync from e4cc3bba2010 (after t=1766183919)

[25472] ERROR: Load messages failed: village not initialized

[25472] INFO: Sync: No new messages for e4cc3bba2010

[25577[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/villagename len=4 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/villagename (uptime: 18198ms)

[MQTT] seenMessageIds size: 1

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Received village name announcement: Chat for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[18199] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[Village] Received village name announcement for a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53: Chat

] INFO: Sync from f8c43bba2010 ts=1766183919

[25577] INFO: Sync from f8c43bba2010 (after t=1766183919)

[25581] INFO: Sync response received: 256 bytes

[25581] ERROR: Sync response decrypt failed

[26215] INFO: Sync from e4cc3bba2010 ts=1766183919

[26215] INFO: Sync from e4cc3bba2010 (after t=1766183919)

[26215] ERROR: Load messages failed: village not initialized

[26216] INFO: Sync: No new messages for e4cc3bba2010

[26236] INFO: Sync from f8c43bba2010 ts=1766183919

[26237] INFO: Sync from f8c43bba2010 (after t=1766183919)

[26281] INFO: Sync response received: 256 bytes

[26282] ERROR: Sync response decrypt failed

[26792] INFO: Sync from f8c43bba2010 ts=1766183919

[26792] INFO: Sync from f8c43bba2010 (after t=1766183919)

[27360] INFO: Sync from f8c43bba2010 ts=1766183919

[27361] INFO: Log buffer pruned, removed 125 old entries

[27361] INFO: Sync from f8c43bba2010 (after t=1766183919)

[27396] INFO: Sync response received: 256 bytes

[27397] ERROR: Sync response decrypt failed

[28069] INFO: Sync response received: 259 bytes

[28069] ERROR: Sync response decrypt failed

[28073] INFO: Sync response received: 256 bytes

[28074] ERROR: Sync response decrypt failed

[28077] INFO: Sync response received: 259 bytes

[28077] ERROR: Sync response decrypt failed

[28097] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[28191] INFO: Rebuilt message ID cache: 18 messages

[28512] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[28603] INFO: Rebuilt message ID cache: 18 messages

[29052] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[29173] INFO: Rebuilt message ID cache: 18 messages

[29177] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[29296] INFO: Rebuilt message ID cache: 18 messages

[29300] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[29418] INFO: Rebuilt message ID cache: 18 messages

[29422] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[29549] INFO: Rebuilt message ID cache: 18 messages

[29553] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[29667] INFO: Rebuilt message ID cache: 18 messages

[30102] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[30240] INFO: Rebuilt message ID cache: 18 messages

[30244] INFO: [Village] Found existing village with ID 'a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53' in slot 0

Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[30378] INFO: Rebuilt message ID cache: 18 messages

[33642] INFO: Sync from e4cc3bba2010 ts=1766185049

[33642] INFO: Sync from e4cc3bba2010 (after t=1766185049)

[33643] ERROR: Load messages failed: village not initialized

[33643] INFO: Sync: No new messages for e4cc3bba2010

[34968] INFO: Sync from e4cc3bba2010 ts=1766185049

[34968] INFO: Sync from e4cc3bba2010 (after t=1766185049)

[35403] ERROR: Load messages failed: village not initialized

[35403] INFO: Sync: No new messages for e4cc3bba2010

[37830] INFO: Rebuilt message ID cache: 18 messages

[41521] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[41574] INFO: File stats: total=18 empty=0 parseErr=0 matched=18

[41574] INFO: Loaded 18 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[41580] INFO: Sync request sent

[41581] INFO: Periodic sync requested

[41769] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[41826] INFO: Sync from f8c43bba2010 ts=1766185049

[41827] INFO: File stats: total=18 empty=0 parseErr=0 matched=18

[41827] INFO: Loaded 18 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[42303] INFO: Sync from f8c43bba2010 (after t=1766185049)

[42309] INFO: Sync request sent

[42327] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[42382] INFO: File stats: total=18 empty=0 parseErr=0 matched=18

[42382] INFO: Loaded 18 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[42508] INFO: Batch updated 1 messages to status 3

[42597] INFO: Saved 18 total lines

[42602] INFO: Sync from f8c43bba2010 ts=1766185049

[43105] INFO: Sync from f8c43bba2010 (after t=1766185049)

[64659] INFO: Sync response received: 259 bytes

[64661] INFO: Sync phase 1 batch 1/1

[64736] INFO: Duplicate message skipped (exact match): id=0006c84e0000000a sender=Rex

[64752] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[64806] INFO: File stats: total=18 empty=0 parseErr=0 matched=18

[64806] INFO: Loaded 18 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[64808] INFO: Phase 1 complete: 1 recent msgs

[64822] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[64878] INFO: File stats: total=18 empty=0 parseErr=0 matched=18

[65370] INFO: Loaded 18 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[65371] INFO: Synced 1 messages

[65583] INFO: Sync response received: 259 bytes

[65585] INFO: Duplicate sync response ignored

[66603] INFO: Sync response received: 259 bytes

[66604] INFO: Duplicate sync response ignored

[67835] INFO: Sync response received: 259 bytes

[67836] INFO: Duplicate sync response ignored

[69071] INFO: Sync response received: 259 bytes

[69072] INFO: Duplicate sync response ignored

[70087] INFO: Sync response received: 259 bytes

[70089] INFO: Sync phase 1 batch 1/1

[70149] INFO: Duplicate message skipped (exact match): id=0006c84e0000000a sender=Rex

[70155] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[70206] INFO: File stats: total=18 empty=0 parseErr=0 matched=18

[70206] INFO: Loaded 18 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[70208] INFO: Phase 1 complete: 1 recent msgs

[70209] INFO: Synced 1 messages

[70840] INFO: Message saved: id=00010daa00000005 from=Rex village=a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[70890] INFO: Updated message 00010daa00000005 to status 2

[71451] INFO: Saved 19 total lines

[71509] INFO: Updated message 00010daa00000005 to status 3

[71592] INFO: Saved 19 total lines

[88197] INFO: MQTT SHOUT sent: read

[88198] INFO: MQTT send: SUCCESS id=0001587f00000017

[88347] INFO: Message saved: id=0001587f00000017 from=Archer village=a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[88781] INFO: Updated message 0001587f00000017 from status 1 to 2

[88865] INFO: Saved 20 total lines

[90737] INFO: Updated message 0001587f00000017 to status 3

[90821] INFO: Saved 20 total lines

[2234] INFO: ======== SYSTEM BOOT ========

[2235] INFO: Build: Dec 19 2025 15:05:27

[2235] INFO: System boot started

[2235] INFO: Build: v0.57.26

[[Village] Loading from /village_0.dat...

8004] INFO: OTA Updater initialized, version: v0.57.26

[8004] INFO: OTA source: GitHub zacknorman-dev/SmallText

[12016] INFO: WiFi connected: 192.168.8.27

[12016] INFO: MQTT: Broker=mqtts://83f1da02f4574c7f9ffe4d23088c6b5c.s1.eu.hivemq.cloud:8883

[12016] INFO: MQTT: ClientID=smol_esp_f8c43bba2010_245

[12016] INFO: MQTT: User=smoltxt2

[12725] INFO: MQTT: TLS enabled with R12 certificate

[12725] INFO: MQTT: Config set - clean_session=true keepalive=60

[12727] INFO: MQTT messenger initialized

[12727] INFO: OTA: Boot update check

[14226] INFO: Rebuilt message ID cache: 20 messages

[14330] INFO: MQTT: Subscribed to 1 villages

[14331] INFO: MQTT: Connected - subscribed to 1 villages

[14359] INFO: OTA: Already on latest version

[16396] INFO: Sync request sent

[16396] INFO: MQTT: Boot sync requested for 1 villages

[17198] INFO: Sync from e4cc3bba2010 ts=1766185049

[17198] INFO: Sync from e4cc3bba2010 (after t=1766185049)

[17198] ERROR: Load messages failed: village not initialized

[17199] INFO: Sync: No new messages for e4cc3bba2010

[17203] INFO: Sync from e4cc3bba2010 ts=1766185049

[17203] INFO: Sync from e4cc3bba2010 (after t=1766185049)

[17204] ERROR: Load messages failed: village not initialized

[17204] INFO: Sync: No new messages for e4cc3bba2010

[17237] INFO: Sync from f8c43bba2010 ts=1766185049

[17238] INFO: Sync from f8c43bba2010 (after t=1766185049)

[17792] INFO: Sync from f8c43bba2010 ts=1766185049

[17793] INFO: Log buffer pruned, removed 125 old entries

[17794] INFO: [Village] File size: 234 bytes

[Village] JSON parsed successfully

Sync from f8c43bba2010 (after t=1766185049)

[17917] INFO: Sync response received: 259 bytes

[17918] ERROR: Sync response decrypt failed

[18334] INFO: Sync response received: 259 bytes

[18335] ERROR: Sync response decrypt failed

[18338] INFO: Sync response received: 259 bytes

[18338] ERROR: Sync response decrypt failed

[18342] INFO: Sync response received: 259 bytes

[18342] ERROR: Sync response decrypt failed

[18345] INFO: Sync response received: 259 bytes

[18346] ERROR: Sync response decrypt failed

[18349] INFO: Sync response received: 259 bytes

[18349] ERROR: Sync response decrypt failed

[20022] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[20216] INFO: Rebuilt message ID cache: 20 messages

[20221] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[20421] INFO: Rebuilt message ID cache: 20 messages

[20425] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[20631] INFO: Rebuilt message ID cache: 20 messages

[20636] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[20846] INFO: Rebuilt message ID cache: 20 messages

[20851] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[21048] INFO: Rebuilt message ID cache: 20 messages

[21468] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[21684] INFO: Rebuilt message ID cache: 20 messages

[21689] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[21900] INFO: Rebuilt message ID cache: 20 messages

[21905] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[22123] INFO: Rebuilt message ID cache: 20 messages

[22127] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[22344] INFO: Rebuilt message ID cache: 20 messages

[31737] INFO: Rebuilt message ID cache: 20 messages

[35416] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[35892] INFO: File stats: total=20 empty=0 parseErr=0 matched=20

[35892] INFO: Loaded 20 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[35899] INFO: Sync request sent

[35899] INFO: Periodic sync requested

[35921] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[35983] INFO: File stats: total=20 empty=0 parseErr=0 matched=20

[35983] INFO: Loaded 20 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[35989] INFO: Sync request sent

[36013] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[36075] INFO: File stats: total=20 empty=0 parseErr=0 matched=20

[36190] INFO: Sync from f8c43bba2010 ts=1766185684

[36191] INFO: Sync from f8c43bba2010 (after t=1766185684)

[36726] INFO: Sync from f8c43bba2010 ts=1766185684

[36727] INFO: Sync from f8c43bba2010 (after t=1766185684)

[36733] INFO: Sync response received: 260 bytes

[36734] INFO: Sync phase 1 batch 1/2

[36737] INFO: Loaded 20 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[36795] INFO: Duplicate message skipped (exact match): id=0001587f00000017 sender=Archer

[36796] INFO: Synced 1 messages

[37023] INFO: Sync response received: 257 bytes

[37454] INFO: Sync phase 1 batch 2/2

[37672] INFO: Message saved: id=0001c75b00000008 from=Rex village=a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[38574] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[38631] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[18375] INFO: Rebuilt message ID cache: 21 messages

[Village] Ignoring village name for individual conversation (uses username instead)

[38632] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[38634] INFO: Phase 1 complete: 1 recent msgs

[38641] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[38700] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[38700] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[38701] INFO: Synced 1 messages

[40221] INFO: Sync response received: 260 bytes

[40222] INFO: Duplicate sync response ignored

[40230] INFO: Sync response received: 257 bytes

[40231] INFO: Duplicate sync response ignored

[59431] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[59491] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[59491] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 18381ms)

[MQTT] seenMessageIds size: 1

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:00003f5500000001:0000e3ff00000007:0:0

[MQTT] NEW message: 00003f5500000001 - adding to seenMessageIds (size: 1)

60785] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[60845] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[60845] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[61333] INFO: Sync request sent

[61347] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[61408] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[61408] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[61492] INFO: Sync from f8c43bba2010 ts=1766185714

[61493] INFO: Sync from f8c43bba2010 (after t=1766185714)

[61559] INFO: Batch updated 1 messages to status 3

[61695] INFO: Saved 21 total lines

[62100] INFO: Sync response received: 257 bytes

[62102] INFO: Sync phase 1 batch 1/1

[2223] INFO: ======== SYSTEM BOOT ========

[2223] INFO: Build: Dec 19 2025 15:05:27

[2223] INFO: System boot started

[2223] INFO: Build: v0.57.26

[7991] INFO: OTA Updater initialized, version: v0.57.26

[7991] INFO: OTA source: GitHub zacknorman-dev/SmallText

[9003] INFO: WiFi connected: 192.168.8.27

[9003] INFO: MQTT: Broker=mqtts://83f1da02f4574c7f9ffe4d23088c6b5c.s1.eu.hivemq.cloud:8883

[9004] INFO: MQTT: ClientID=smol_esp_f8c43bba2010_245

[9004] INFO: MQTT: User=smoltxt2

[9499] INFO: MQTT: TLS enabled with R12 certificate

[9499] INFO: MQTT: Config set - clean_session=true keepalive=60

[9500] INFO: MQTT messenger initialized

[9501] INFO: OTA: Boot update check

[11031] INFO: OTA: Already on latest version

[11084] INFO: Rebuilt message ID cache: 21 messages

[11198] INFO: MQTT: Subscribed to 1 villages

[11200] INFO: MQTT: Connected - subscribed to 1 villages

[13228] INFO: Sync request sent

[13228] INFO: MQTT: Boot sync requested for 1 villages

[13766] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[13975] INFO: Rebuilt message ID cache: 21 messages

[13980] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[14238] INFO: Rebuilt message ID cache: 21 messages

[14242] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[14455] INFO: Rebuilt message ID cache: 21 messages

[14758] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[14987] INFO: Rebuilt message ID cache: 21 messages

[14992] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[15202] INFO: Rebuilt message ID cache: 21 messages

[15908] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[16009] INFO: Rebuilt message ID cache: 21 messages

[16013] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[16126] INFO: Rebuilt message ID cache: 21 messages

[16130] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[16240] INFO: Rebuilt message ID cache: 21 messages

[16244] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[16353] INFO: Rebuilt message ID cache: 21 messages

[32921] INFO: Rebuilt message ID cache: 21 messages

[34418] INFO: Sync from e4cc3bba2010 ts=1766185714

[17394] INFO: Rebuilt message ID cache: 21 messages

[17398] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[17551] INFO: Rebuilt message ID cache: 21 messages

[17555] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[17709] INFO: Rebuilt message ID cache: 21 messages


========== END LOG DUMP ==========


[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/username/f8c43bba2010 len=6 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/username/f8c43bba2010 (uptime: 18780ms)

[MQTT] seenMessageIds size: 2

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Received username announcement: Archer for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[18781] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[Individual] ========================================

[Individual] Received username announcement!

[Individual] Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[Individual] Username: Archer

[Individual] ========================================

[Village] Found existing village with ID 'a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53' in slot 0

[Individual] Found village in slot: 0

[Village] Loading from /village_0.dat...

[Village] File size: 234 bytes

[Village] JSON parsed successfully

[18951] INFO: Rebuilt message ID cache: 21 messages

[Individual] Village type: Individual

[Individual] Current name: 'Rex'

[Individual] My username: 'Archer'

[Individual] Ignoring username - it's our own name

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/username/e4cc3bba2010 len=3 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/username/e4cc3bba2010 (uptime: 18956ms)

[MQTT] seenMessageIds size: 2

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Received username announcement: Rex for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[18957] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[Individual] ========================================

[Individual] Received username announcement!

[Individual] Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[Individual] Username: Rex

[Individual] ========================================

[Village] Found existing village with ID 'a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53' in slot 0

[Individual] Found village in slot: 0

[Village] Loading from /village_0.dat...

[Village] File size: 234 bytes

[19127] INFO: Rebuilt message ID cache: 21 messages

[Individual] Village type: Individual

[Individual] Current name: 'Rex'

[Individual] My username: 'Archer'

[Individual] Not updating - current name 'Rex' is acceptable

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/villagename len=4 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/villagename (uptime: 19131ms)

[MQTT] seenMessageIds size: 2

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Received village name announcement: Chat for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[19131] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[Village] Received village name announcement for a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53: Chat

[Village] Found existing village with ID 'a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53' in slot 0

[Village] Loading from /village_0.dat...

[Village] File size: 234 bytes

[Village] JSON parsed successfully

[19318] INFO: Rebuilt message ID cache: 21 messages

[Village] Ignoring village name for individual conversation (uses username instead)

[App] MQTT quiet for 2s - sync likely complete, transitioning to main menu

_Update_Part : 766999

_Update_Part : 766998

[Loop] Entering handleMainMenu for first time

_Update_Full : 3259998

[KB-READ] I2C byte: 0xB7 (183)

[Keyboard] RIGHT pressed

[MainMenu] ENTER or RIGHT pressed - advancing to selection

[ 26446][E][vfs_api.cpp:105] open(): /littlefs/village_1.dat does not exist, no permits for creation

[ 26458][E][vfs_api.cpp:105] open(): /littlefs/village_2.dat does not exist, no permits for creation

[ 26469][E][vfs_api.cpp:105] open(): /littlefs/village_3.dat does not exist, no permits for creation

[ 26481][E][vfs_api.cpp:105] open(): /littlefs/village_4.dat does not exist, no permits for creation

[ 26492][E][vfs_api.cpp:105] open(): /littlefs/village_5.dat does not exist, no permits for creation

[ 26504][E][vfs_api.cpp:105] open(): /littlefs/village_6.dat does not exist, no permits for creation

[ 26515][E][vfs_api.cpp:105] open(): /littlefs/village_7.dat does not exist, no permits for creation

[ 26527][E][vfs_api.cpp:105] open(): /littlefs/village_8.dat does not exist, no permits for creation

[ 26538][E][vfs_api.cpp:105] open(): /littlefs/village_9.dat does not exist, no permits for creation

[Conversations] Found 1 valid villages

  Slot 0: Rex

_Update_Part : 766998

_Update_Part : 766998

[MainMenu] Opening conversation list

[KB-READ] I2C byte: 0xB7 (183)

[Keyboard] RIGHT pressed

[ConversationList] Loading village from slot 0: Rex

[Village] Loading from /village_0.dat...

[Village] File size: 234 bytes

[Village] JSON parsed successfully

[28709] INFO: Rebuilt message ID cache: 21 messages

[Settings] Saved current village slot: 0

[MQTT] Active village set to: Rex

[ConversationList] Active village: Rex

[UI] Starting full refresh for conversation menu...

_Update_Full : 3260998

[UI] Full refresh complete for conversation menu

[KB-READ] I2C byte: 0xB7 (183)

[Keyboard] RIGHT pressed

[MQTT] Active village set to: Rex

[Loop] Active village set to: Rex

[App] Periodic sync check

[32382] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[32934] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[32934] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[Village] Loaded 21 messages (sorted by timestamp)

[MQTT] Sync request payload: {"mac":"f8c43bba2010","timestamp":1766185714}

[MQTT] Publishing sync request to: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/sync-request/f8c43bba2010

[MQTT] Sync request sent (QoS 1, will receive all messages, dedup on receive)

[32941] INFO: Sync request sent

[App] Periodic sync requested (last message: 1766185714)

[32941] INFO: Periodic sync requested

[App] ===== ENTERING MESSAGING SCREEN =====

[App] Messages in history: 0

[32957] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[33019] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[UI] Message added. Total: 11

[UI] Message added. Total: 12

[UI] Message added. Total: 13

[UI] Message added. Total: 14

[UI] Message added. Total: 15

[UI] Message added. Total: 16

[UI] Message added. Total: 17

[UI] Message added. Total: 18

[UI] Message added. Total: 19

[UI] Message added. Total: 20

[UI] Message added. Total: 21

[Perf] Added 21 messages to UI in 3ms

[MarkRead] ===== STARTING markVisibleMessagesAsRead_Optimized() =====

[MarkRead] Village initialized: YES

[MarkRead] Current state - appState: 31, inMessagingScreen: 1

[MarkRead] Using pre-loaded messages (count: 21)

[33044] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[33105] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[33651] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[Village] Loaded 21 messages (sorted by timestamp)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/sync-request/f8c43bba2010 len=73 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/sync-request/f8c43bba2010 (uptime: 33834ms)

[MQTT] seenMessageIds size: 2

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Received sync request for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted sync request: {"mac":"f8c43bba2010","timestamp":1766185714}

[MQTT] Sync request from f8c43bba2010 for messages after timestamp 1766185714

[33835] INFO: Sync from f8c43bba2010 ts=1766185714

[Sync] Request from f8c43bba2010 for messages after timestamp: 1766185714

[33836] INFO: Sync from f8c43bba2010 (after t=1766185714)

[Sync] Ignoring sync request from self

[App] Sent 13 pending ACKs for sync'd messages

[MarkRead] Will check messages from index 0 to 20

[MarkRead] [0] id=000508e00000000e, content='666', received=0, status=1, senderMAC=f8c43bba2010

[MarkRead]   -> SKIP: Sent by me (received=false)

[MarkRead] [1] id=0002b40c0000004a, content='Rex joined the conve', received=1, status=3, senderMAC=system

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [2] id=000343f300000001, content='Archer joined the co', received=1, status=3, senderMAC=system

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [3] id=0003a37500000005, content='word', received=0, status=3, senderMAC=f8c43bba2010

[MarkRead]   -> SKIP: Sent by me (received=false)

[MarkRead] [4] id=0003ce3a0000004f, content='dood', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [5] id=00042ed600000050, content='555', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [6] id=0004775b00000004, content='hey man', received=0, status=3, senderMAC=f8c43bba2010

[MarkRead]   -> SKIP: Sent by me (received=false)

[MarkRead] [7] id=0004e57400000004, content='what up!!', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [8] id=000593db00000007, content='just chillin'', received=0, status=3, senderMAC=f8c43bba2010

[MarkRead]   -> SKIP: Sent by me (received=false)

[MarkRead] [9] id=0000e6dd00000005, content='7777', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [10] id=000123e800000006, content='8888', received=0, status=3, senderMAC=f8c43bba2010

[MarkRead]   -> SKIP: Sent by me (received=false)

[MarkRead] [11] id=00018a4100000008, content='9999', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [12] id=00031c3700000009, content='0000', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [13] id=0002083300000008, content='777', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [14] id=0002afc400000009, content='88889', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [15] id=0003a8fa0000000a, content='4444', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [16] id=0003d2440000000b, content='666', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [17] id=0006c84e0000000a, content='666999', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [18] id=00010daa00000005, content='4545', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] [19] id=0001587f00000017, content='read', received=0, status=3, senderMAC=f8c43bba2010

[MarkRead]   -> SKIP: Sent by me (received=false)

[MarkRead] [20] id=0001c75b00000008, content='poop', received=1, status=3, senderMAC=e4cc3bba2010

[MarkRead]   -> SKIP: Already read (status=3)

[MarkRead] ===== SUMMARY =====

[MarkRead] Total checked: 21

[MarkRead] Sent by me: 6

[MarkRead] Already read: 15

[MarkRead] Marked as read: 0

[MarkRead] Read receipts queued: 0

[MarkRead] No messages needed marking as read

[MarkRead] ===== DONE =====

[Perf] Marked unread messages in 817ms

[Perf] ===== TOTAL TIME: 903ms =====

[MQTT] Message published successfully, msg_id=59641
[MQTT] Message published successfully, msg_id=48834
[MQTT] Message published successfully, msg_id=26080
[MQTT] Message published successfully, msg_id=19341
[MQTT] Message published successfully, msg_id=15621
[MQTT] Message published successfully, msg_id=34014
[MQTT] Message published successfully, msg_id=31645
[MQTT] Message published successfully, msg_id=2918
[MQTT] Message published successfully, msg_id=56708
[MQTT] Message published successfully, msg_id=21521
[MQTT] Message published successfully, msg_id=21344
[MQTT] Message published successfully, msg_id=27879
[MQTT] Message published successfully, msg_id=49230
[MQTT] Message published successfully, msg_id=34746
[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/sync-request/f8c43bba2010 len=73 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/sync-request/f8c43bba2010 (uptime: 34198ms)

[MQTT] seenMessageIds size: 2

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Received sync request for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted sync request: {"mac":"f8c43bba2010","timestamp":1766185714}

[MQTT] Sync request from f8c43bba2010 for messages after timestamp 1766185714

[34199] INFO: Sync from f8c43bba2010 ts=1766185714

[Sync] Request from f8c43bba2010 for messages after timestamp: 1766185714

[34199] INFO: Sync from f8c43bba2010 (after t=1766185714)

[Sync] Ignoring sync request from self

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 34203ms)

[MQTT] seenMessageIds size: 2

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:0000837400000002:0003ce3a0000004f:0:0

[MQTT] NEW message: 0000837400000002 - adding to seenMessageIds (size: 2)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 34208ms)

[MQTT] seenMessageIds size: 3

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:0000837900000003:00042ed600000050:0:0

[MQTT] NEW message: 0000837900000003 - adding to seenMessageIds (size: 3)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 34212ms)

[MQTT] seenMessageIds size: 4

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:0000837e00000004:0004e57400000004:0:0

[MQTT] NEW message: 0000837e00000004 - adding to seenMessageIds (size: 4)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 34345ms)

[MQTT] seenMessageIds size: 5

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:0000838300000005:0000e6dd00000005:0:0

[MQTT] NEW message: 0000838300000005 - adding to seenMessageIds (size: 5)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 34349ms)

[MQTT] seenMessageIds size: 6

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:0000838800000006:00018a4100000008:0:0

[MQTT] NEW message: 0000838800000006 - adding to seenMessageIds (size: 6)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 34354ms)

[MQTT] seenMessageIds size: 7

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:0000838d00000007:00031c3700000009:0:0

[MQTT] NEW message: 0000838d00000007 - adding to seenMessageIds (size: 7)

[MQTT] EVENT_DATA: topic=smoltxt/f8c43bba2010/sync-response len=257 session_present=1
[MQTT] Received on topic: smoltxt/f8c43bba2010/sync-response (uptime: 34358ms)

[MQTT] seenMessageIds size: 8

[MQTT] ============================================

[MQTT] SYNC RESPONSE RECEIVED - length=257 bytes

[MQTT] ============================================

[MQTT] Decrypting sync response...

[34358] INFO: Sync response received: 257 bytes

[MQTT] Decrypted sync response: {"messages":[{"sender":"Rex","senderMAC":"e4cc3bba2010","content":"poop","timestamp":1766185714,"mes...

[MQTT] Sync phase 1 batch 1/2

[34360] INFO: Sync phase 1 batch 1/2

[MQTT] Sync Phase 1 started (recent 20 messages) - disabling status updates

[MQTT] Stored sync target MAC: e4cc3bba2010 for background phases

[MQTT] Sending ACK for synced message: 0001c75b00000008

[MQTT] Synced message: 0001c75b00000008 from Rex content='poop'

[Message] From Rex: poop (village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[Power] Activity timer reset - message received

[SYNC DEBUG] Receiving msg: ID=0001c75b00000008 from=Rex isNew=NO phase=1

[Message] Background sync or duplicate - silent save only (no UI update)

[34444] INFO: Duplicate message skipped (exact match): id=0001c75b00000008 sender=Rex

[Message] Duplicate message - skipping all processing

[MQTT] Processed 1 synced messages in phase 1

[34445] INFO: Synced 1 messages

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 34448ms)

[MQTT] seenMessageIds size: 8

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:0000839200000008:0002083300000008:0:0

[MQTT] NEW message: 0000839200000008 - adding to seenMessageIds (size: 8)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 34452ms)

[MQTT] seenMessageIds size: 9

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:0000839800000009:0002afc400000009:0:0

[MQTT] NEW message: 0000839800000009 - adding to seenMessageIds (size: 9)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 34457ms)

[MQTT] seenMessageIds size: 10

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:0000839d0000000a:0003a8fa0000000a:0:0

[MQTT] NEW message: 0000839d0000000a - adding to seenMessageIds (size: 10)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 34461ms)

[MQTT] seenMessageIds size: 11

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:000083a20000000b:0003d2440000000b:0:0

[MQTT] NEW message: 000083a20000000b - adding to seenMessageIds (size: 11)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 34465ms)

[MQTT] seenMessageIds size: 12

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:000083a70000000c:0006c84e0000000a:0:0

[MQTT] NEW message: 000083a70000000c - adding to seenMessageIds (size: 12)

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 34469ms)

[MQTT] seenMessageIds size: 13

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:000083ac0000000d:00010daa00000005:0:0

[MQTT] NEW message: 000083ac0000000d - adding to seenMessageIds (size: 13)

[MQTT] EVENT_DATA: topic=smoltxt/f8c43bba2010/sync-response len=257 session_present=1
[MQTT] Received on topic: smoltxt/f8c43bba2010/sync-response (uptime: 34473ms)

[MQTT] seenMessageIds size: 14

[MQTT] ============================================

[MQTT] SYNC RESPONSE RECEIVED - length=257 bytes

[MQTT] ============================================

[MQTT] Decrypting sync response...

[34474] INFO: Sync response received: 257 bytes

_Update_Part : 768218

[MQTT] Decrypted sync response: {"messages":[{"sender":"Rex","senderMAC":"e4cc3bba2010","content":"1234","timestamp":1766185855,"mes...

[MQTT] Sync phase 1 batch 2/2

[35055] INFO: Sync phase 1 batch 2/2

[35056] INFO: Log buffer pruned, removed 125 old entries

[MQTT] Sending ACK for synced message: 0000e3ff00000007

[MQTT] Synced message: 0000e3ff00000007 from Rex content='1234'

[35246] INFO: Message saved: id=0000e3ff00000007 from=Rex village=a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[UI] Message added. Total: 22 Message received - requesting partial update

[UI] Drawing messaging. History size: 22

766998

_Update_Part : 767002

[MQTT] Phase 1 complete - processed 1 messages

[36118] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[36182] INFO: File stats: total=22 empty=0 parseErr=0 matched=22

[36825] INFO: Loaded 22 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[Village] Loaded 22 messages (sorted by timestamp)

========================================

[SYNC DEBUG] Device f8c43bba2010 AF: 22):

  [0] ID=000508e00000000e from=Archer time=1765325129 status=1

  [1] ID=0002b40c0000004a from=SmolTxt time=1s=3

  [2] ID=000343f300000001 from=SmolTxt time=1766168706 status=3

  [3] ID=0003a37500000005 from=Archer time=1766168730 status=3

  [4] ID=0003ce3a0000004f from=Rex time=1766168743 status=3

  [5] ID=00042ed600000050 from=Rex time=1766168768 status=3

  [6] ID=0004775b00000004 from=Archer time=1766182279 status=3

  [7] ID=0004e57400000004 from=Rex time=1766182305 status=3

  [8] ID=000593db00000007 from=Archer time=1766182352 status=3

  [9] ID=0000e6dd00000005 from=Rex time=1766183509 status=3

  [10] ID=000123e800000006 from=Archer time=1766183522 status=3

  [11] ID=00018a4100000008 from=Rex timID=00031c3700000009 from=Rex time=17=0002083300000008 from=Rex time=1766183801 status=3

  [14] ID=0002afc400000009 from=Rex time=1766183844 status=3

  [15] ID=0003a8fa0000000a from=Rex time=1766183907 status=3

  [16] ID=0003d2440000000b from=Rex time=1766183919 status=3

  [17] ID=0006c84e0000000a from=Rex time=1766185049 status=3

  [18] ID=00010daa00000005 from=Rex time=1766185666 status=3

  [19] ID=0001587f00000017 from=Archer time=1766185684 status=3

  [20] ID=0001c75b000000count: 22

========================================

INFO: Phase 1 complete: 1 recent msgs

[Callback] Boot sync complete - setting flag

[Sync] Post-sync cleanup: Checking for messages stuck at status 1

[36834] INF: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[36895] INFO:[36895] INFO: Loaded 22 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[Village] Loaded 22 messages (sorted by timestamp)

[Sync] Post-sync cleanup: All message statuses correct

[MQTT] Boot sync complete callback fired

[MQTT] Sync fully complete - no more history

[MQTT] Processed 1 synced messages in phase 1

[36896] INFO: Synced 1 messages

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 36901ms)

[MQTT] seenMessageIds 1b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:000083b10000000e:0001c75b00000008:0:0

[MQTT] NEW message: 000083b10000000e - adding to seenMessageIds (size: 14)

[MQTT] Message published successfully, msg_id=13804
[MQTT] Message published successfully, msg_id=2514
[MQTT] Message published successfully, msg_id=30990
[MQTT] EVENT_DATA: topic=smoltxt/c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/acsageIds size: 15

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:000086380000000f:0001c75b00000008:0:0

[MQTT] NEW message: 000086380000000f - adding to seenMessageIds (size: 15)

[MQTT] EVENT_DATA: topic=smoltxt/f8c43bba2010/sync-response len=257 session_present=1
[MQTT] Received on topicsponse (uptime: 37326ms)

[MQTT] seenMessageIds size: 16

[MQTT] ============================================
 RESPONSE RECEIVED - length=257 bytes

[MQTT] ============================================

[MQTT] Decrypting sync response...

[INFO: Sync response receive

[MQTT] Decrypted sync response: {"messages":[{"sender":"Rex","senderMAC":"e4cc3bba2010","content":"poop","timestamp":1766185714,"mes...

[MQTT] DUPLICATE sync response from e4cc3bba2010 phase 1 batch 1 - ignor] INFO: Duplicate sync response ignored

[MQTT] EVENT_DATA: topic=smoltxt/f8c43bba2010/sync-response len=257 session_present=1
[MQTT] Received on topic: smoltxttime: 37331ms)

[MQTT] seenMessageIds size: 16

[MQTT] ============================================

[MQTT] SYNC RESPON===============================response...

[37331] INFO: Sync response received: 257 bytes

[MQTT] Decrypted sync response: {"messages":[{"sender":"Rex","senderMAC":"e4cc3bba2010","content":"1234","timestamp":1766185855,"mes...

[MQT - ignoring (last seen 2277ms ago)

[37333] 

[MQTT] EVENT_DATA: topic=smoltxt/f8c43bba2010/sync-response len=257 session_presenon topic: smoltx[MQTT] seenMessageIds size: 16

[MQTT] ============================================

[MQT] Decrypting sync response...

[37759] INFO: Sync response received: 257 bytes

[MQTT] Decrypted sync response: {"messages":[{"sender":"Rex","senderMAC":"e4cc3bba2010","content":"1234","timestamp":1766185855,"mes...

[MQTT] DUPLICATE sync response f7760] INFO: Duplicate sync response ignored

[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 len=139 session_present=1
[MQTT] Received on topic: smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 37763ms)

[MQTT] seenMessageIds size: 16

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[3ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:000088f000000010:0000e3ff00000007:0:0

[MQTT] NEW message: 000088f000000010 - adding to seenMessageIds (size: 16)

[Battery] Voltage: 4.10V, Percent: 89%
[MQTT] EVENT_DATA: topic=smoltxt/a8a6bbe4-c81b-4636-97a5-63ec6a83bbaltxt/a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53/ack/e4cc3bba2010 (uptime: 38133ms)

[MQTT] seenMessageIds size: 17

[MQTT] Message for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[MQTT] Decrypted message from Rex: ACK:a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53:e4cc3bba2010:Archer:f8c43bba2010:000083b10000000e:0001c75b00000008:0:0

[MQTT] Duplicate message, ignoring: 000083b10000000e (in seenMessageIds cache)

[Battery] Voltage: 4.10V, Percent: 89%
[KB-READ] readKey() called 10000 times

[Battery] Voltage: 4.10V, Percent: 89%
[KB-READ] readKey() called 20000 times

[Battery] Voltage: 4.10V, Percent: 89%
[KB-READ] readKey() called 30000 times

[Battery] Voltage: 4.10V, Percent: 89%
[KB-READ] readKey() called 40000 times

[Battery] Voltage: 4.10V, Percent: 89%
[Battery] Voltage: 4.10V, Percent: 89%
[KB-READ] readKey() called 50000 times

[Battery] Voltage: 4.10V, Percent: 89%
[KB-READ] readKey() called 60000 times


========== DEBUG LOG DUMP ==========

Total entries: 392

====================================


[27360] INFO: Sync from f8c43bba2010 ts=1766183919

[27361] INFO: Log buffer pruned, removed 125 old entries

[27361] INFO: Sync from f8c43bba2010 (after t=1766183919)

[27396] INFO: Sync response received: 256 bytes

[27397] ERROR: Sync response decrypt failed

[28069] INFO: Sync response received: 259 bytes

[28069] ERROR: Sync response decrypt failed

[28073] INFO: Sync response received: 256 bytes

[28074] ERROR: Sync response decrypt failed

[28077] INFO: Sync response received: 259 bytes

[28077] ERROR: Sync response decrypt failed

[28097] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[28191] INFO: Rebuilt message ID cache: 18 messages

[28512] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[28603] INFO: Rebuilt message ID cache: 18 messages

[29052] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[29173] INFO: Rebuilt message ID cache: 18 messages

[29177] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[29296] INFO: Rebuilt message ID cache: 18 messages

[29300] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[29418] INFO: Rebuilt message ID cache: 18 messages

[29422] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[29549] INFO: Rebuilt message ID cache: 18 messages

[29553] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[29667] INFO: Rebuilt message ID cache: 18 messages

[30102] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[30240] INFO: Rebuilt message ID cache: 18 messages

[30244] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[30378] INFO: Rebuilt message ID cache: 18 messages

[33642] INFO: Sync from e4cc3bba2010 ts=1766185049

[33642] INFO: Sync from e4cc3bba2010 (after t=1766185049)

[33643] ERROR: Load messages failed: village not initialized

[33643] INFO: Sync: No new messages for e4cc3bba2010

[34968] INFO: Sync from e4cc3bba2010 ts=1766185049

[34968] INFO: Sync from e4cc3bba2010 (after t=1766185049)

[35403] ERROR: Load messages failed: village not initialized

[35403] INFO: Sync: No new messages for e4cc3bba2010

[37830] INFO: Rebuilt message ID cache: 18 messages

[41521] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[41574] INFO: File stats: total=18 empty=0 parseErr=0 matched=18

[41574] INFO: Loaded 18 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[41580] INFO: Sync request sent

[41581] INFO: Periodic sync requested

[41769] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[41826] INFO: Sync from f8c43bba2010 ts=1766185049

[41827] INFO: File stats: total=18 empty=0 parseErr=0 matched=18

[41827] INFO: Loaded 18 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[42303] INFO: Sync from f8c43bba2010 (after t=1766185049)

[42309] INFO: Sync request sent

[42327] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[42382] INFO: File stats: total=18 empty=0 parseErr=0 matched=18

[42382] INFO: Loaded 18 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[42508] INFO: Batch updated 1 messages to status 3

[42597] INFO: Saved 18 total lines

[42602] INFO: Sync from f8c43bba2010 ts=1766185049

[43105] INFO: Sync from f8c43bba2010 (after t=1766185049)

[64659] INFO: Sync response received: 259 bytes

[64661] INFO: Sync phase 1 batch 1/1

[64736] INFO: Duplicate message skipped (exact match): id=0006c84e0000000a sender=Rex

[64752] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[64806] INFO: File stats: total=18 empty=0 parseErr=0 matched=18

[64806] INFO: Loaded 18 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[64808] INFO: Phase 1 complete: 1 recent msgs

[64822] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[64878] INFO: File stats: total=18 empty=0 parseErr=0 matched=18

[65370] INFO: Loaded 18 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[65371] INFO: Synced 1 messages

[65583] INFO: Sync response received: 259 bytes

[65585] INFO: Duplicate sync response ignored

[66603] INFO: Sync response received: 259 bytes

[66604] INFO: Duplicate sync response ignored

[67835] INFO: Sync response received: 259 bytes

[67836] INFO: Duplicate sync response ignored

[69071] INFO: Sync response received: 259 bytes

[69072] INFO: Duplicate sync response ignored

[70087] INFO: Sync response received: 259 bytes

[70089] INFO: Sync phase 1 batch 1/1

[70149] INFO: Duplicate message skipped (exact match): id=0006c84e0000000a sender=Rex

[70155] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[70206] INFO: File stats: total=18 empty=0 parseErr=0 matched=18

[70206] INFO: Loaded 18 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[70208] INFO: Phase 1 complete: 1 recent msgs

[70209] INFO: Synced 1 messages

[70840] INFO: Message saved: id=00010daa00000005 from=Rex village=a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[70890] INFO: Updated message 00010daa00000005 to status 2

[71451] INFO: Saved 19 total lines

[71509] INFO: Updated message 00010daa00000005 to status 3

[71592] INFO: Saved 19 total lines

[88197] INFO: MQTT SHOUT sent: read

[88198] INFO: MQTT send: SUCCESS id=0001587f00000017

[88347] INFO: Message saved: id=0001587f00000017 from=Archer village=a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[88781] INFO: Updated message 0001587f00000017 from status 1 to 2

[88865] INFO: Saved 20 total lines

[90737] INFO: Updated message 0001587f00000017 to status 3

[90821] INFO: Saved 20 total lines

[2234] INFO: ======== SYSTEM BOOT ========

[2235] INFO: Build: Dec 19 2025 15:05:27

[2235] INFO: System boot started

[2235] INFO: Build: v0.57.26

[8004] INFO: OTA Updater initialized, version: v0.57.26

[8004] INFO: OTA source: GitHub zacknorman-dev/SmallText

[12016] INFO: WiFi connected: 192.168.8.27

[12016] INFO: MQTT: Broker=mqtts://83f1da02f4574c7f9ffe4d23088c6b5c.s1.eu.hivemq.cloud:8883

[12016] INFO: MQTT: ClientID=smol_esp_f8c43bba2010_245

[12016] INFO: MQTT: User=smoltxt2

[12725] INFO: MQTT: TLS enabled with R12 certificate

[12725] INFO: MQTT: Config set - clean_session=true keepalive=60

[12727] INFO: MQTT messenger initialized

[12727] INFO: OTA: Boot update check

[14226] INFO: Rebuilt message ID cache: 20 messages

[14330] INFO: MQTT: Subscribed to 1 villages

[14331] INFO: MQTT: Connected - subscribed to 1 villages

[14359] INFO: OTA: Already on latest version

[16396] INFO: Sync request sent

[16396] INFO: MQTT: Boot sync requested for 1 villages

[17198] INFO: Sync from e4cc3bba2010 ts=1766185049

[17198] INFO: Sync from e4cc3bba2010 (after t=1766185049)

[17198] ERROR: Load messages failed: village not initialized

[17199] INFO: Sync: No new messages for e4cc3bba2010

[17203] INFO: Sync from e4cc3bba2010 ts=1766185049

[17203] INFO: Sync from e4cc3bba2010 (after t=1766185049)

[17204] ERROR: Load messages failed: village not initialized

[17204] INFO: Sync: No new messages for e4cc3bba2010

[17237] INFO: Sync from f8c43bba2010 ts=1766185049

[17238] INFO: Sync from f8c43bba2010 (after t=1766185049)

[17792] INFO: Sync from f8c43bba2010 ts=1766185049

[17793] INFO: Log buffer pruned, removed 125 old entries

[17794] INFO: Sync from f8c43bba2010 (after t=1766185049)

[17917] INFO: Sync response received: 259 bytes

[17918] ERROR: Sync response decrypt failed

[18334] INFO: Sync response received: 259 bytes

[18335] ERROR: Sync response decrypt failed

[18338] INFO: Sync response received: 259 bytes

[18338] ERROR: Sync response decrypt failed

[18342] INFO: Sync response received: 259 bytes

[18342] ERROR: Sync response decrypt failed

[18345] INFO: Sync response received: 259 bytes

[18346] ERROR: Sync response decrypt failed

[18349] INFO: Sync response received: 259 bytes

[18349] ERROR: Sync response decrypt failed

[20022] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[20216] INFO: Rebuilt message ID cache: 20 messages

[20221] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[20421] INFO: Rebuilt message ID cache: 20 messages

[20425] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[20631] INFO: Rebuilt message ID cache: 20 messages

[20636] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[20846] INFO: Rebuilt message ID cache: 20 messages

[20851] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[21048] INFO: Rebuilt message ID cache: 20 messages

[21468] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[21684] INFO: Rebuilt message ID cache: 20 messages

[21689] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[21900] INFO: Rebuilt message ID cache: 20 messages

[21905] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[22123] INFO: Rebuilt message ID cache: 20 messages

[22127] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[22344] INFO: Rebuilt message ID cache: 20 messages

[31737] INFO: Rebuilt message ID cache: 20 messages

[35416] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[35892] INFO: File stats: total=20 empty=0 parseErr=0 matched=20

[35892] INFO: Loaded 20 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[35899] INFO: Sync request sent

[35899] INFO: Periodic sync requested

[35921] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[35983] INFO: File stats: total=20 empty=0 parseErr=0 matched=20

[35983] INFO: Loaded 20 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[35989] INFO: Sync request sent

[36013] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[36075] INFO: File stats: total=20 empty=0 parseErr=0 matched=20

[36190] INFO: Sync from f8c43bba2010 ts=1766185684

[36191] INFO: Sync from f8c43bba2010 (after t=1766185684)

[36726] INFO: Sync from f8c43bba2010 ts=1766185684

[36727] INFO: Sync from f8c43bba2010 (after t=1766185684)

[36733] INFO: Sync response received: 260 bytes

[36734] INFO: Sync phase 1 batch 1/2

[36737] INFO: Loaded 20 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[36795] INFO: Duplicate message skipped (exact match): id=0001587f00000017 sender=Archer

[36796] INFO: Synced 1 messages

[37023] INFO: Sync response received: 257 bytes

[37454] INFO: Sync phase 1 batch 2/2

[37672] INFO: Message saved: id=0001c75b00000008 from=Rex village=a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[38574] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[38631] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[38632] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[38634] INFO: Phase 1 complete: 1 recent msgs

[38641] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[38700] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[38700] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[38701] INFO: Synced 1 messages

[40221] INFO: Sync response received: 260 bytes

[40222] INFO: Duplicate sync response ignored

[40230] INFO: Sync response received: 257 bytes

[40231] INFO: Duplicate sync response ignored

[59431] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[59491] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[59491] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[60785] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[60845] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[60845] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[61333] INFO: Sync request sent

[61347] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[61408] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[61408] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[61492] INFO: Sync from f8c43bba2010 ts=1766185714

[61493] INFO: Sync from f8c43bba2010 (after t=1766185714)

[61559] INFO: Batch updated 1 messages to status 3

[61695] INFO: Saved 21 total lines

[62100] INFO: Sync response received: 257 bytes

[62102] INFO: Sync phase 1 batch 1/1

[2223] INFO: ======== SYSTEM BOOT ========

[2223] INFO: Build: Dec 19 2025 15:05:27

[2223] INFO: System boot started

[2223] INFO: Build: v0.57.26

[7991] INFO: OTA Updater initialized, version: v0.57.26

[7991] INFO: OTA source: GitHub zacknorman-dev/SmallText

[9003] INFO: WiFi connected: 192.168.8.27

[9003] INFO: MQTT: Broker=mqtts://83f1da02f4574c7f9ffe4d23088c6b5c.s1.eu.hivemq.cloud:8883

[9004] INFO: MQTT: ClientID=smol_esp_f8c43bba2010_245

[9004] INFO: MQTT: User=smoltxt2

[9499] INFO: MQTT: TLS enabled with R12 certificate

[9499] INFO: MQTT: Config set - clean_session=true keepalive=60

[9500] INFO: MQTT messenger initialized

[9501] INFO: OTA: Boot update check

[11031] INFO: OTA: Already on latest version

[11084] INFO: Rebuilt message ID cache: 21 messages

[11198] INFO: MQTT: Subscribed to 1 villages

[11200] INFO: MQTT: Connected - subscribed to 1 villages

[13228] INFO: Sync request sent

[13228] INFO: MQTT: Boot sync requested for 1 villages

[13766] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[13975] INFO: Rebuilt message ID cache: 21 messages

[13980] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[14238] INFO: Rebuilt message ID cache: 21 messages

[14242] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[14455] INFO: Rebuilt message ID cache: 21 messages

[14758] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[14987] INFO: Rebuilt message ID cache: 21 messages

[14992] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[15202] INFO: Rebuilt message ID cache: 21 messages

[15908] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[16009] INFO: Rebuilt message ID cache: 21 messages

[16013] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[16126] INFO: Rebuilt message ID cache: 21 messages

[16130] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[16240] INFO: Rebuilt message ID cache: 21 messages

[16244] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[16353] INFO: Rebuilt message ID cache: 21 messages

[32921] INFO: Rebuilt message ID cache: 21 messages

[34418] INFO: Sync from e4cc3bba2010 ts=1766185714

[34962] INFO: Sync from e4cc3bba2010 (after t=1766185714)

[34963] INFO: Log buffer pruned, removed 125 old entries

[34983] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[35054] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[35054] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[35485] INFO: Sync: Sending 1 msgs to e4cc3bba2010

[35486] INFO: Sync phase 1: 1 msgs

[35492] INFO: Sync batch 1 sent

[36599] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[36658] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[36658] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[36664] INFO: Sync request sent

[36665] INFO: Periodic sync requested

[36875] INFO: Sync from f8c43bba2010 ts=1766185714

[36876] INFO: Sync from f8c43bba2010 (after t=1766185714)

[37440] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[37489] INFO: Sync response received: 257 bytes

[37490] INFO: Sync phase 1 batch 1/1

[37570] INFO: Duplicate message skipped (exact match): id=0001c75b00000008 sender=Rex

[39078] INFO: Sync: Sending 1 msgs to e4cc3bba2010

[39078] INFO: Sync phase 1: 1 msgs

[39084] INFO: Sync batch 1 sent

[40234] INFO: Skipping status update for 0003a37500000005 - current status 3 >= new status 2

[40255] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[40319] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[40319] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[41689] INFO: Skipping status update for 0004775b00000004 - current status 3 >= new status 2

[41708] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[41772] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[41772] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[42692] INFO: Skipping status update for 000593db00000007 - current status 3 >= new status 2

[42712] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[42775] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[42775] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[43694] INFO: Skipping status update for 000123e800000006 - current status 3 >= new status 2

[43713] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[44252] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[44252] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[45101] INFO: Sync from f8c43bba2010 ts=1766185714

[45101] INFO: Sync from f8c43bba2010 (after t=1766185714)

[45160] INFO: Sync response received: 257 bytes

[45161] INFO: Sync phase 1 batch 1/1

[45250] INFO: Duplicate message skipped (exact match): id=0001c75b00000008 sender=Rex

[45272] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[45338] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[45338] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[2210] INFO: ======== SYSTEM BOOT ========

[2211] INFO: Build: Dec 19 2025 15:05:27

[2211] INFO: System boot started

[2211] INFO: Build: v0.57.26

[7980] INFO: OTA Updater initialized, version: v0.57.26

[7980] INFO: OTA source: GitHub zacknorman-dev/SmallText

[11492] INFO: WiFi connected: 192.168.8.27

[11492] INFO: MQTT: Broker=mqtts://83f1da02f4574c7f9ffe4d23088c6b5c.s1.eu.hivemq.cloud:8883

[11492] INFO: MQTT: ClientID=smol_esp_f8c43bba2010_245

[11492] INFO: MQTT: User=smoltxt2

[11967] INFO: MQTT: TLS enabled with R12 certificate

[11968] INFO: MQTT: Config set - clean_session=true keepalive=60

[11969] INFO: MQTT messenger initialized

[11969] INFO: OTA: Boot update check

[13334] INFO: OTA: Already on latest version

[13537] INFO: Rebuilt message ID cache: 21 messages

[13649] INFO: MQTT: Subscribed to 1 villages

[13651] INFO: MQTT: Connected - subscribed to 1 villages

[15711] INFO: Sync request sent

[15711] INFO: MQTT: Boot sync requested for 1 villages

[16939] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[17092] INFO: Rebuilt message ID cache: 21 messages

[17096] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[17246] INFO: Rebuilt message ID cache: 21 messages

[17250] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[17394] INFO: Rebuilt message ID cache: 21 messages

[17398] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[17551] INFO: Rebuilt message ID cache: 21 messages

[17555] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[17709] INFO: Rebuilt message ID cache: 21 messages

[18199] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[18375] INFO: Rebuilt message ID cache: 21 messages

[18781] INFO: Username received: Archer (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[18951] INFO: Rebuilt message ID cache: 21 messages

[18957] INFO: Username received: Rex (Village ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[19127] INFO: Rebuilt message ID cache: 21 messages

[19131] INFO: Village name received: Chat (ID: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53)

[19318] INFO: Rebuilt message ID cache: 21 messages

[28709] INFO: Rebuilt message ID cache: 21 messages

[32382] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[32934] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[32934] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[32941] INFO: Sync request sent

[32941] INFO: Periodic sync requested

[32957] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[33019] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[33019] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[33025] INFO: Sync request sent

[33044] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[33105] INFO: File stats: total=21 empty=0 parseErr=0 matched=21

[33651] INFO: Loaded 21 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[33835] INFO: Sync from f8c43bba2010 ts=1766185714

[33836] INFO: Sync from f8c43bba2010 (after t=1766185714)

[34199] INFO: Sync from f8c43bba2010 ts=1766185714

[34199] INFO: Sync from f8c43bba2010 (after t=1766185714)

[34358] INFO: Sync response received: 257 bytes

[34360] INFO: Sync phase 1 batch 1/2

[34444] INFO: Duplicate message skipped (exact match): id=0001c75b00000008 sender=Rex

[34445] INFO: Synced 1 messages

[34474] INFO: Sync response received: 257 bytes

[35055] INFO: Sync phase 1 batch 2/2

[35056] INFO: Log buffer pruned, removed 125 old entries

[35246] INFO: Message saved: id=0000e3ff00000007 from=Rex village=a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[36118] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[36182] INFO: File stats: total=22 empty=0 parseErr=0 matched=22

[36825] INFO: Loaded 22 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[36828] INFO: Phase 1 complete: 1 recent msgs

[36834] INFO: Loading messages for village: a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[36895] INFO: File stats: total=22 empty=0 parseErr=0 matched=22

[36895] INFO: Loaded 22 messages for village a8a6bbe4-c81b-4636-97a5-63ec6a8e5d53

[36896] INFO: Synced 1 messages

[37327] INFO: Sync response received: 257 bytes

[37328] INFO: Duplicate sync response ignored

[37331] INFO: Sync response received: 257 bytes

[37333] INFO: Duplicate sync response ignored

[37759] INFO: Sync response received: 257 bytes

[37760] INFO: Duplicate sync response ignored


========== END LOG DUMP ==========


[Battery] Voltage: 4.10V, Percent: 90%
[KB-READ] readKey() called 70000 times

[Battery] Voltage: 4.10V, Percent: 89%
[KB-READ] readKey() called 80000 times

[App] Messaging screen timeout - clearing flag

[Battery] Voltage: 4.10V, Percent: 89%
[KB-READ] readKey() called 90000 times

[Battery] Voltage: 4.10V, Percent: 89%
[Battery] Voltage: 4.10V, Percent: 89%
[KB-READ] readKey() called 100000 times

[Battery] Voltage: 4.10V, Percent: 90%
[KB-READ] readKey() called 110000 times

[Battery] Voltage: 4.10V, Percent: 89%
[KB-READ] readKey() called 120000 times

[Battery] Voltage: 4.09V, Percent: 89%
[KB-READ] readKey() called 130000 times

[Battery] Voltage: 4.10V, Percent: 89%
[Battery] Voltage: 4.10V, Percent: 89%
[KB-READ] readKey() called 140000 times

